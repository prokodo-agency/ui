import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as t}from"./index-BKmLb0-U.js";import{o as U}from"./arrow_left_01_icon-mBX_xK_H.js";import{o as ee}from"./arrow_right_01_icon-CpaIVpYo.js";import{c as ae}from"./bem-8m21rGuV.js";import{H as G}from"./Headline-BfAaPODx.js";import{L as fe}from"./Lottie-D5tmKEqa.js";import{B as j}from"./Button-TU7w-2CZ.js";import{g as I}from"./Icon-CVcaS-Wp.js";import{C as ge}from"./Card-pB0vqGJF.js";import{L as J}from"./Link-BsNzT88X.js";import{I as Ce}from"./Image-BA0PgVcu.js";import"./create-hugeicon-component-BHumxRFO.js";import"./iframe-CPv8_bd4.js";import"../sb-preview/runtime.js";import"./validations-Dr5r3ha_.js";import"./Loading-DgjhTzxT.js";import"./Animated-BcZv_3Nz.js";import"./Skeleton-J2EO9TKM.js";import"./BaseLink-BS16D7JH.js";const ye="gradientMove",ke="fadeInKeyframe",ve={"prokodo-Carousel":"prokodo-Carousel","prokodo-Carousel--is-active":"prokodo-Carousel--is-active","prokodo-Carousel__wrapper":"prokodo-Carousel__wrapper","prokodo-Carousel__item":"prokodo-Carousel__item","prokodo-Carousel__mobile__tutorial":"prokodo-Carousel__mobile__tutorial","prokodo-Carousel__mobile__tutorial__animation":"prokodo-Carousel__mobile__tutorial__animation","prokodo-Carousel__mobile__tutorial--is-hidden":"prokodo-Carousel__mobile__tutorial--is-hidden","prokodo-Carousel__controls":"prokodo-Carousel__controls","prokodo-Carousel__button":"prokodo-Carousel__button","prokodo-Carousel__dots":"prokodo-Carousel__dots","prokodo-Carousel__dots__dot":"prokodo-Carousel__dots__dot","prokodo-Carousel__dots__dot--is-active":"prokodo-Carousel__dots__dot--is-active",gradientMove:ye,fadeInKeyframe:ke},P="NEXT",B="PREV",be=(i,l)=>{var o;l.current=((o=i.targetTouches[0])==null?void 0:o.clientX)??0},he=(i,l)=>{var o;l.current=((o=i.targetTouches[0])==null?void 0:o.clientX)??0},Ne=(i,l,o)=>{i.current-l.current>50&&o("NEXT"),i.current-l.current<-50&&o("PREV")},xe=(i,l)=>{l.current=i.clientX},Ve=(i,l,o,s)=>{o.current=i.clientX,l.current-o.current>50&&s("NEXT"),l.current-o.current<-50&&s("PREV")},m=ae(ve,"Carousel"),W=({ref:i,autoplay:l,enableControl:o,itemsToShow:s=1,className:E,classNameControls:p,classNameButtons:N,classNameWrapper:x,classNameItem:a,classNameDots:f,classNameDot:g,onKeyDown:_,onMouseEnter:y,onMouseLeave:V,onTouchEnd:w,onTouchMove:$,onTouchStart:L,onMouseDown:X,onMouseUp:z,children:re,...te})=>{const K=t.useRef(null),S=t.useRef(0),D=t.useRef(0),H=t.useRef(0),oe=t.useRef(0),[se,le]=t.useState(!0),[k,v]=t.useState(s),[ne,F]=t.useState(!1),[T,M]=t.useState(!!l),[h,C]=t.useState(!1),b=t.Children.toArray(re),[O,ie]=t.useState([]),d=b.length;t.useEffect(()=>{const e=[...b.slice(-s),...b,...b.slice(0,s)];e!==O&&(ie(e),v(s))},[s]),t.useEffect(()=>{const e=setTimeout(()=>{le(!1)},1500);return()=>clearTimeout(e)},[]);const c=t.useCallback(e=>{if(h)return;C(!0);let n=k;e===P?n=k+1:e===B&&(n=k-1),v(n),setTimeout(()=>{n>=d+s?(v(s),C(!1)):(n<s&&v(d),C(!1))},300)},[h,k,s,d]);t.useEffect(()=>{if(typeof l!="number"||l<=0)return;let e;return T&&(e=setInterval(()=>{c(P)},l)),()=>{clearInterval(e)}},[c,T,l]);const A=t.useCallback(e=>{if(h)return;C(!0);const n=e+s;v(n),setTimeout(()=>{n>=d+s?(v(n-d),C(!1)):(n<s&&v(d+n),C(!1))},300)},[h,s,d]);t.useImperativeHandle(i,()=>({slidePrev:()=>c(B),slideNext:()=>c(P),carouselContainer:K.current}));const ue=t.useCallback(e=>{y==null||y(e),M(!1)},[y]),de=t.useCallback(e=>{V==null||V(e),M(!0)},[V]),ce=()=>`translateX(${-k*(100/s)}%)`,me=t.useCallback(()=>d>0&&r.jsx("span",{className:m("dots",void 0,f),children:b.map((e,n)=>{const pe=n===(k-s+d)%d;return r.jsx("button",{tabIndex:0,className:m("dots__dot",{"is-active":pe},g),onClick:()=>A(n),onKeyDown:_e=>_e.key==="Enter"&&A(n)},`carousel-dot-${n}`)})}),[d,b,k,f,g,s,A]);return d===0?null:r.jsxs("div",{"aria-label":"Carousel",role:"button",tabIndex:0,...te,ref:K,className:m(void 0,{"is-active":ne},E),onMouseEnter:ue,onMouseLeave:de,onKeyDown:e=>{switch(_==null||_(e),e.key){case"ArrowLeft":c("NEXT");break;case"ArrowRight":c("PREV");break}},onMouseDown:e=>{X==null||X(e),xe(e,H),F(!0)},onMouseUp:e=>{z==null||z(e),Ve(e,H,oe,c),F(!1)},onTouchEnd:e=>{w==null||w(e),Ne(S,D,c)},onTouchMove:e=>{$==null||$(e),he(e,D)},onTouchStart:e=>{L==null||L(e),be(e,S)},children:[r.jsx("div",{className:m("wrapper",void 0,x),style:{transform:ce(),transition:h?"transform 0.3s ease-in-out":"none"},children:O.map((e,n)=>r.jsx("div",{className:m("item",void 0,a),style:{width:`${100/s}%`},children:e},`carousel-item-${n}`))}),r.jsx("div",{className:m("mobile__tutorial",{"is-hidden":!se}),children:r.jsx("div",{className:m("mobile__tutorial__animation"),children:r.jsx(fe,{animationName:"Swipe"})})}),r.jsxs("footer",{className:m("controls",void 0,p),children:[!!o&&r.jsx(j,{"aria-label":"Swipe one slide backwards",className:m("button",void 0,N),icon:r.jsx(U,{color:"white",size:I("md")}),variant:"outlined",onClick:()=>c(B)}),me(),!!o&&r.jsx(j,{"aria-label":"Swipe one slide forwards",className:m("button",void 0,N),icon:r.jsx(ee,{color:"white",size:I("md")}),variant:"outlined",onClick:()=>c(P)})]})]})};W.displayName="Carousel";try{W.displayName="Carousel",W.__docgenInfo={description:"",displayName:"Carousel",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<CarouselRef>"}},autoplay:{defaultValue:null,description:"",name:"autoplay",required:!1,type:{name:"number"}},enableControl:{defaultValue:null,description:"",name:"enableControl",required:!1,type:{name:"boolean"}},translateX:{defaultValue:null,description:"",name:"translateX",required:!1,type:{name:"string"}},itemStyle:{defaultValue:null,description:"",name:"itemStyle",required:!1,type:{name:"CSSProperties"}},itemsToShow:{defaultValue:{value:"1"},description:"",name:"itemsToShow",required:!1,type:{name:"number"}},classNameControls:{defaultValue:null,description:"",name:"classNameControls",required:!1,type:{name:"string"}},classNameButtons:{defaultValue:null,description:"",name:"classNameButtons",required:!1,type:{name:"string"}},classNameWrapper:{defaultValue:null,description:"",name:"classNameWrapper",required:!1,type:{name:"string"}},classNameItem:{defaultValue:null,description:"",name:"classNameItem",required:!1,type:{name:"string"}},classNameDots:{defaultValue:null,description:"",name:"classNameDots",required:!1,type:{name:"string"}},classNameDot:{defaultValue:null,description:"",name:"classNameDot",required:!1,type:{name:"string"}}}}}catch{}const Pe="gradientMove",qe="fadeInKeyframe",je={"prokodo-PostWidgetCarousel__carousel":"prokodo-PostWidgetCarousel__carousel","prokodo-PostWidgetCarousel__carousel__item__image__link":"prokodo-PostWidgetCarousel__carousel__item__image__link","prokodo-PostWidgetCarousel__carousel__item__image":"prokodo-PostWidgetCarousel__carousel__item__image","prokodo-PostWidgetCarousel__carousel__item__link":"prokodo-PostWidgetCarousel__carousel__item__link","prokodo-PostWidgetCarousel__carousel__dots":"prokodo-PostWidgetCarousel__carousel__dots","prokodo-PostWidgetCarousel__carousel__buttons":"prokodo-PostWidgetCarousel__carousel__buttons","prokodo-PostWidgetCarousel__headline":"prokodo-PostWidgetCarousel__headline",gradientMove:Pe,fadeInKeyframe:qe},u=ae(je,"PostWidgetCarousel"),R=t.memo(({autoplay:i,className:l,title:o,items:s=[],...E})=>{const p=t.useRef(null),[N,x]=t.useState(0);return t.useLayoutEffect(()=>{var g,_;const a=((_=(g=p==null?void 0:p.current)==null?void 0:g.carouselContainer)==null?void 0:_.offsetWidth)??0;x(a);const f=()=>{x(a)};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[p]),r.jsx("section",{itemScope:!0,className:u(void 0,void 0,l),itemType:"https://schema.org/ItemList",children:r.jsxs(ge,{animated:!0,enableShadow:!0,...E,className:u("card__container"),contentClassName:u("card"),variant:"white",children:[o&&r.jsx(G,{highlight:!0,size:"md",type:"h2",...o,className:u("title",o==null?void 0:o.className),itemProp:"headline",variant:"secondary",children:o==null?void 0:o.content}),s.length>0&&r.jsxs(t.Fragment,{children:[r.jsx(W,{ref:p,autoplay:i,className:u("carousel"),classNameDots:u("carousel__dots"),classNameItem:u("carousel__item"),itemsToShow:1,children:s.map(a=>{var g,_,y;const f=`carousel-item-${a.title}`;return r.jsxs(t.Fragment,{children:[(a==null?void 0:a.image)&&r.jsx(J,{"aria-label":`Read more about ${a.title.content}`,...a==null?void 0:a.redirect,className:u("carousel__item__image__link",void 0,(g=a==null?void 0:a.redirect)==null?void 0:g.className),style:{width:N},children:r.jsx(Ce,{className:u("carousel__item__image"),...a.image},f)}),r.jsx(J,{...a==null?void 0:a.redirect,"aria-label":`Read more about ${a.title.content}`,className:u("carousel__item__link"),children:r.jsx(G,{size:"md",type:"h3",...a.title,className:u("headline",(_=a.title)==null?void 0:_.className),itemProp:"headline",variant:"inherit",children:(y=a.title)==null?void 0:y.content})})]},f)})}),r.jsxs("div",{className:u("carousel__buttons"),children:[r.jsx(j,{"aria-label":"Last category",className:u("carousel__button"),color:"primary",icon:r.jsx(U,{size:I("sm")}),onClick:()=>{var a;return(a=p.current)==null?void 0:a.slidePrev()}}),r.jsx(j,{"aria-label":"Next category",className:u("carousel__button"),color:"primary",icon:r.jsx(ee,{size:I("sm")}),onClick:()=>{var a;return(a=p.current)==null?void 0:a.slideNext()}})]})]})]})})});R.displayName="PostWidgetCarousel";try{R.displayName="PostWidgetCarousel",R.__docgenInfo={description:"",displayName:"PostWidgetCarousel",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"(() => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"(() => void)"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"white"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},skeletonProps:{defaultValue:null,description:"",name:"skeletonProps",required:!1,type:{name:"SkeletonProps"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!1,type:{name:"boolean"}},gradiant:{defaultValue:null,description:"",name:"gradiant",required:!1,type:{name:"boolean"}},gradiantClassName:{defaultValue:null,description:"",name:"gradiantClassName",required:!1,type:{name:"string"}},enableShadow:{defaultValue:null,description:"",name:"enableShadow",required:!1,type:{name:"boolean"}},animated:{defaultValue:null,description:"",name:"animated",required:!1,type:{name:"boolean"}},customAnimation:{defaultValue:null,description:"",name:"customAnimation",required:!1,type:{name:"enum",value:[{value:'"bottom-top"'},{value:'"top-bottom"'},{value:'"left-right"'},{value:'"right-left"'}]}},contentClassName:{defaultValue:null,description:"",name:"contentClassName",required:!1,type:{name:"string"}},background:{defaultValue:null,description:"",name:"background",required:!1,type:{name:"CardBackground"}},backgroundProps:{defaultValue:null,description:"",name:"backgroundProps",required:!1,type:{name:"CardBackgroundProps"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"LinkProps"}},autoplay:{defaultValue:null,description:"",name:"autoplay",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"PostWidgetCarouselHeadline"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"PostWidgetCarouselItem[]"}}}}}catch{}const Qe={title:"prokodo/common/PostWidgetCarousel",component:R,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{variant:{options:["inherit","primary","secondary","error","info","success","warning","white"],control:{type:"select"}}}},Ie=[{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"Technology"},redirect:{href:"#"}},{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"App"},redirect:{href:"#"}},{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"Internal"},redirect:{href:"#"}}],q={args:{title:{content:"Categories"},items:Ie}};var Q,Y,Z;q.parameters={...q.parameters,docs:{...(Q=q.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    title: {
      content: "Categories"
    },
    items
  }
}`,...(Z=(Y=q.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};const Ye=["Default"];export{q as Default,Ye as __namedExportsOrder,Qe as default};
