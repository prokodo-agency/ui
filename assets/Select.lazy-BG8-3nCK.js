var _=Object.defineProperty;var n=(t,l)=>_(t,"name",{value:l,configurable:true});import{c as k}from"./createLazyWrapper-D1NyvZjw.js";import{j as B}from"./jsx-runtime-CGXnEs--.js";import{r as a}from"./index-DGnhqvo7.js";import{a as T,b as h}from"./Select-BBczYKmm.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-qNiEo5kq.js";import"../sb-preview/runtime.js";import"./createIsland-CYXQRK9I.js";import"./Label-jfDotQ8L.js";import"./bem-DSWMYwqE.js";function N(t){return Array.isArray(t)}n(N,"isMulti");function x(t,l,u=false){return u?(()=>{const r=new Set(N(t)?t:[]);r.has(l)?r.delete(l):r.add(l);return[...r]})():l}n(x,"mergeValue");function f({id:t,multiple:l,disabled:u,required:r,value:d,items:g,onChange:m,...v}){const i=a.useRef(null);const y=a.useRef(null);const[o,p]=a.useState(false);const[V,b]=a.useState(d??(Boolean(l)?[]:""));a.useEffect(()=>{b(d??(Boolean(l)?[]:""))},[d,l]);const c=a.useCallback(()=>{var e;p(false);(e=i==null?void 0:i.current)==null?void 0:e.focus()},[]);const L=a.useCallback(()=>p(e=>!e),[]);a.useEffect(()=>{if(!o)return;const e=n(s=>{var q,S;if(!Boolean((q=y.current)==null?void 0:q.contains(s.target))&&!Boolean((S=i.current)==null?void 0:S.contains(s.target))){c()}},"handleOutside");window.addEventListener("click",e);return()=>window.removeEventListener("click",e)},[o,c]);const C=n(e=>{if(Boolean(u))return;if(e.key==="Escape"){e.preventDefault();c()}if(e.key==="ArrowDown"&&!o){e.preventDefault();p(true)}},"handleKey");const E=n(e=>{const s=e===null?Boolean(l)?[]:"":x(V,e,l);b(s);m==null?void 0:m(null,s);if(!Boolean(l))c()},"clickOption");return B.jsx(T,{...v,disabled:u,id:t,items:g,multiple:l,required:r,value:V,_clientState:{open:o,buttonRef:i,listRef:y,onButtonClick:L,onButtonKey:C,onOptionClick:E}})}n(f,"SelectClient");const w=a.memo(f);try{f.displayName="SelectClient";f.__docgenInfo={"description":"","displayName":"SelectClient","props":{"id":{"defaultValue":null,"description":"","name":"id","required":true,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"","name":"name","required":false,"type":{"name":"string"}},"items":{"defaultValue":null,"description":"","name":"items","required":true,"type":{"name":"SelectItem<Value>[]"}},"multiple":{"defaultValue":null,"description":"","name":"multiple","required":false,"type":{"name":"boolean"}},"disabled":{"defaultValue":null,"description":"","name":"disabled","required":false,"type":{"name":"boolean"}},"required":{"defaultValue":null,"description":"","name":"required","required":false,"type":{"name":"boolean"}},"value":{"defaultValue":null,"description":"","name":"value","required":false,"type":{"name":"string | Value[] | null"}},"placeholder":{"defaultValue":null,"description":"","name":"placeholder","required":false,"type":{"name":"string"}},"onChange":{"defaultValue":null,"description":"","name":"onChange","required":false,"type":{"name":"((e: SelectEvent, v: SelectValue<string>) => void)"}},"label":{"defaultValue":null,"description":"","name":"label","required":true,"type":{"name":"string"}},"hideLabel":{"defaultValue":null,"description":"","name":"hideLabel","required":false,"type":{"name":"boolean"}},"iconVisible":{"defaultValue":null,"description":"","name":"iconVisible","required":false,"type":{"name":"boolean"}},"helperText":{"defaultValue":null,"description":"","name":"helperText","required":false,"type":{"name":"string"}},"errorText":{"defaultValue":null,"description":"","name":"errorText","required":false,"type":{"name":"string"}},"className":{"defaultValue":null,"description":"","name":"className","required":false,"type":{"name":"string"}},"fieldClassName":{"defaultValue":null,"description":"","name":"fieldClassName","required":false,"type":{"name":"string"}},"selectClassName":{"defaultValue":null,"description":"","name":"selectClassName","required":false,"type":{"name":"string"}},"labelProps":{"defaultValue":null,"description":"","name":"labelProps","required":false,"type":{"name":"DetailedHTMLProps<LabelHTMLAttributes<HTMLLabelElement>, HTMLLabelElement>"}},"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<HTMLSelectElement>"}}}}}catch(t){}const W=k({name:"Select",Client:w,Server:h,isInteractive:n(()=>true,"isInteractive")});export{W as default};
