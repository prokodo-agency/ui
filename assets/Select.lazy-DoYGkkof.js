var B=Object.defineProperty;var n=(t,l)=>B(t,"name",{value:l,configurable:true});import{c as E}from"./createLazyWrapper-AC75M60Y.js";import{j as h}from"./jsx-runtime-CGXnEs--.js";import{r as a}from"./index-DGnhqvo7.js";import{a as N,b as x}from"./Select-DYrpy9Gd.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-CWVqMGSv.js";import"../sb-preview/runtime.js";import"./createIsland-fzL0F2Ul.js";import"./Label-DSHguxSj.js";import"./bem-DSWMYwqE.js";function L(t){return Array.isArray(t)}n(L,"isMulti");function w(t,l,u=false){return u?(()=>{const r=new Set(L(t)?t:[]);r.has(l)?r.delete(l):r.add(l);return[...r]})():l}n(w,"mergeValue");function m({id:t,multiple:l,disabled:u,required:r,value:d,items:g,onChange:p,...v}){const i=a.useRef(null);const y=a.useRef(null);const[o,f]=a.useState(false);const[V,q]=a.useState(d??(Boolean(l)?[]:""));a.useEffect(()=>{q(d??(Boolean(l)?[]:""))},[d,l]);const c=a.useCallback(()=>{var e;f(false);(e=i==null?void 0:i.current)==null?void 0:e.focus()},[]);const C=a.useCallback(()=>f(e=>!e),[]);a.useEffect(()=>{if(!o)return;const e=n(s=>{var b,S;if(!Boolean((b=y.current)==null?void 0:b.contains(s.target))&&!Boolean((S=i.current)==null?void 0:S.contains(s.target))){c()}},"handleOutside");window.addEventListener("click",e);return()=>window.removeEventListener("click",e)},[o,c]);const _=n(e=>{if(Boolean(u))return;if(e.key==="Escape"){e.preventDefault();c()}if(e.key==="ArrowDown"&&!o){e.preventDefault();f(true)}},"handleKey");const k=n(e=>{const s=e===null?Boolean(l)?[]:"":w(V,e,l);q(s);p==null?void 0:p(null,s);if(!Boolean(l))c()},"clickOption");return h.jsx(N,{...v,disabled:u,id:t,items:g,multiple:l,required:r,value:V,_clientState:{open:o,buttonRef:i,listRef:y,onButtonClick:C,onButtonKey:_,onOptionClick:k}})}n(m,"SelectClient");const R=a.memo(m);try{m.displayName="SelectClient";m.__docgenInfo={"description":"","displayName":"SelectClient","props":{"id":{"defaultValue":null,"description":"","name":"id","required":true,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"","name":"name","required":false,"type":{"name":"string"}},"items":{"defaultValue":null,"description":"","name":"items","required":true,"type":{"name":"SelectItem<Value>[]"}},"multiple":{"defaultValue":null,"description":"","name":"multiple","required":false,"type":{"name":"boolean"}},"disabled":{"defaultValue":null,"description":"","name":"disabled","required":false,"type":{"name":"boolean"}},"required":{"defaultValue":null,"description":"","name":"required","required":false,"type":{"name":"boolean"}},"value":{"defaultValue":null,"description":"","name":"value","required":false,"type":{"name":"string | Value[] | null"}},"placeholder":{"defaultValue":null,"description":"","name":"placeholder","required":false,"type":{"name":"string"}},"onChange":{"defaultValue":null,"description":"","name":"onChange","required":false,"type":{"name":"((e: SelectEvent, v: SelectValue<string>) => void)"}},"label":{"defaultValue":null,"description":"","name":"label","required":true,"type":{"name":"string"}},"hideLabel":{"defaultValue":null,"description":"","name":"hideLabel","required":false,"type":{"name":"boolean"}},"iconVisible":{"defaultValue":null,"description":"","name":"iconVisible","required":false,"type":{"name":"boolean"}},"helperText":{"defaultValue":null,"description":"","name":"helperText","required":false,"type":{"name":"string"}},"errorText":{"defaultValue":null,"description":"","name":"errorText","required":false,"type":{"name":"string"}},"className":{"defaultValue":null,"description":"","name":"className","required":false,"type":{"name":"string"}},"fieldClassName":{"defaultValue":null,"description":"","name":"fieldClassName","required":false,"type":{"name":"string"}},"selectClassName":{"defaultValue":null,"description":"","name":"selectClassName","required":false,"type":{"name":"string"}},"labelProps":{"defaultValue":null,"description":"","name":"labelProps","required":false,"type":{"name":"LabelProps"}},"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<HTMLSelectElement>"}}}}}catch(t){}const W=E({name:"Select",Client:R,Server:x,isInteractive:n(()=>true,"isInteractive")});export{W as default};
