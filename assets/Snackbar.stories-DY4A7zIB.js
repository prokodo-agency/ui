const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Snackbar.lazy-DyMHQ7oE.js","./createLazyWrapper-AC75M60Y.js","./jsx-runtime-CGXnEs--.js","./index-DGnhqvo7.js","./_commonjsHelpers-DRKe4gOT.js","./iframe-Ck3Hdaj9.js","./createIsland-fzL0F2Ul.js","./bem-DSWMYwqE.js","./SnackbarProvider.lazy-PYksD96K.js"])))=>i.map(i=>d[i]);
var Z=Object.defineProperty;var r=(e,l)=>Z(e,"name",{value:l,configurable:true});import{j as a}from"./jsx-runtime-CGXnEs--.js";import{_ as J}from"./iframe-Ck3Hdaj9.js";import{c as X}from"./createIsland-fzL0F2Ul.js";import{c as F}from"./bem-DSWMYwqE.js";import{r as c}from"./index-DGnhqvo7.js";const ee="gradientMove";const re="fadeInKeyframe";const Q={"prokodo-Snackbar":"prokodo-Snackbar","prokodo-Snackbar--success":"prokodo-Snackbar--success","prokodo-Snackbar--error":"prokodo-Snackbar--error","prokodo-Snackbar--warning":"prokodo-Snackbar--warning","prokodo-Snackbar--info":"prokodo-Snackbar--info","prokodo-Snackbar__message":"prokodo-Snackbar__message","prokodo-Snackbar__action":"prokodo-Snackbar__action","prokodo-Snackbar__close":"prokodo-Snackbar__close","prokodo-Snackbar--readonly":"prokodo-Snackbar--readonly","prokodo-SnackbarProvider":"prokodo-SnackbarProvider","prokodo-SnackbarProvider--is-top":"prokodo-SnackbarProvider--is-top","prokodo-SnackbarProvider--is-bottom":"prokodo-SnackbarProvider--is-bottom","prokodo-SnackbarProvider--is-left":"prokodo-SnackbarProvider--is-left","prokodo-SnackbarProvider--is-right":"prokodo-SnackbarProvider--is-right","prokodo-SnackbarProvider__snackbar":"prokodo-SnackbarProvider__snackbar","prokodo-SnackbarProvider__snackbar--is-top":"prokodo-SnackbarProvider__snackbar--is-top","prokodo-SnackbarProvider__snackbar--is-bottom":"prokodo-SnackbarProvider__snackbar--is-bottom","prokodo-SnackbarProvider__snackbar--is-left":"prokodo-SnackbarProvider__snackbar--is-left","prokodo-SnackbarProvider__snackbar--is-right":"prokodo-SnackbarProvider__snackbar--is-right",gradientMove:ee,fadeInKeyframe:re};const P=F(Q,"Snackbar");function q({message:e,variant:l="default",anchorOrigin:f={vertical:"bottom",horizontal:"center"},action:S,closeable:g=true,elevation:h=10,className:_,onClose:i,readOnly:D}){const y=f;return a.jsxs("div",{"aria-live":"polite",role:"status",style:{zIndex:h},className:P(void 0,{[l]:true,readonly:Boolean(D),[y.vertical]:true,[y.horizontal]:true},_),children:[a.jsx("span",{className:P("message"),children:e}),S!==void 0&&a.jsx("span",{className:P("action"),children:S}),g&&a.jsx("button",{"aria-label":"Close",className:P("close"),type:"button",onClick:r(()=>i==null?void 0:i("closeIcon"),"onClick"),children:a.jsx("span",{"aria-hidden":"true",children:"×"})})]})}r(q,"SnackbarView");try{q.displayName="SnackbarView";q.__docgenInfo={"description":"","displayName":"SnackbarView","props":{"onClose":{"defaultValue":null,"description":"Hydration wrapper passes this when toast still interactive","name":"onClose","required":false,"type":{"name":"SnackbarCloseHandler"}},"readOnly":{"defaultValue":null,"description":"When server‑rendered we add readOnly","name":"readOnly","required":false,"type":{"name":"boolean"}},"className":{"defaultValue":null,"description":"Extra className on the root element","name":"className","required":false,"type":{"name":"string"}},"variant":{"defaultValue":{value:"default"},"description":"Visual style","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"default"'}]}},"action":{"defaultValue":null,"description":"Optional custom action (e.g. “UNDO” button)","name":"action","required":false,"type":{"name":"ReactNode"}},"anchorOrigin":{"defaultValue":{value:'{ vertical: "bottom", horizontal: "center" }'},"description":'Screen position. Default **{ vertical: "bottom", horizontal: "center" }**',"name":"anchorOrigin","required":false,"type":{"name":"SnackbarAnchorOrigin"}},"message":{"defaultValue":null,"description":"Text or JSX to display","name":"message","required":true,"type":{"name":"ReactNode"}},"autoHideDuration":{"defaultValue":null,"description":"Auto‑dismiss time‑out in **ms** (0 = never). Default **6000ms**","name":"autoHideDuration","required":false,"type":{"name":"number"}},"closeable":{"defaultValue":{value:"true"},"description":"Show × close icon","name":"closeable","required":false,"type":{"name":"boolean"}},"elevation":{"defaultValue":{value:"10"},"description":"z‑index (if you have modals etc.)","name":"elevation","required":false,"type":{"name":"number"}}}}}catch(e){}function ae(e){if(!Boolean(e.open))return null;return a.jsx(q,{...e,readOnly:true})}r(ae,"SnackbarServer");try{Snackbarserver.displayName="Snackbarserver";Snackbarserver.__docgenInfo={"description":"Server‑render *only* if `open` is true so first paint shows the toast.","displayName":"Snackbarserver","props":{"message":{"defaultValue":null,"description":"Text or JSX to display","name":"message","required":true,"type":{"name":"ReactNode"}},"open":{"defaultValue":null,"description":"Whether the snackbar is open – *controlled* prop.","name":"open","required":false,"type":{"name":"boolean"}},"autoHideDuration":{"defaultValue":null,"description":"Auto‑dismiss time‑out in **ms** (0 = never). Default **6000ms**","name":"autoHideDuration","required":false,"type":{"name":"number"}},"variant":{"defaultValue":null,"description":"Visual style","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"default"'}]}},"anchorOrigin":{"defaultValue":null,"description":'Screen position. Default **{ vertical: "bottom", horizontal: "center" }**',"name":"anchorOrigin","required":false,"type":{"name":"SnackbarAnchorOrigin"}},"action":{"defaultValue":null,"description":"Optional custom action (e.g. “UNDO” button)","name":"action","required":false,"type":{"name":"ReactNode"}},"closeable":{"defaultValue":null,"description":"Show × close icon","name":"closeable","required":false,"type":{"name":"boolean"}},"elevation":{"defaultValue":null,"description":"z‑index (if you have modals etc.)","name":"elevation","required":false,"type":{"name":"number"}},"onClose":{"defaultValue":null,"description":"Callback fired on close","name":"onClose","required":false,"type":{"name":"SnackbarCloseHandler"}},"className":{"defaultValue":null,"description":"Extra className on the root element","name":"className","required":false,"type":{"name":"string"}}}}}catch(e){}const G=X({name:"Snackbar",Server:ae,loadLazy:r(()=>J(()=>import("./Snackbar.lazy-DyMHQ7oE.js"),true?__vite__mapDeps([0,1,2,3,4,5,6,7]):void 0,import.meta.url),"loadLazy")});const oe=X({name:"SnackbarProvider",Server:r(({children:e})=>a.jsx(a.Fragment,{children:e}),"Server"),loadLazy:r(()=>J(()=>import("./SnackbarProvider.lazy-PYksD96K.js"),true?__vite__mapDeps([8,2,1,3,4,5,6,7]):void 0,import.meta.url),"loadLazy"),isInteractive:r(()=>true,"isInteractive")});const Y=c.createContext({enqueue:r(()=>"","enqueue"),close:r(()=>{},"close")});const N=F(Q,"SnackbarProvider");function ne(){return c.useContext(Y)}r(ne,"useSnackbar");function be({className:e,maxSnack:l=3,anchorOrigin:f={vertical:"bottom",horizontal:"center"},children:S}){const[g,h]=c.useState([]);const _=c.useCallback(o=>{const n=o.id??`snk_${crypto.randomUUID()}`;h(t=>{const s=[...t,{...o,id:n,anchorOrigin:o.anchorOrigin??f}];return s.length>l?s.slice(1):s});return n},[l,f]);const i=c.useCallback(o=>{h(n=>n.filter(t=>t.id!==o))},[]);const D=c.useMemo(()=>({enqueue:_,close:i}),[_,i]);const y=c.useMemo(()=>g.reduce((o,n)=>{var s,u;const t=`${(s=n.anchorOrigin)==null?void 0:s.vertical}-${(u=n.anchorOrigin)==null?void 0:u.horizontal}`;(o[t]??(o[t]=[])).push(n);return o},{}),[g]);return a.jsxs(Y.Provider,{value:D,children:[S,Object.entries(y).map(([o,n])=>{var O;const{vertical:t,horizontal:s}=(O=n[0])==null?void 0:O.anchorOrigin;const u={[`is-${t}`]:true,[`is-${s}`]:true};return a.jsx("div",{className:N(void 0,u,e),children:n.map(x=>a.jsx(G,{...x,open:true,className:N("snackbar",u,x.className),onClose:r(()=>i(x.id),"onClose")},x.id))},o)})]})}r(be,"SnackbarProvider");try{SnackbarProviderclient.displayName="SnackbarProviderclient";SnackbarProviderclient.__docgenInfo={"description":"","displayName":"SnackbarProviderclient","props":{"className":{"defaultValue":null,"description":"","name":"className","required":false,"type":{"name":"string"}},"maxSnack":{"defaultValue":{value:"3"},"description":"Max snackbars shown at once (oldest auto-closed).","name":"maxSnack","required":false,"type":{"name":"number"}},"anchorOrigin":{"defaultValue":{value:'{ vertical: "bottom", horizontal: "center" }'},"description":"Default anchor for every snackbar (overridable per payload).","name":"anchorOrigin","required":false,"type":{"name":'{ vertical: "top" | "bottom"; horizontal: "left" | "center" | "right"; }'}}}}}catch(e){}const te={title:"prokodo/feedback/Snackbar",component:G,parameters:{layout:"centered",docs:{description:{component:"Transient feedback toast. Wrapped in a **`SnackbarProvider`** so each story can also enqueue multiple messages."}}},tags:["autodocs"],decorators:[e=>a.jsx(oe,{maxSnack:4,children:a.jsx(e,{})})],argTypes:{message:{control:"text"},open:{control:"boolean"},autoHideDuration:{control:{type:"number",min:0,step:500}},variant:{control:"select",options:["default","success","error","warning","info"]},anchorOrigin:{table:{disable:true}},action:{table:{disable:true}},closeable:{control:"boolean"},elevation:{control:{type:"number",min:1,step:1}},className:{table:{disable:true}},onClose:{action:"closed",table:{disable:true}}}};const d={args:{open:true,message:"Saved successfully"}};const p={args:{open:true,message:"Changes applied",variant:"success",autoHideDuration:3e3}};const m={args:{open:true,message:"Something went wrong",variant:"error",closeable:true}};const b={args:{open:true,message:"Item deleted",variant:"info",action:a.jsx("button",{onClick:r(()=>alert("Undo!"),"onClick"),children:"UNDO"}),closeable:true}};const k={args:{open:true,message:"I appear top-left",anchorOrigin:{vertical:"top",horizontal:"left"}}};function se(){const{enqueue:e}=ne();return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.jsx("button",{onClick:r(()=>e({message:"Default message",variant:"default"}),"onClick"),children:"Show default"}),a.jsx("button",{onClick:r(()=>e({message:"Success!",variant:"success",autoHideDuration:2500}),"onClick"),children:"Enqueue success"}),a.jsx("button",{onClick:r(()=>e({message:"Oops, an error occurred",variant:"error",closeable:true}),"onClick"),children:"Enqueue error (closeable)"})]})}r(se,"ProviderDemoComponent");const v={args:{open:false,message:""},render:r(()=>a.jsx(se,{}),"render"),parameters:{docs:{description:{story:"Demonstrates the `SnackbarProvider` queue: click the buttons to stack up to four snackbars."}}}};var V,C,j;d.parameters={...d.parameters,docs:{...(V=d.parameters)==null?void 0:V.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Saved successfully"\n  }\n}',...(j=(C=d.parameters)==null?void 0:C.docs)==null?void 0:j.source}}};var w,I,z;p.parameters={...p.parameters,docs:{...(w=p.parameters)==null?void 0:w.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Changes applied",\n    variant: "success",\n    autoHideDuration: 3000\n  }\n}',...(z=(I=p.parameters)==null?void 0:I.docs)==null?void 0:z.source}}};var E,H,T;m.parameters={...m.parameters,docs:{...(E=m.parameters)==null?void 0:E.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Something went wrong",\n    variant: "error",\n    closeable: true\n  }\n}',...(T=(H=m.parameters)==null?void 0:H.docs)==null?void 0:T.source}}};var A,U,M;b.parameters={...b.parameters,docs:{...(A=b.parameters)==null?void 0:A.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Item deleted",\n    variant: "info",\n    action: <button onClick={() => alert("Undo!")}>UNDO</button>,\n    closeable: true\n  }\n}',...(M=(U=b.parameters)==null?void 0:U.docs)==null?void 0:M.source}}};var R,W,$;k.parameters={...k.parameters,docs:{...(R=k.parameters)==null?void 0:R.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "I appear top-left",\n    anchorOrigin: {\n      vertical: "top",\n      horizontal: "left"\n    }\n  }\n}',...($=(W=k.parameters)==null?void 0:W.docs)==null?void 0:$.source}}};var L,K,B;v.parameters={...v.parameters,docs:{...(L=v.parameters)==null?void 0:L.docs,source:{originalSource:'{\n  args: {\n    open: false,\n    // not rendered\n    message: "" // not rendered\n  },\n  render: () => <ProviderDemoComponent />,\n  parameters: {\n    docs: {\n      description: {\n        story: "Demonstrates the `SnackbarProvider` queue: click the buttons to stack up to four snackbars."\n      }\n    }\n  }\n}',...(B=(K=v.parameters)==null?void 0:K.docs)==null?void 0:B.source}}};const ie=["Default","Success","ErrorWithCloseIcon","WithAction","TopLeft","ProviderDemo"];const ke=Object.freeze(Object.defineProperty({__proto__:null,Default:d,ErrorWithCloseIcon:m,ProviderDemo:v,Success:p,TopLeft:k,WithAction:b,__namedExportsOrder:ie,default:te},Symbol.toStringTag,{value:"Module"}));export{be as S,q as a,ae as b,ke as c};
