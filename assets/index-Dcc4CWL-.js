var ja=Object.defineProperty;var o=(l,a)=>ja(l,"name",{value:a,configurable:true});import{R as Ee,r as P}from"./index-DGnhqvo7.js";import"./_commonjsHelpers-DRKe4gOT.js";var Oa=Object.create;var qt=Object.defineProperty;var za=Object.getOwnPropertyDescriptor;var Gt=Object.getOwnPropertyNames;var Ua=Object.getPrototypeOf;var Ba=Object.prototype.hasOwnProperty;var Ha=o((l,a)=>o(function s(){return a||(0,l[Gt(l)[0]])((a={exports:{}}).exports,a),a.exports},"__require"),"__commonJS");var Va=o((l,a,s,i)=>{if(a&&typeof a==="object"||typeof a==="function"){for(let _ of Gt(a))if(!Ba.call(l,_)&&_!==s)qt(l,_,{get:o(()=>a[_],"get"),enumerable:!(i=za(a,_))||i.enumerable})}return l},"__copyProps");var Ya=o((l,a,s)=>(s=l!=null?Oa(Ua(l)):{},Va(qt(s,"default",{value:l,enumerable:true}),l)),"__toESM");var Na=Ha({"../../node_modules/.pnpm/debounce@2.0.0/node_modules/debounce/index.js"(l,a){function s(i,_=100,w={}){if(typeof i!=="function"){throw new TypeError(`Expected the first parameter to be a function, got \`${typeof i}\`.`)}if(_<0){throw new RangeError("`wait` must not be negative.")}const{immediate:x}=typeof w==="boolean"?{immediate:w}:w;let F;let D;let b;let W;let j;function U(){const y=Date.now()-W;if(y<_&&y>=0){b=setTimeout(U,_-y)}else{b=void 0;if(!x){const I=F;const L=D;F=void 0;D=void 0;j=i.apply(I,L)}}}o(U,"later");const Y=o(function(...y){if(F&&this!==F){throw new Error("Debounced method called with different contexts.")}F=this;D=y;W=Date.now();const I=x&&!b;if(!b){b=setTimeout(U,_)}if(I){const L=F;const B=D;F=void 0;D=void 0;j=i.apply(L,B)}return j},"debounced");Y.clear=()=>{if(!b){return}clearTimeout(b);b=void 0};Y.flush=()=>{if(!b){return}const y=F;const I=D;F=void 0;D=void 0;j=i.apply(y,I);clearTimeout(b);b=void 0};return Y}o(s,"debounce2");a.exports.debounce=s;a.exports=s}});var qa=Object.defineProperty;var Ga=o((l,a,s)=>a in l?qa(l,a,{enumerable:true,configurable:true,writable:true,value:s}):l[a]=s,"$n");var $=o((l,a,s)=>Ga(l,typeof a!="symbol"?a+"":a,s),"C");var le;var Ja=(le=class{requestAnimationFrame(a){return requestAnimationFrame(a)}cancelAnimationFrame(a){cancelAnimationFrame(a)}},o(le,"Ke"),le);var ue;var Ka=(ue=class{constructor(){$(this,"_lastHandleId",0);$(this,"_lastImmediate",null)}requestAnimationFrame(a){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{a(Date.now())}),this._lastHandleId}cancelAnimationFrame(a){this._lastImmediate&&clearImmediate(this._lastImmediate)}},o(ue,"Xe"),ue);var de;var Qa=(de=class{constructor(){$(this,"_strategy");this._strategy=typeof requestAnimationFrame=="function"?new Ja:new Ka}requestAnimationFrame(a){return this._strategy.requestAnimationFrame(a)}cancelAnimationFrame(a){this._strategy.cancelAnimationFrame(a)}},o(de,"Pe"),de);var oe=typeof window<"u"&&typeof window.document<"u";var We={name:"@lottiefiles/dotlottie-web",version:"0.28.0"};var Xa=(()=>{var a;var l=typeof document<"u"?(a=document.currentScript)==null?void 0:a.src:void 0;return function(s={}){var i=s,_,w,x=new Promise((e,t)=>{_=e,w=t}),F=Object.assign({},i),D="./this.program",b="";typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),l&&(b=l),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1);var W=i.print||console.log.bind(console),j=i.printErr||console.error.bind(console);Object.assign(i,F),F=null,i.thisProgram&&(D=i.thisProgram);var U;i.wasmBinary&&(U=i.wasmBinary);var Y,y=false,I,L,B,N,T,S,fe,ut;function dt(){var e=Y.buffer;i.HEAP8=I=new Int8Array(e),i.HEAP16=B=new Int16Array(e),i.HEAPU8=L=new Uint8Array(e),i.HEAPU16=N=new Uint16Array(e),i.HEAP32=T=new Int32Array(e),i.HEAPU32=S=new Uint32Array(e),i.HEAPF32=fe=new Float32Array(e),i.HEAPF64=ut=new Float64Array(e)}o(dt,"it");var ct=[],mt=[],pt=[];function Xt(){var e=i.preRun.shift();ct.unshift(e)}o(Xt,"Vt");var re=0,ve=null;function Fe(e){var t;throw(t=i.onAbort)==null?void 0:t.call(i,e),e="Aborted("+e+")",j(e),y=true,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),w(e),e}o(Fe,"_e");var ft=o(e=>e.startsWith("data:application/octet-stream;base64,"),"ut"),se;if(se="DotLottiePlayer.wasm",!ft(se)){var vt=se;se=i.locateFile?i.locateFile(vt,b):b+vt}function _t(e){if(e==se&&U)return new Uint8Array(U);throw"both async and sync fetching of the wasm failed"}o(_t,"ht");function Zt(e){return U||typeof fetch!="function"?Promise.resolve().then(()=>_t(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>_t(e))}o(Zt,"Yt");function gt(e,t,r){return Zt(e).then(n=>WebAssembly.instantiate(n,t)).then(r,n=>{j(`failed to asynchronously prepare wasm: ${n}`),Fe(n)})}o(gt,"ct");function ea(e,t){var r=se;return U||typeof WebAssembly.instantiateStreaming!="function"||ft(r)||typeof fetch!="function"?gt(r,e,t):fetch(r,{credentials:"same-origin"}).then(n=>WebAssembly.instantiateStreaming(n,e).then(t,function(h){return j(`wasm streaming compile failed: ${h}`),j("falling back to ArrayBuffer instantiation"),gt(r,e,t)}))}o(ea,"Nt");var Oe=o(e=>{for(;0<e.length;)e.shift()(i)},"xe"),wt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ne=o((e,t,r)=>{var n=t+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&wt)return wt.decode(e.subarray(t,r));for(n="";t<r;){var h=e[t++];if(h&128){var u=e[t++]&63;if((h&224)==192)n+=String.fromCharCode((h&31)<<6|u);else{var m=e[t++]&63;h=(h&240)==224?(h&15)<<12|u<<6|m:(h&7)<<18|u<<12|m<<6|e[t++]&63,65536>h?n+=String.fromCharCode(h):(h-=65536,n+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else n+=String.fromCharCode(h)}return n},"q");const nt=class nt{constructor(t){this.ya=t-24}};o(nt,"Gt");let ze=nt;var yt=0,Ct=o(e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},"ft"),Lt=o((e,t,r,n)=>{if(0<n){n=r+n-1;for(var h=0;h<e.length;++h){var u=e.charCodeAt(h);if(55296<=u&&57343>=u){var m=e.charCodeAt(++h);u=65536+((u&1023)<<10)|m&1023}if(127>=u){if(r>=n)break;t[r++]=u}else{if(2047>=u){if(r+1>=n)break;t[r++]=192|u>>6}else{if(65535>=u){if(r+2>=n)break;t[r++]=224|u>>12}else{if(r+3>=n)break;t[r++]=240|u>>18,t[r++]=128|u>>12&63}t[r++]=128|u>>6&63}t[r++]=128|u&63}}t[r]=0}},"vt"),Se={},Ue=o(e=>{for(;e.length;){var t=e.pop();e.pop()(t)}},"Te");function _e(e){return this.fromWireType(S[e>>2])}o(_e,"se");var he={},ie={},Pe={},ge,te=o((e,t,r)=>{function n(c){if(c=r(c),c.length!==e.length)throw new ge("Mismatched type converter count");for(var f=0;f<e.length;++f)J(e[f],c[f])}o(n,"i");e.forEach(function(c){Pe[c]=t});var h=Array(t.length),u=[],m=0;t.forEach((c,f)=>{ie.hasOwnProperty(c)?h[f]=ie[c]:(u.push(c),he.hasOwnProperty(c)||(he[c]=[]),he[c].push(()=>{h[f]=ie[c],++m,m===u.length&&n(h)}))}),u.length===0&&n(h)},"Y"),bt,z=o(e=>{for(var t="";L[e];)t+=bt[L[e++]];return t},"P"),M;function ta(e,t,r={}){var n=t.name;if(!e)throw new M(`type "${n}" must have a positive integer typeid pointer`);if(ie.hasOwnProperty(e)){if(r.ib)return;throw new M(`Cannot register type '${n}' twice`)}ie[e]=t,delete Pe[e],he.hasOwnProperty(e)&&(t=he[e],delete he[e],t.forEach(h=>h()))}o(ta,"qt");function J(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ta(e,t,r)}o(J,"D");var Be=o(e=>{throw new M(e.ma.za.xa.name+" instance already deleted")},"ke"),He=false,Mt=o(()=>{},"_t"),It=o((e,t,r)=>t===r?e:r.Ca===void 0?null:(e=It(e,t,r.Ca),e===null?null:r.ab(e)),"yt"),Et={},we=[],Ve=o(()=>{for(;we.length;){var e=we.pop();e.ma.Ka=false,e.delete()}},"De"),ye,Ce={},aa=o((e,t)=>{if(t===void 0)throw new M("ptr should not be undefined");for(;e.Ca;)t=e.Na(t),e=e.Ca;return Ce[t]},"Kt"),Ae=o((e,t)=>{if(!t.za||!t.ya)throw new ge("makeClassHandle requires ptr and ptrType");if(!!t.Da!=!!t.Aa)throw new ge("Both smartPtrType and smartPtr must be specified");return t.count={value:1},Le(Object.create(e,{ma:{value:t,writable:true}}))},"Ce"),Le=o(e=>typeof FinalizationRegistry>"u"?(Le=o(t=>t,"ce"),e):(He=new FinalizationRegistry(t=>{t=t.ma,--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya))}),Le=o(t=>{var r=t.ma;return r.Aa&&He.register(t,{ma:r},t),t},"ce"),Mt=o(t=>{He.unregister(t)},"_t"),Le(e)),"ce");function ke(){}o(ke,"be");var be=o((e,t)=>Object.defineProperty(t,"name",{value:e}),"pe"),Ft=o((e,t,r)=>{if(e[t].Ba===void 0){var n=e[t];e[t]=function(...h){if(!e[t].Ba.hasOwnProperty(h.length))throw new M(`Function '${r}' called with an invalid number of arguments (${h.length}) - expects one of (${e[t].Ba})!`);return e[t].Ba[h.length].apply(this,h)},e[t].Ba=[],e[t].Ba[n.Oa]=n}},"Ct"),Ye=o((e,t,r)=>{if(i.hasOwnProperty(e)){if(r===void 0||i[e].Ba!==void 0&&i[e].Ba[r]!==void 0)throw new M(`Cannot register public name '${e}' twice`);if(Ft(i,e,e),i.hasOwnProperty(r))throw new M(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);i[e].Ba[r]=t}else i[e]=t,r!==void 0&&(i[e].vb=r)},"Re"),ra=o(e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e},"Xt");function na(e,t,r,n,h,u,m,c){this.name=e,this.constructor=t,this.La=r,this.Fa=n,this.Ca=h,this.cb=u,this.Na=m,this.ab=c,this.kb=[]}o(na,"Qt");var Ne=o((e,t,r)=>{for(;t!==r;){if(!t.Na)throw new M(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.Na(e),t=t.Ca}return e},"We");function ia(e,t){if(t===null){if(this.Ta)throw new M(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new M(`Cannot pass "${Ze(t)}" as a ${this.name}`);if(!t.ma.ya)throw new M(`Cannot pass deleted object as a pointer of type ${this.name}`);return Ne(t.ma.ya,t.ma.za.xa,this.xa)}o(ia,"Zt");function oa(e,t){if(t===null){if(this.Ta)throw new M(`null is not a valid ${this.name}`);if(this.Qa){var r=this.Ua();return e!==null&&e.push(this.Fa,r),r}return 0}if(!t||!t.ma)throw new M(`Cannot pass "${Ze(t)}" as a ${this.name}`);if(!t.ma.ya)throw new M(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&t.ma.za.Pa)throw new M(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);if(r=Ne(t.ma.ya,t.ma.za.xa,this.xa),this.Qa){if(t.ma.Aa===void 0)throw new M("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(t.ma.Da===this)r=t.ma.Aa;else throw new M(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);break;case 1:r=t.ma.Aa;break;case 2:if(t.ma.Da===this)r=t.ma.Aa;else{var n=t.clone();r=this.lb(r,xe(()=>n.delete())),e!==null&&e.push(this.Fa,r)}break;default:throw new M("Unsupporting sharing policy")}}return r}o(oa,"en");function sa(e,t){if(t===null){if(this.Ta)throw new M(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new M(`Cannot pass "${Ze(t)}" as a ${this.name}`);if(!t.ma.ya)throw new M(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.ma.za.Pa)throw new M(`Cannot convert argument of type ${t.ma.za.name} to parameter type ${this.name}`);return Ne(t.ma.ya,t.ma.za.xa,this.xa)}o(sa,"tn");function Me(e,t,r,n,h,u,m,c,f,p,v){this.name=e,this.xa=t,this.Ta=r,this.Pa=n,this.Qa=h,this.jb=u,this.pb=m,this.Za=c,this.Ua=f,this.lb=p,this.Fa=v,h||t.Ca!==void 0?this.toWireType=oa:(this.toWireType=n?ia:sa,this.Ea=null)}o(Me,"me");var St=o((e,t,r)=>{if(!i.hasOwnProperty(e))throw new ge("Replacing nonexistent public symbol");i[e].Ba!==void 0&&r!==void 0?i[e].Ba[r]=t:(i[e]=t,i[e].Oa=r)},"bt"),q,ha=o((e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0,i["dynCall_"+e])(t,...r)):t=q.get(t)(...r),t),"nn"),la=o((e,t)=>(...r)=>ha(e,t,r),"rn"),H=o((e,t)=>{e=z(e);var r=e.includes("j")?la(e,t):q.get(t);if(typeof r!="function")throw new M(`unknown function pointer with signature ${e}: ${t}`);return r},"A"),Pt,At=o(e=>{e=Ot(e);var t=z(e);return ee(e),t},"Mt"),$e=o((e,t)=>{function r(u){h[u]||ie[u]||(Pe[u]?Pe[u].forEach(r):(n.push(u),h[u]=true))}o(r,"r");var n=[],h={};throw t.forEach(r),new Pt(`${e}: `+n.map(At).join([", "]))},"Le"),qe=o((e,t)=>{for(var r=[],n=0;n<e;n++)r.push(S[t+4*n>>2]);return r},"Oe");function ua(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].Ea===void 0)return true;return false}o(ua,"an");function Ge(e,t,r,n,h){var u=t.length;if(2>u)throw new M("argTypes array size mismatch! Must at least get return value and 'this' types!");var m=t[1]!==null&&r!==null,c=ua(t),f=t[0].name!=="void",p=u-2,v=Array(p),E=[],A=[];return be(e,function(...d){if(d.length!==p)throw new M(`function ${e} called with ${d.length} arguments, expected ${p}`);if(A.length=0,E.length=m?2:1,E[0]=h,m){var g=t[1].toWireType(A,this);E[1]=g}for(var C=0;C<p;++C)v[C]=t[C+2].toWireType(A,d[C]),E.push(v[C]);if(d=n(...E),c)Ue(A);else for(C=m?1:2;C<t.length;C++){var O=C===1?g:v[C-2];t[C].Ea!==null&&t[C].Ea(O)}return g=f?t[0].fromWireType(d):void 0,g})}o(Ge,"je");var kt=o(e=>{e=e.trim();let t=e.indexOf("(");return t!==-1?e.substr(0,t):e},"Et"),Je=[],Z=[],Ke=o(e=>{9<e&&--Z[e+1]===0&&(Z[e]=void 0,Je.push(e))},"Ue"),Qe=o(e=>{if(!e)throw new M("Cannot use deleted val. handle = "+e);return Z[e]},"Be"),xe=o(e=>{switch(e){case void 0:return 2;case null:return 4;case true:return 6;case false:return 8;default:let t=Je.pop()||Z.length;return Z[t]=e,Z[t+1]=1,t}},"Me"),$t={name:"emscripten::val",fromWireType:o(e=>{var t=Qe(e);return Ke(e),t},"fromWireType"),toWireType:o((e,t)=>xe(t),"toWireType"),argPackAdvance:8,readValueFromPointer:_e,Ea:null},da=o((e,t,r)=>{switch(t){case 1:return r?function(n){return this.fromWireType(I[n])}:function(n){return this.fromWireType(L[n])};case 2:return r?function(n){return this.fromWireType(B[n>>1])}:function(n){return this.fromWireType(N[n>>1])};case 4:return r?function(n){return this.fromWireType(T[n>>2])}:function(n){return this.fromWireType(S[n>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},"on"),Xe=o((e,t)=>{var r=ie[e];if(r===void 0)throw e=`${t} has unknown type ${At(e)}`,new M(e);return r},"He"),Ze=o(e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},"Ve"),ca=o((e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(fe[r>>2])};case 8:return function(r){return this.fromWireType(ut[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},"sn"),ma=o((e,t,r)=>{switch(t){case 1:return r?n=>I[n]:n=>L[n];case 2:return r?n=>B[n>>1]:n=>N[n>>1];case 4:return r?n=>T[n>>2]:n=>S[n>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},"ln"),xt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,pa=o((e,t)=>{for(var r=e>>1,n=r+t/2;!(r>=n)&&N[r];)++r;if(r<<=1,32<r-e&&xt)return xt.decode(L.subarray(e,r));for(r="",n=0;!(n>=t/2);++n){var h=B[e+2*n>>1];if(h==0)break;r+=String.fromCharCode(h)}return r},"un"),fa=o((e,t,r)=>{if(r??(r=2147483647),2>r)return 0;r-=2;var n=t;r=r<2*e.length?r/2:e.length;for(var h=0;h<r;++h)B[t>>1]=e.charCodeAt(h),t+=2;return B[t>>1]=0,t-n},"dn"),va=o(e=>2*e.length,"hn"),_a=o((e,t)=>{for(var r=0,n="";!(r>=t/4);){var h=T[e+4*r>>2];if(h==0)break;++r,65536<=h?(h-=65536,n+=String.fromCharCode(55296|h>>10,56320|h&1023)):n+=String.fromCharCode(h)}return n},"cn"),ga=o((e,t,r)=>{if(r??(r=2147483647),4>r)return 0;var n=t;r=n+r-4;for(var h=0;h<e.length;++h){var u=e.charCodeAt(h);if(55296<=u&&57343>=u){var m=e.charCodeAt(++h);u=65536+((u&1023)<<10)|m&1023}if(T[t>>2]=u,t+=4,t+4>r)break}return T[t>>2]=0,t-n},"pn"),wa=o(e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);55296<=n&&57343>=n&&++r,t+=4}return t},"mn"),et=[],ya=o(e=>{var t=et.length;return et.push(e),t},"fn"),Ca=o((e,t)=>{for(var r=Array(e),n=0;n<e;++n)r[n]=Xe(S[t+4*n>>2],"parameter "+n);return r},"vn"),La=Reflect.construct,tt={},Dt=o(()=>{if(!at){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},t;for(t in tt)tt[t]===void 0?delete e[t]:e[t]=tt[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);at=r}return at},"Pt"),at,ba=[null,[],[]],Ma=o(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Fe("initRandomDevice")},"yn"),Tt=o(e=>(Tt=Ma())(e),"St"),De=o(e=>e%4===0&&(e%100!==0||e%400===0),"Ee"),Rt=[31,29,31,30,31,30,31,31,30,31,30,31],Wt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ia(e){var t=Array(Ct(e)+1);return Lt(e,t,0,t.length),t}o(Ia,"wn");var Ea=o((e,t,r,n)=>{function h(d,g,C){for(d=typeof d=="number"?d.toString():d||"";d.length<g;)d=C[0]+d;return d}o(h,"o");function u(d,g){return h(d,g,"0")}o(u,"s");function m(d,g){function C(ae){return 0>ae?-1:0<ae?1:0}o(C,"v");var O;return(O=C(d.getFullYear()-g.getFullYear()))===0&&(O=C(d.getMonth()-g.getMonth()))===0&&(O=C(d.getDate()-g.getDate())),O}o(m,"d");function c(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}o(c,"u");function f(d){var g=d.Ia;for(d=new Date(new Date(d.Ja+1900,0,1).getTime());0<g;){var C=d.getMonth(),O=(De(d.getFullYear())?Rt:Wt)[C];if(g>O-d.getDate())g-=O-d.getDate()+1,d.setDate(1),11>C?d.setMonth(C+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+g);break}}return C=new Date(d.getFullYear()+1,0,4),g=c(new Date(d.getFullYear(),0,4)),C=c(C),0>=m(g,d)?0>=m(C,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}o(f,"p");var p=S[n+40>>2];n={sb:T[n>>2],rb:T[n+4>>2],Ra:T[n+8>>2],Va:T[n+12>>2],Sa:T[n+16>>2],Ja:T[n+20>>2],Ga:T[n+24>>2],Ia:T[n+28>>2],wb:T[n+32>>2],qb:T[n+36>>2],tb:p&&p?ne(L,p):""},r=r?ne(L,r):"",p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var v in p)r=r.replace(new RegExp(v,"g"),p[v]);var E="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),A="January February March April May June July August September October November December".split(" ");p={"%a":o(d=>E[d.Ga].substring(0,3),"%a"),"%A":o(d=>E[d.Ga],"%A"),"%b":o(d=>A[d.Sa].substring(0,3),"%b"),"%B":o(d=>A[d.Sa],"%B"),"%C":o(d=>u((d.Ja+1900)/100|0,2),"%C"),"%d":o(d=>u(d.Va,2),"%d"),"%e":o(d=>h(d.Va,2," "),"%e"),"%g":o(d=>f(d).toString().substring(2),"%g"),"%G":f,"%H":o(d=>u(d.Ra,2),"%H"),"%I":o(d=>(d=d.Ra,d==0?d=12:12<d&&(d-=12),u(d,2)),"%I"),"%j":o(d=>{for(var g=0,C=0;C<=d.Sa-1;g+=(De(d.Ja+1900)?Rt:Wt)[C++]);return u(d.Va+g,3)},"%j"),"%m":o(d=>u(d.Sa+1,2),"%m"),"%M":o(d=>u(d.rb,2),"%M"),"%n":o(()=>`
`,"%n"),"%p":o(d=>0<=d.Ra&&12>d.Ra?"AM":"PM","%p"),"%S":o(d=>u(d.sb,2),"%S"),"%t":o(()=>"	","%t"),"%u":o(d=>d.Ga||7,"%u"),"%U":o(d=>u(Math.floor((d.Ia+7-d.Ga)/7),2),"%U"),"%V":o(d=>{var g=Math.floor((d.Ia+7-(d.Ga+6)%7)/7);if(2>=(d.Ga+371-d.Ia-2)%7&&g++,g)g==53&&(C=(d.Ga+371-d.Ia)%7,C==4||C==3&&De(d.Ja)||(g=1));else{g=52;var C=(d.Ga+7-d.Ia-1)%7;(C==4||C==5&&De(d.Ja%400-1))&&g++}return u(g,2)},"%V"),"%w":o(d=>d.Ga,"%w"),"%W":o(d=>u(Math.floor((d.Ia+7-(d.Ga+6)%7)/7),2),"%W"),"%y":o(d=>(d.Ja+1900).toString().substring(2),"%y"),"%Y":o(d=>d.Ja+1900,"%Y"),"%z":o(d=>{d=d.qb;var g=0<=d;return d=Math.abs(d)/60,(g?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%z"),"%Z":o(d=>d.tb,"%Z"),"%%":o(()=>"%","%%")},r=r.replace(/%%/g,"\0\0");for(v in p)r.includes(v)&&(r=r.replace(new RegExp(v,"g"),p[v](n)));return r=r.replace(/\0\0/g,"%"),v=Ia(r),v.length>t?0:(I.set(v,e),v.length-1)},"Cn");ge=i.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}};for(var jt=Array(256),Te=0;256>Te;++Te)jt[Te]=String.fromCharCode(Te);bt=jt,M=i.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Object.assign(ke.prototype,{isAliasOf:o(function(e){if(!(this instanceof ke&&e instanceof ke))return false;var t=this.ma.za.xa,r=this.ma.ya;e.ma=e.ma;var n=e.ma.za.xa;for(e=e.ma.ya;t.Ca;)r=t.Na(r),t=t.Ca;for(;n.Ca;)e=n.Na(e),n=n.Ca;return t===n&&r===e},"isAliasOf"),clone:o(function(){if(this.ma.ya||Be(this),this.ma.Ma)return this.ma.count.value+=1,this;var e=Le,t=Object,r=t.create,n=Object.getPrototypeOf(this),h=this.ma;return e=e(r.call(t,n,{ma:{value:{count:h.count,Ka:h.Ka,Ma:h.Ma,ya:h.ya,za:h.za,Aa:h.Aa,Da:h.Da}}})),e.ma.count.value+=1,e.ma.Ka=false,e},"clone"),delete(){if(this.ma.ya||Be(this),this.ma.Ka&&!this.ma.Ma)throw new M("Object already scheduled for deletion");Mt(this);var e=this.ma;--e.count.value,e.count.value===0&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:o(function(){return!this.ma.ya},"isDeleted"),deleteLater:o(function(){if(this.ma.ya||Be(this),this.ma.Ka&&!this.ma.Ma)throw new M("Object already scheduled for deletion");return we.push(this),we.length===1&&ye&&ye(Ve),this.ma.Ka=true,this},"deleteLater")}),i.getInheritedInstanceCount=()=>Object.keys(Ce).length,i.getLiveInheritedInstances=()=>{var e=[],t;for(t in Ce)Ce.hasOwnProperty(t)&&e.push(Ce[t]);return e},i.flushPendingDeletes=Ve,i.setDelayFunction=e=>{ye=e,we.length&&ye&&ye(Ve)},Object.assign(Me.prototype,{eb(e){return this.Za&&(e=this.Za(e)),e},Xa(e){var t;(t=this.Fa)==null?void 0:t.call(this,e)},argPackAdvance:8,readValueFromPointer:_e,fromWireType:o(function(e){function t(){return this.Qa?Ae(this.xa.La,{za:this.jb,ya:r,Da:this,Aa:e}):Ae(this.xa.La,{za:this,ya:e})}o(t,"t");var r=this.eb(e);if(!r)return this.Xa(e),null;var n=aa(this.xa,r);if(n!==void 0)return n.ma.count.value===0?(n.ma.ya=r,n.ma.Aa=e,n.clone()):(n=n.clone(),this.Xa(e),n);if(n=this.xa.cb(r),n=Et[n],!n)return t.call(this);n=this.Pa?n.$a:n.pointerType;var h=It(r,this.xa,n.xa);return h===null?t.call(this):this.Qa?Ae(n.xa.La,{za:n,ya:h,Da:this,Aa:e}):Ae(n.xa.La,{za:n,ya:h})},"fromWireType")}),Pt=i.UnboundTypeError=((e,t)=>{var r=be(t,function(n){this.name=t,this.message=n,n=Error(n).stack,n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r})(Error,"UnboundTypeError"),Z.push(0,1,void 0,1,null,1,true,1,false,1),i.count_emval_handles=()=>Z.length/2-5-Je.length;var Fa={c:o((e,t,r,n)=>{Fe(`Assertion failed: ${e?ne(L,e):""}, at: `+[t?t?ne(L,t):"":"unknown filename",r,n?n?ne(L,n):"":"unknown function"])},"c"),m:o((e,t,r)=>{var n=new ze(e);throw S[n.ya+16>>2]=0,S[n.ya+4>>2]=t,S[n.ya+8>>2]=r,yt=e,yt},"m"),B:o(function(){return 0},"B"),P:o(()=>{},"P"),M:o(()=>{},"M"),R:o(function(){return 0},"R"),N:o(()=>{},"N"),A:o(function(){},"A"),O:o(()=>{},"O"),v:o(e=>{var t=Se[e];delete Se[e];var r=t.Ua,n=t.Fa,h=t.Ya,u=h.map(m=>m.hb).concat(h.map(m=>m.nb));te([e],u,m=>{var c={};return h.forEach((f,p)=>{var v=m[p],E=f.fb,A=f.gb,d=m[p+h.length],g=f.mb,C=f.ob;c[f.bb]={read:o(O=>v.fromWireType(E(A,O)),"read"),write:o((O,ae)=>{var V=[];g(C,O,d.toWireType(V,ae)),Ue(V)},"write")}}),[{name:t.name,fromWireType:o(f=>{var p={},v;for(v in c)p[v]=c[v].read(f);return n(f),p},"fromWireType"),toWireType:o((f,p)=>{for(var v in c)if(!(v in p))throw new TypeError(`Missing field: "${v}"`);var E=r();for(v in c)c[v].write(E,p[v]);return f!==null&&f.push(n,E),E},"toWireType"),argPackAdvance:8,readValueFromPointer:_e,Ea:n}]})},"v"),I:o(()=>{},"I"),Y:o((e,t,r,n)=>{t=z(t),J(e,{name:t,fromWireType:o(function(h){return!!h},"fromWireType"),toWireType:o(function(h,u){return u?r:n},"toWireType"),argPackAdvance:8,readValueFromPointer:o(function(h){return this.fromWireType(L[h])},"readValueFromPointer"),Ea:null})},"Y"),r:o((e,t,r,n,h,u,m,c,f,p,v,E,A)=>{v=z(v),u=H(h,u),c&&(c=H(m,c)),p&&(p=H(f,p)),A=H(E,A);var d=ra(v);Ye(d,function(){$e(`Cannot construct ${v} due to unbound types`,[n])}),te([e,t,r],n?[n]:[],g=>{if(g=g[0],n)var C=g.xa,O=C.La;else O=ke.prototype;g=be(v,function(...it){if(Object.getPrototypeOf(this)!==ae)throw new M("Use 'new' to construct "+v);if(V.Ha===void 0)throw new M(v+" has no accessible constructor");var Bt=V.Ha[it.length];if(Bt===void 0)throw new M(`Tried to invoke ctor of ${v} with invalid number of parameters (${it.length}) - expected (${Object.keys(V.Ha).toString()}) parameters instead!`);return Bt.apply(this,it)});var ae=Object.create(O,{constructor:{value:g}});g.prototype=ae;var V=new na(v,g,ae,A,C,u,c,p);if(V.Ca){var Ie;(Ie=V.Ca).Wa??(Ie.Wa=[]),V.Ca.Wa.push(V)}return C=new Me(v,V,true,false,false),Ie=new Me(v+"*",V,false,false,false),O=new Me(v+" const*",V,false,true,false),Et[e]={pointerType:Ie,$a:O},St(d,g),[C,Ie,O]})},"r"),q:o((e,t,r,n,h,u)=>{var m=qe(t,r);h=H(n,h),te([],[e],c=>{c=c[0];var f=`constructor ${c.name}`;if(c.xa.Ha===void 0&&(c.xa.Ha=[]),c.xa.Ha[t-1]!==void 0)throw new M(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.xa.Ha[t-1]=()=>{$e(`Cannot construct ${c.name} due to unbound types`,m)},te([],m,p=>(p.splice(1,0,null),c.xa.Ha[t-1]=Ge(f,p,null,h,u),[])),[]})},"q"),f:o((e,t,r,n,h,u,m,c)=>{var f=qe(r,n);t=z(t),t=kt(t),u=H(h,u),te([],[e],p=>{function v(){$e(`Cannot call ${E} due to unbound types`,f)}o(v,"m");p=p[0];var E=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),c&&p.xa.kb.push(t);var A=p.xa.La,d=A[t];return d===void 0||d.Ba===void 0&&d.className!==p.name&&d.Oa===r-2?(v.Oa=r-2,v.className=p.name,A[t]=v):(Ft(A,t,E),A[t].Ba[r-2]=v),te([],f,g=>(g=Ge(E,g,p,u,m),A[t].Ba===void 0?(g.Oa=r-2,A[t]=g):A[t].Ba[r-2]=g,[])),[]})},"f"),X:o(e=>J(e,$t),"X"),x:o((e,t,r,n)=>{function h(){}o(h,"o");t=z(t),h.values={},J(e,{name:t,constructor:h,fromWireType:o(function(u){return this.constructor.values[u]},"fromWireType"),toWireType:o((u,m)=>m.value,"toWireType"),argPackAdvance:8,readValueFromPointer:da(t,r,n),Ea:null}),Ye(t,h)},"x"),k:o((e,t,r)=>{var n=Xe(e,"enum");t=z(t),e=n.constructor,n=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:be(`${n.name}_${t}`,function(){})}}),e.values[r]=n,e[t]=n},"k"),C:o((e,t,r)=>{t=z(t),J(e,{name:t,fromWireType:o(n=>n,"fromWireType"),toWireType:o((n,h)=>h,"toWireType"),argPackAdvance:8,readValueFromPointer:ca(t,r),Ea:null})},"C"),E:o((e,t,r,n,h,u)=>{var m=qe(t,r);e=z(e),e=kt(e),h=H(n,h),Ye(e,function(){$e(`Cannot call ${e} due to unbound types`,m)},t-1),te([],m,c=>(St(e,Ge(e,[c[0],null].concat(c.slice(1)),null,h,u),t-1),[]))},"E"),l:o((e,t,r,n,h)=>{if(t=z(t),h===-1&&(h=4294967295),h=o(c=>c,"o"),n===0){var u=32-8*r;h=o(c=>c<<u>>>u,"o")}var m=t.includes("unsigned")?function(c,f){return f>>>0}:function(c,f){return f};J(e,{name:t,fromWireType:h,toWireType:m,argPackAdvance:8,readValueFromPointer:ma(t,r,n!==0),Ea:null})},"l"),g:o((e,t,r)=>{function n(u){return new h(I.buffer,S[u+4>>2],S[u>>2])}o(n,"i");var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=z(r),J(e,{name:r,fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{ib:true})},"g"),w:o(e=>{J(e,$t)},"w"),ca:o((e,t,r,n,h,u,m,c,f,p,v,E)=>{r=z(r),u=H(h,u),c=H(m,c),p=H(f,p),E=H(v,E),te([e],[t],A=>(A=A[0],[new Me(r,A.xa,false,false,true,A,n,u,c,p,E)]))},"ca"),D:o((e,t)=>{t=z(t);var r=t==="std::string";J(e,{name:t,fromWireType:o(function(n){var h=S[n>>2],u=n+4;if(r)for(var m=u,c=0;c<=h;++c){var f=u+c;if(c==h||L[f]==0){if(m=m?ne(L,m,f-m):"",p===void 0)var p=m;else p+="\0",p+=m;m=f+1}}else{for(p=Array(h),c=0;c<h;++c)p[c]=String.fromCharCode(L[u+c]);p=p.join("")}return ee(n),p},"fromWireType"),toWireType:o(function(n,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var u=typeof h=="string";if(!(u||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array))throw new M("Cannot pass non-string to std::string");var m=r&&u?Ct(h):h.length,c=rt(4+m+1),f=c+4;if(S[c>>2]=m,r&&u)Lt(h,L,f,m+1);else if(u)for(u=0;u<m;++u){var p=h.charCodeAt(u);if(255<p)throw ee(f),new M("String has UTF-16 code units that do not fit in 8 bits");L[f+u]=p}else for(u=0;u<m;++u)L[f+u]=h[u];return n!==null&&n.push(ee,c),c},"toWireType"),argPackAdvance:8,readValueFromPointer:_e,Ea(n){ee(n)}})},"D"),u:o((e,t,r)=>{if(r=z(r),t===2)var n=pa,h=fa,u=va,m=o(c=>N[c>>1],"d");else t===4&&(n=_a,h=ga,u=wa,m=o(c=>S[c>>2],"d"));J(e,{name:r,fromWireType:o(c=>{for(var f=S[c>>2],p,v=c+4,E=0;E<=f;++E){var A=c+4+E*t;(E==f||m(A)==0)&&(v=n(v,A-v),p===void 0?p=v:(p+="\0",p+=v),v=A+t)}return ee(c),p},"fromWireType"),toWireType:o((c,f)=>{if(typeof f!="string")throw new M(`Cannot pass non-string to C++ string type ${r}`);var p=u(f),v=rt(4+p+t);return S[v>>2]=p/t,h(f,v+4,p+t),c!==null&&c.push(ee,v),v},"toWireType"),argPackAdvance:8,readValueFromPointer:_e,Ea(c){ee(c)}})},"u"),s:o((e,t,r,n,h,u)=>{Se[e]={name:z(t),Ua:H(r,n),Fa:H(h,u),Ya:[]}},"s"),j:o((e,t,r,n,h,u,m,c,f,p)=>{Se[e].Ya.push({bb:z(t),hb:r,fb:H(n,h),gb:u,nb:m,mb:H(c,f),ob:p})},"j"),Z:o((e,t)=>{t=z(t),J(e,{ub:true,name:t,argPackAdvance:0,fromWireType:o(()=>{},"fromWireType"),toWireType:o(()=>{},"toWireType")})},"Z"),J:o(()=>{throw 1/0},"J"),aa:o((e,t,r,n)=>(e=et[e],t=Qe(t),e(null,t,r,n)),"aa"),F:Ke,$:o((e,t,r)=>{var n=Ca(e,t),h=n.shift();e--;var u=Array(e);return t=`methodCaller<(${n.map(m=>m.name).join(", ")}) => ${h.name}>`,ya(be(t,(m,c,f,p)=>{for(var v=0,E=0;E<e;++E)u[E]=n[E].readValueFromPointer(p+v),v+=n[E].argPackAdvance;return c=r===1?La(c,u):c.apply(m,u),m=[],c=h.toWireType(m,c),m.length&&(S[f>>2]=xe(m)),c}))},"$"),ba:o(e=>{9<e&&(Z[e+1]+=1)},"ba"),_:o(e=>{var t=Qe(e);Ue(t),Ke(e)},"_"),o:o((e,t)=>(e=Xe(e,"_emval_take_value"),e=e.readValueFromPointer(t),xe(e)),"o"),W:o(()=>{Fe("")},"W"),V:o(()=>performance.now(),"V"),L:o(e=>{var t=L.length;if(e>>>=0,2147483648<e)return false;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var h=Math;n=Math.max(e,n);e:{h=(h.min.call(h,2147483648,n+(65536-n%65536)%65536)-Y.buffer.byteLength+65535)/65536;try{Y.grow(h),dt();var u=1;break e}catch{}u=void 0}if(u)return true}return false},"L"),S:o((e,t)=>{var r=0;return Dt().forEach((n,h)=>{var u=t+r;for(h=S[e+4*h>>2]=u,u=0;u<n.length;++u)I[h++]=n.charCodeAt(u);I[h]=0,r+=n.length+1}),0},"S"),T:o((e,t)=>{var r=Dt();S[e>>2]=r.length;var n=0;return r.forEach(h=>n+=h.length+1),S[t>>2]=n,0},"T"),t:o(()=>52,"t"),z:o(()=>52,"z"),H:o(function(){return 70},"H"),Q:o((e,t,r,n)=>{for(var h=0,u=0;u<r;u++){var m=S[t>>2],c=S[t+4>>2];t+=8;for(var f=0;f<c;f++){var p=L[m+f],v=ba[e];p===0||p===10?((e===1?W:j)(ne(v,0)),v.length=0):v.push(p)}h+=c}return S[n>>2]=h,0},"Q"),U:o((e,t)=>(Tt(L.subarray(e,e+t)),0),"U"),i:$a,d:ka,e:Aa,p:xa,y:Ra,b:Sa,a:Pa,h:Ta,n:Da,G:Wa,K:o((e,t,r,n)=>Ea(e,t,r,n),"K")},R=(function(){var r;function e(n){var h;return R=n.exports,Y=R.da,dt(),q=R.ha,mt.unshift(R.ea),re--,(h=i.monitorRunDependencies)==null?void 0:h.call(i,re),re==0&&(ve&&(n=ve,ve=null,n())),R}o(e,"e");var t={a:Fa};if(re++,(r=i.monitorRunDependencies)==null?void 0:r.call(i,re),i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(n){j(`Module.instantiateWasm callback failed with error: ${n}`),w(n)}return ea(t,function(n){e(n.instance)}).catch(w),{}})(),rt=o(e=>(rt=R.fa)(e),"Je"),Ot=o(e=>(Ot=R.ga)(e),"kt"),ee=o(e=>(ee=R.ia)(e),"H"),K=o((e,t)=>(K=R.ja)(e,t),"R"),Q=o(e=>(Q=R.ka)(e),"W"),X=o(()=>(X=R.la)(),"O");i.dynCall_iijj=(e,t,r,n,h,u)=>(i.dynCall_iijj=R.na)(e,t,r,n,h,u),i.dynCall_vijj=(e,t,r,n,h,u)=>(i.dynCall_vijj=R.oa)(e,t,r,n,h,u),i.dynCall_jiii=(e,t,r,n)=>(i.dynCall_jiii=R.pa)(e,t,r,n),i.dynCall_jii=(e,t,r)=>(i.dynCall_jii=R.qa)(e,t,r);var zt=i.dynCall_viiij=(e,t,r,n,h,u)=>(zt=i.dynCall_viiij=R.ra)(e,t,r,n,h,u);i.dynCall_jiji=(e,t,r,n,h)=>(i.dynCall_jiji=R.sa)(e,t,r,n,h),i.dynCall_viijii=(e,t,r,n,h,u,m)=>(i.dynCall_viijii=R.ta)(e,t,r,n,h,u,m),i.dynCall_iiiiij=(e,t,r,n,h,u,m)=>(i.dynCall_iiiiij=R.ua)(e,t,r,n,h,u,m),i.dynCall_iiiiijj=(e,t,r,n,h,u,m,c,f)=>(i.dynCall_iiiiijj=R.va)(e,t,r,n,h,u,m,c,f),i.dynCall_iiiiiijj=(e,t,r,n,h,u,m,c,f,p)=>(i.dynCall_iiiiiijj=R.wa)(e,t,r,n,h,u,m,c,f,p);function Sa(e,t){var r=X();try{q.get(e)(t)}catch(n){if(Q(r),n!==n+0)throw n;K(1,0)}}o(Sa,"Ln");function Pa(e,t,r){var n=X();try{q.get(e)(t,r)}catch(h){if(Q(n),h!==h+0)throw h;K(1,0)}}o(Pa,"Mn");function Aa(e,t,r,n){var h=X();try{return q.get(e)(t,r,n)}catch(u){if(Q(h),u!==u+0)throw u;K(1,0)}}o(Aa,"En");function ka(e,t,r){var n=X();try{return q.get(e)(t,r)}catch(h){if(Q(n),h!==h+0)throw h;K(1,0)}}o(ka,"Fn");function $a(e,t){var r=X();try{return q.get(e)(t)}catch(n){if(Q(r),n!==n+0)throw n;K(1,0)}}o($a,"In");function xa(e,t,r,n,h,u){var m=X();try{return q.get(e)(t,r,n,h,u)}catch(c){if(Q(m),c!==c+0)throw c;K(1,0)}}o(xa,"Pn");function Da(e,t,r,n,h){var u=X();try{q.get(e)(t,r,n,h)}catch(m){if(Q(u),m!==m+0)throw m;K(1,0)}}o(Da,"Sn");function Ta(e,t,r,n){var h=X();try{q.get(e)(t,r,n)}catch(u){if(Q(h),u!==u+0)throw u;K(1,0)}}o(Ta,"An");function Ra(e){var t=X();try{q.get(e)()}catch(r){if(Q(t),r!==r+0)throw r;K(1,0)}}o(Ra,"xn");function Wa(e,t,r,n,h,u){var m=X();try{zt(e,t,r,n,h,u)}catch(c){if(Q(m),c!==c+0)throw c;K(1,0)}}o(Wa,"Tn");var Re;ve=o(function e(){Re||Ut(),Re||(ve=e)},"e");function Ut(){function e(){if(!Re&&(Re=true,i.calledRun=true,!y)){if(Oe(mt),_(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var t=i.postRun.shift();pt.unshift(t)}Oe(pt)}}o(e,"e");if(!(0<re)){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Xt();Oe(ct),0<re||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}o(Ut,"Dt");if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return Ut(),x}})();var Za=Xa;var ce;var je=(ce=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(a){return await Za({locateFile:o(()=>a,"locateFile")})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async a=>{let s=`https://unpkg.com/${We.name}@${We.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${a.message}`),console.warn(`Attempting to load WASM from backup URL: ${s}`);try{return await this._tryLoad(s)}catch(i){throw console.error(`Primary WASM URL failed: ${a.message}`),console.error(`Backup WASM URL failed: ${i.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(a){this._wasmURL=a,this._ModulePromise=null}},o(ce,"X"),ce);$(je,"_ModulePromise",null),$(je,"_wasmURL",`https://cdn.jsdelivr.net/npm/${We.name}@${We.version}/dist/dotlottie-player.wasm`);var me;var Jt=(me=class{constructor(){$(this,"_eventListeners",new Map)}addEventListener(a,s){let i=this._eventListeners.get(a);i||(i=new Set,this._eventListeners.set(a,i)),i.add(s)}removeEventListener(a,s){let i=this._eventListeners.get(a);i&&(s?(i.delete(s),i.size===0&&this._eventListeners.delete(a)):this._eventListeners.delete(a))}dispatch(a){var s;(s=this._eventListeners.get(a.type))==null?void 0:s.forEach(i=>i(a))}removeAllEventListeners(){this._eventListeners.clear()}},o(me,"re"),me);function er(l){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(l)}o(er,"Wn");function tr(l){if(!er(l))return 0;let a=l.replace("#","");return a=a.length===6?`${a}ff`:a,parseInt(a,16)}o(tr,"Ot");var ot=o((l,a)=>l==="reverse"?a.Mode.Reverse:l==="bounce"?a.Mode.Bounce:l==="reverse-bounce"?a.Mode.ReverseBounce:a.Mode.Forward,"Qe");var st=o((l,a)=>l==="contain"?a.Fit.Contain:l==="cover"?a.Fit.Cover:l==="fill"?a.Fit.Fill:l==="fit-height"?a.Fit.FitHeight:l==="fit-width"?a.Fit.FitWidth:a.Fit.None,"Ze");var ht=o((l,a)=>{let s=new a.VectorFloat;return s.push_back(l[0]),s.push_back(l[1]),s},"et");var lt=o((l,a)=>{let s=new a.VectorFloat;return l.length!==2||(s.push_back(l[0]),s.push_back(l[1])),s},"tt");var k;var Kt=(k=class{constructor(a){$(this,"_canvas");$(this,"_context",null);$(this,"_eventManager");$(this,"_animationFrameId",null);$(this,"_frameManager");$(this,"_dotLottieCore",null);$(this,"_renderConfig",{});$(this,"_isFrozen",false);$(this,"_backgroundColor",null);this._canvas=a.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new Jt,this._frameManager=new Qa,this._renderConfig=a.renderConfig??{},je.load().then(s=>{k._wasmModule=s,this._dotLottieCore=new s.DotLottiePlayer({autoplay:a.autoplay??false,backgroundColor:0,loopAnimation:a.loop??false,mode:ot(a.mode??"forward",s),segment:lt(a.segment??[],s),speed:a.speed??1,useFrameInterpolation:a.useFrameInterpolation??true,marker:a.marker??"",layout:a.layout?{align:ht(a.layout.align,s),fit:st(a.layout.fit,s)}:s.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),a.data?this._loadFromData(a.data):a.src&&this._loadFromSrc(a.src),a.backgroundColor&&this.setBackgroundColor(a.backgroundColor)}).catch(s=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${s}`)})})}_loadFromSrc(a){async function s(){let i=await fetch(a);if(!i.ok)throw new Error(`Failed to fetch the animation data from URL: ${a}. ${i.status}: ${i.statusText}`);let _=(i.headers.get("content-type")??"").trim(),w;return["application/json","text/plain"].some(x=>_.startsWith(x))?w=await i.text():w=await i.arrayBuffer(),w}o(s,"a");s().then(i=>{this._loadFromData(i)}).catch(i=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${a}. ${i}`)})})}_loadFromData(a){if(this._dotLottieCore===null)return;let s=this._canvas.width,i=this._canvas.height,_=false;if(typeof a=="string")_=this._dotLottieCore.loadAnimationData(a,s,i);else if(a instanceof ArrayBuffer)_=this._dotLottieCore.loadDotLottieData(a,s,i);else if(typeof a=="object")_=this._dotLottieCore.loadAnimationData(JSON.stringify(a),s,i);else{this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});return}_?(this._eventManager.dispatch({type:"load"}),oe&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")})}get activeAnimationId(){var a;return(a=this._dotLottieCore)==null?void 0:a.activeAnimationId()}get activeThemeId(){var a;return(a=this._dotLottieCore)==null?void 0:a.activeThemeId()}get layout(){var s;let a=(s=this._dotLottieCore)==null?void 0:s.config().layout;if(a)return{align:[a.align.get(0),a.align.get(1)],fit:(()=>{var i,_,w,x,F,D;switch(a.fit){case((i=k._wasmModule)==null?void 0:i.Fit.Contain):return"contain";case((_=k._wasmModule)==null?void 0:_.Fit.Cover):return"cover";case((w=k._wasmModule)==null?void 0:w.Fit.Fill):return"fill";case((x=k._wasmModule)==null?void 0:x.Fit.FitHeight):return"fit-height";case((F=k._wasmModule)==null?void 0:F.Fit.FitWidth):return"fit-width";case((D=k._wasmModule)==null?void 0:D.Fit.None):return"none";default:return"contain"}})()}}get marker(){var a;return(a=this._dotLottieCore)==null?void 0:a.config().marker}get manifest(){var a;try{let s=(a=this._dotLottieCore)==null?void 0:a.manifestString();if(this._dotLottieCore===null||!s)return null;let i=JSON.parse(s);return Object.keys(i).length===0?null:i}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){var s;let a=(s=this._dotLottieCore)==null?void 0:s.config().segment;if(a&&a.size()===2)return[a.get(0),a.get(1)]}get loop(){var a;return((a=this._dotLottieCore)==null?void 0:a.config().loopAnimation)??false}get mode(){var s,i,_,w;let a=(s=this._dotLottieCore)==null?void 0:s.config().mode;return a===((i=k._wasmModule)==null?void 0:i.Mode.Reverse)?"reverse":a===((_=k._wasmModule)==null?void 0:_.Mode.Bounce)?"bounce":a===((w=k._wasmModule)==null?void 0:w.Mode.ReverseBounce)?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){var a;return((a=this._dotLottieCore)==null?void 0:a.config().autoplay)??false}get useFrameInterpolation(){var a;return((a=this._dotLottieCore)==null?void 0:a.config().useFrameInterpolation)??false}get speed(){var a;return((a=this._dotLottieCore)==null?void 0:a.config().speed)??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){var a;return((a=this._dotLottieCore)==null?void 0:a.isLoaded())??false}get isPlaying(){var a;return((a=this._dotLottieCore)==null?void 0:a.isPlaying())??false}get isPaused(){var a;return((a=this._dotLottieCore)==null?void 0:a.isPaused())??false}get isStopped(){var a;return((a=this._dotLottieCore)==null?void 0:a.isStopped())??false}get currentFrame(){var a;return((a=this._dotLottieCore)==null?void 0:a.currentFrame())??0}get loopCount(){var a;return((a=this._dotLottieCore)==null?void 0:a.loopCount())??0}get totalFrames(){var a;return((a=this._dotLottieCore)==null?void 0:a.totalFrames())??0}get duration(){var a;return((a=this._dotLottieCore)==null?void 0:a.duration())??0}get segmentDuration(){var a;return((a=this._dotLottieCore)==null?void 0:a.segmentDuration())??0}get canvas(){return this._canvas}load(a){this._dotLottieCore===null||k._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:a.autoplay??false,backgroundColor:0,loopAnimation:a.loop??false,mode:ot(a.mode??"forward",k._wasmModule),segment:lt(a.segment??[],k._wasmModule),speed:a.speed??1,useFrameInterpolation:a.useFrameInterpolation??true,marker:a.marker??"",layout:a.layout?{align:ht(a.layout.align,k._wasmModule),fit:st(a.layout.fit,k._wasmModule)}:k._wasmModule.createDefaultLayout()}),a.data?this._loadFromData(a.data):a.src&&this._loadFromSrc(a.src),this.setBackgroundColor(a.backgroundColor??""))}_render(){if(this._dotLottieCore===null||this._context===null)return false;if(this._dotLottieCore.render()){let a=this._dotLottieCore.buffer(),s=new Uint8ClampedArray(a,0,this._canvas.width*this._canvas.height*4),i=null;return typeof ImageData>"u"?(i=this._context.createImageData(this._canvas.width,this._canvas.height),i.data.set(s)):i=new ImageData(s,this._canvas.width,this._canvas.height),this._context.putImageData(i,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),true}return false}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let a=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(a)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){if(this._dotLottieCore===null)return;let a=this._dotLottieCore.play();this._isFrozen=false,a&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){if(this._dotLottieCore===null)return;this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"})}stop(){if(this._dotLottieCore===null)return;this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(a){if(this._dotLottieCore===null||a<0||a>this._dotLottieCore.totalFrames())return;this._dotLottieCore.seek(a)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(a){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:a})}setBackgroundColor(a){this._dotLottieCore!==null&&(oe&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=a:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:tr(a)}),this._backgroundColor=a)}setLoop(a){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:a})}setUseFrameInterpolation(a){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:a})}addEventListener(a,s){this._eventManager.addEventListener(a,s)}removeEventListener(a,s){this._eventManager.removeEventListener(a,s)}destroy(){var a;(a=this._dotLottieCore)==null?void 0:a.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=true,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=false,this._eventManager.dispatch({type:"unfreeze"}))}resize(){var a;if(oe&&this._canvas instanceof HTMLCanvasElement){let s=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:i,width:_}=this._canvas.getBoundingClientRect();this._canvas.width=_*s,this._canvas.height=i*s}((a=this._dotLottieCore)==null?void 0:a.resize(this._canvas.width,this._canvas.height))&&this._render()}setSegment(a,s){this._dotLottieCore===null||k._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:lt([a,s],k._wasmModule)})}setMode(a){this._dotLottieCore===null||k._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:ot(a,k._wasmModule)})}setRenderConfig(a){this._renderConfig=a}loadAnimation(a){if(this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===a)return;this._dotLottieCore.loadAnimation(a,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${a}`)})}setMarker(a){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:a})}markers(){var s;let a=(s=this._dotLottieCore)==null?void 0:s.markers();if(a){let i=[];for(let _=0;_<a.size();_+=1){let w=a.get(_);i.push({name:w.name,time:w.time,duration:w.duration})}return i}return[]}loadTheme(a){if(this._dotLottieCore===null)return false;let s=this._dotLottieCore.loadTheme(a);return this._render(),s}loadThemeData(a){if(this._dotLottieCore===null)return false;let s=this._dotLottieCore.loadThemeData(a);return this._render(),s}setLayout(a){this._dotLottieCore===null||k._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:ht(a.align,k._wasmModule),fit:st(a.fit,k._wasmModule)}})}setViewport(a,s,i,_){return this._dotLottieCore===null?false:this._dotLottieCore.setViewport(a,s,i,_)}static setWasmUrl(a){je.setWasmUrl(a)}loadStateMachine(a){var s;return((s=this._dotLottieCore)==null?void 0:s.loadStateMachine(a))??false}startStateMachine(){var s;let a=((s=this._dotLottieCore)==null?void 0:s.startStateMachine())??false;return a&&this._setupStateMachineListeners(),a}stopStateMachine(){var s;let a=((s=this._dotLottieCore)==null?void 0:s.stopStateMachine())??false;return a&&this._cleanupStateMachineListeners(),a}_getPointerPosition(a){let s=this._canvas.getBoundingClientRect(),i=this._canvas.width/s.width,_=this._canvas.height/s.height,w=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,x=(a.clientX-s.left)*i/w,F=(a.clientY-s.top)*_/w;return{x,y:F}}_onPointerUp(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerUp: ${s} ${i}`)}_onPointerDown(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerDown: ${s} ${i}`)}_onPointerMove(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerMove: ${s} ${i}`)}_onPointerEnter(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerEnter: ${s} ${i}`)}_onPointerLeave(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerExit: ${s} ${i}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(a){var s;return((s=this._dotLottieCore)==null?void 0:s.postEventPayload(a))??false}getStateMachineListeners(){if(!this._dotLottieCore)return[];let a=this._dotLottieCore.stateMachineFrameworkSetup(),s=[];for(let i=0;i<a.size();i+=1)s.push(a.get(i));return s}_setupStateMachineListeners(){if(oe&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let a=this.getStateMachineListeners();a.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),a.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),a.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),a.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),a.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),a.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){oe&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}loadStateMachineData(a){var s;return((s=this._dotLottieCore)==null?void 0:s.loadStateMachineData(a))??false}animationSize(){var i,_;let a=((i=this._dotLottieCore)==null?void 0:i.animationSize().get(0))??0,s=((_=this._dotLottieCore)==null?void 0:_.animationSize().get(1))??0;return{width:a,height:s}}setStateMachineBooleanContext(a,s){var i;return((i=this._dotLottieCore)==null?void 0:i.setStateMachineBooleanContext(a,s))??false}setStateMachineNumericContext(a,s){var i;return((i=this._dotLottieCore)==null?void 0:i.setStateMachineNumericContext(a,s))??false}setStateMachineStringContext(a,s){var i;return((i=this._dotLottieCore)==null?void 0:i.setStateMachineStringContext(a,s))??false}},o(k,"L2"),k);$(Kt,"_wasmModule",null);var Qt=Kt;var ar='/**\n * This is a worker script for dotlottie.\n * Do not modify this file directly.\n * As it\'s generated by the build process.\n */\n    \nvar Pn=Object.defineProperty;var An=(s,n,a)=>n in s?Pn(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var I=(s,n,a)=>An(s,typeof n!="symbol"?n+"":n,a);var Ke=class{requestAnimationFrame(n){return requestAnimationFrame(n)}cancelAnimationFrame(n){cancelAnimationFrame(n);}},Xe=class{constructor(){I(this,"_lastHandleId",0);I(this,"_lastImmediate",null);}requestAnimationFrame(n){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{n(Date.now());}),this._lastHandleId}cancelAnimationFrame(n){this._lastImmediate&&clearImmediate(this._lastImmediate);}},Ie=class{constructor(){I(this,"_strategy");this._strategy=typeof requestAnimationFrame=="function"?new Ke:new Xe;}requestAnimationFrame(n){return this._strategy.requestAnimationFrame(n)}cancelAnimationFrame(n){this._strategy.cancelAnimationFrame(n);}};var te=typeof window<"u"&&typeof window.document<"u";var me={name:"@lottiefiles/dotlottie-web",version:"0.28.0",type:"module",description:"Lottie and DotLottie player for the web",repository:{type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},homepage:"https://github.com/LottieFiles/dotlottie-web#readme",bugs:"https://github.com/LottieFiles/dotlottie-web/issues",author:"LottieFiles",contributors:["Abdelrahman Ashraf <a.theashraf@gmail.com>"],license:"MIT",main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},devDependencies:{"@types/node":"^20.10.5","@vitest/browser":"^1.2.2 ","@vitest/coverage-istanbul":"^1.2.2","cross-env":"7.0.3",tsup:"8.1.0",typescript:"5.0.4",vitest:"^1.2.2",webdriverio:"^8.32.0"},publishConfig:{access:"public"}};var Sn=(()=>{var s=typeof document<"u"?document.currentScript?.src:void 0;return function(n={}){var a=n,d,w,T=new Promise((e,t)=>{d=e,w=t;}),W=Object.assign({},a),Y="./this.program",j="";typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),s&&(j=s),j.startsWith("blob:")?j="":j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1);var Wt=a.print||console.log.bind(console),Q=a.printErr||console.error.bind(console);Object.assign(a,W),W=null,a.thisProgram&&(Y=a.thisProgram);var ne;a.wasmBinary&&(ne=a.wasmBinary);var ve,tt=!1,G,L,Z,re,A,b,nt,rt;function at(){var e=ve.buffer;a.HEAP8=G=new Int8Array(e),a.HEAP16=Z=new Int16Array(e),a.HEAPU8=L=new Uint8Array(e),a.HEAPU16=re=new Uint16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU32=b=new Uint32Array(e),a.HEAPF32=nt=new Float32Array(e),a.HEAPF64=rt=new Float64Array(e);}var ot=[],it=[],st=[];function jt(){var e=a.preRun.shift();ot.unshift(e);}var N=0,ae=null;function ye(e){throw a.onAbort?.(e),e="Aborted("+e+")",Q(e),tt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),w(e),e}var lt=e=>e.startsWith("data:application/octet-stream;base64,"),q;if(q="DotLottiePlayer.wasm",!lt(q)){var dt=q;q=a.locateFile?a.locateFile(dt,j):j+dt;}function ut(e){if(e==q&&ne)return new Uint8Array(ne);throw "both async and sync fetching of the wasm failed"}function Bt(e){return ne||typeof fetch!="function"?Promise.resolve().then(()=>ut(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw `failed to load wasm binary file at \'${e}\'`;return t.arrayBuffer()}).catch(()=>ut(e))}function ct(e,t,r){return Bt(e).then(o=>WebAssembly.instantiate(o,t)).then(r,o=>{Q(`failed to asynchronously prepare wasm: ${o}`),ye(o);})}function Ut(e,t){var r=q;return ne||typeof WebAssembly.instantiateStreaming!="function"||lt(r)||typeof fetch!="function"?ct(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(i){return Q(`wasm streaming compile failed: ${i}`),Q("falling back to ArrayBuffer instantiation"),ct(r,e,t)}))}var Ae=e=>{for(;0<e.length;)e.shift()(a);},ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,J=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&ht)return ht.decode(e.subarray(t,r));for(o="";t<r;){var i=e[t++];if(i&128){var l=e[t++]&63;if((i&224)==192)o+=String.fromCharCode((i&31)<<6|l);else {var h=e[t++]&63;i=(i&240)==224?(i&15)<<12|l<<6|h:(i&7)<<18|l<<12|h<<6|e[t++]&63,65536>i?o+=String.fromCharCode(i):(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023));}}else o+=String.fromCharCode(i);}return o};class Ht{constructor(t){this.ya=t-24;}}var pt=0,mt=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3;}return t},ft=(e,t,r,o)=>{if(0<o){o=r+o-1;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(127>=l){if(r>=o)break;t[r++]=l;}else {if(2047>=l){if(r+1>=o)break;t[r++]=192|l>>6;}else {if(65535>=l){if(r+2>=o)break;t[r++]=224|l>>12;}else {if(r+3>=o)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63;}t[r++]=128|l>>6&63;}t[r++]=128|l&63;}}t[r]=0;}},ge={},Te=e=>{for(;e.length;){var t=e.pop();e.pop()(t);}};function oe(e){return this.fromWireType(b[e>>2])}var ee={},K={},we={},ie,H=(e,t,r)=>{function o(c){if(c=r(c),c.length!==e.length)throw new ie("Mismatched type converter count");for(var m=0;m<e.length;++m)k(e[m],c[m]);}e.forEach(function(c){we[c]=t;});var i=Array(t.length),l=[],h=0;t.forEach((c,m)=>{K.hasOwnProperty(c)?i[m]=K[c]:(l.push(c),ee.hasOwnProperty(c)||(ee[c]=[]),ee[c].push(()=>{i[m]=K[c],++h,h===l.length&&o(i);}));}),l.length===0&&o(i);},vt,P=e=>{for(var t="";L[e];)t+=vt[L[e++]];return t},g;function Yt(e,t,r={}){var o=t.name;if(!e)throw new g(`type "${o}" must have a positive integer typeid pointer`);if(K.hasOwnProperty(e)){if(r.ib)return;throw new g(`Cannot register type \'${o}\' twice`)}K[e]=t,delete we[e],ee.hasOwnProperty(e)&&(t=ee[e],delete ee[e],t.forEach(i=>i()));}function k(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Yt(e,t,r)}var Se=e=>{throw new g(e.ma.za.xa.name+" instance already deleted")},Re=!1,yt=()=>{},gt=(e,t,r)=>t===r?e:r.Ca===void 0?null:(e=gt(e,t,r.Ca),e===null?null:r.ab(e)),wt={},se=[],$e=()=>{for(;se.length;){var e=se.pop();e.ma.Ka=!1,e.delete();}},le,de={},Gt=(e,t)=>{if(t===void 0)throw new g("ptr should not be undefined");for(;e.Ca;)t=e.Na(t),e=e.Ca;return de[t]},_e=(e,t)=>{if(!t.za||!t.ya)throw new ie("makeClassHandle requires ptr and ptrType");if(!!t.Da!=!!t.Aa)throw new ie("Both smartPtrType and smartPtr must be specified");return t.count={value:1},ue(Object.create(e,{ma:{value:t,writable:!0}}))},ue=e=>typeof FinalizationRegistry>"u"?(ue=t=>t,e):(Re=new FinalizationRegistry(t=>{t=t.ma,--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya));}),ue=t=>{var r=t.ma;return r.Aa&&Re.register(t,{ma:r},t),t},yt=t=>{Re.unregister(t);},ue(e));function Ee(){}var ce=(e,t)=>Object.defineProperty(t,"name",{value:e}),_t=(e,t,r)=>{if(e[t].Ba===void 0){var o=e[t];e[t]=function(...i){if(!e[t].Ba.hasOwnProperty(i.length))throw new g(`Function \'${r}\' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].Ba})!`);return e[t].Ba[i.length].apply(this,i)},e[t].Ba=[],e[t].Ba[o.Oa]=o;}},ke=(e,t,r)=>{if(a.hasOwnProperty(e)){if(r===void 0||a[e].Ba!==void 0&&a[e].Ba[r]!==void 0)throw new g(`Cannot register public name \'${e}\' twice`);if(_t(a,e,e),a.hasOwnProperty(r))throw new g(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);a[e].Ba[r]=t;}else a[e]=t,r!==void 0&&(a[e].vb=r);},Nt=e=>{if(e===void 0)return "_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e};function Jt(e,t,r,o,i,l,h,c){this.name=e,this.constructor=t,this.La=r,this.Fa=o,this.Ca=i,this.cb=l,this.Na=h,this.ab=c,this.kb=[];}var De=(e,t,r)=>{for(;t!==r;){if(!t.Na)throw new g(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.Na(e),t=t.Ca;}return e};function Kt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function Xt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);if(this.Qa){var r=this.Ua();return e!==null&&e.push(this.Fa,r),r}return 0}if(!t||!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);if(r=De(t.ma.ya,t.ma.za.xa,this.xa),this.Qa){if(t.ma.Aa===void 0)throw new g("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(t.ma.Da===this)r=t.ma.Aa;else throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);break;case 1:r=t.ma.Aa;break;case 2:if(t.ma.Da===this)r=t.ma.Aa;else {var o=t.clone();r=this.lb(r,Me(()=>o.delete())),e!==null&&e.push(this.Fa,r);}break;default:throw new g("Unsupporting sharing policy")}}return r}function Qt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.za.name} to parameter type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function he(e,t,r,o,i,l,h,c,m,p,f){this.name=e,this.xa=t,this.Ta=r,this.Pa=o,this.Qa=i,this.jb=l,this.pb=h,this.Za=c,this.Ua=m,this.lb=p,this.Fa=f,i||t.Ca!==void 0?this.toWireType=Xt:(this.toWireType=o?Kt:Qt,this.Ea=null);}var Et=(e,t,r)=>{if(!a.hasOwnProperty(e))throw new ie("Replacing nonexistent public symbol");a[e].Ba!==void 0&&r!==void 0?a[e].Ba[r]=t:(a[e]=t,a[e].Oa=r);},$,Zt=(e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0, a["dynCall_"+e])(t,...r)):t=$.get(t)(...r),t),qt=(e,t)=>(...r)=>Zt(e,t,r),S=(e,t)=>{e=P(e);var r=e.includes("j")?qt(e,t):$.get(t);if(typeof r!="function")throw new g(`unknown function pointer with signature ${e}: ${t}`);return r},Ct,Mt=e=>{e=St(e);var t=P(e);return U(e),t},Ce=(e,t)=>{function r(l){i[l]||K[l]||(we[l]?we[l].forEach(r):(o.push(l),i[l]=!0));}var o=[],i={};throw t.forEach(r),new Ct(`${e}: `+o.map(Mt).join([", "]))},ze=(e,t)=>{for(var r=[],o=0;o<e;o++)r.push(b[t+4*o>>2]);return r};function en(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].Ea===void 0)return !0;return !1}function Oe(e,t,r,o,i){var l=t.length;if(2>l)throw new g("argTypes array size mismatch! Must at least get return value and \'this\' types!");var h=t[1]!==null&&r!==null,c=en(t),m=t[0].name!=="void",p=l-2,f=Array(p),_=[],C=[];return ce(e,function(...u){if(u.length!==p)throw new g(`function ${e} called with ${u.length} arguments, expected ${p}`);if(C.length=0,_.length=h?2:1,_[0]=i,h){var v=t[1].toWireType(C,this);_[1]=v;}for(var y=0;y<p;++y)f[y]=t[y+2].toWireType(C,u[y]),_.push(f[y]);if(u=o(..._),c)Te(C);else for(y=h?1:2;y<t.length;y++){var x=y===1?v:f[y-2];t[y].Ea!==null&&t[y].Ea(x);}return v=m?t[0].fromWireType(u):void 0,v})}var bt=e=>{e=e.trim();let t=e.indexOf("(");return t!==-1?e.substr(0,t):e},We=[],B=[],je=e=>{9<e&&--B[e+1]===0&&(B[e]=void 0,We.push(e));},Be=e=>{if(!e)throw new g("Cannot use deleted val. handle = "+e);return B[e]},Me=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=We.pop()||B.length;return B[t]=e,B[t+1]=1,t}},Lt={name:"emscripten::val",fromWireType:e=>{var t=Be(e);return je(e),t},toWireType:(e,t)=>Me(t),argPackAdvance:8,readValueFromPointer:oe,Ea:null},tn=(e,t,r)=>{switch(t){case 1:return r?function(o){return this.fromWireType(G[o])}:function(o){return this.fromWireType(L[o])};case 2:return r?function(o){return this.fromWireType(Z[o>>1])}:function(o){return this.fromWireType(re[o>>1])};case 4:return r?function(o){return this.fromWireType(A[o>>2])}:function(o){return this.fromWireType(b[o>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ue=(e,t)=>{var r=K[e];if(r===void 0)throw e=`${t} has unknown type ${Mt(e)}`,new g(e);return r},He=e=>{if(e===null)return "null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},nn=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(nt[r>>2])};case 8:return function(r){return this.fromWireType(rt[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},rn=(e,t,r)=>{switch(t){case 1:return r?o=>G[o]:o=>L[o];case 2:return r?o=>Z[o>>1]:o=>re[o>>1];case 4:return r?o=>A[o>>2]:o=>b[o>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ft=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,an=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&re[r];)++r;if(r<<=1,32<r-e&&Ft)return Ft.decode(L.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var i=Z[e+2*o>>1];if(i==0)break;r+=String.fromCharCode(i);}return r},on=(e,t,r)=>{if(r??(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var i=0;i<r;++i)Z[t>>1]=e.charCodeAt(i),t+=2;return Z[t>>1]=0,t-o},sn=e=>2*e.length,ln=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var i=A[e+4*r>>2];if(i==0)break;++r,65536<=i?(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023)):o+=String.fromCharCode(i);}return o},dn=(e,t,r)=>{if(r??(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(A[t>>2]=l,t+=4,t+4>r)break}return A[t>>2]=0,t-o},un=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4;}return t},Ve=[],cn=e=>{var t=Ve.length;return Ve.push(e),t},hn=(e,t)=>{for(var r=Array(e),o=0;o<e;++o)r[o]=Ue(b[t+4*o>>2],"parameter "+o);return r},pn=Reflect.construct,Ye={},It=()=>{if(!Ge){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Y||"./this.program"},t;for(t in Ye)Ye[t]===void 0?delete e[t]:e[t]=Ye[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Ge=r;}return Ge},Ge,mn=[null,[],[]],fn=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);ye("initRandomDevice");},xt=e=>(xt=fn())(e),be=e=>e%4===0&&(e%100!==0||e%400===0),Pt=[31,29,31,30,31,30,31,31,30,31,30,31],At=[31,28,31,30,31,30,31,31,30,31,30,31];function vn(e){var t=Array(mt(e)+1);return ft(e,t,0,t.length),t}var yn=(e,t,r,o)=>{function i(u,v,y){for(u=typeof u=="number"?u.toString():u||"";u.length<v;)u=y[0]+u;return u}function l(u,v){return i(u,v,"0")}function h(u,v){function y(V){return 0>V?-1:0<V?1:0}var x;return (x=y(u.getFullYear()-v.getFullYear()))===0&&(x=y(u.getMonth()-v.getMonth()))===0&&(x=y(u.getDate()-v.getDate())),x}function c(u){switch(u.getDay()){case 0:return new Date(u.getFullYear()-1,11,29);case 1:return u;case 2:return new Date(u.getFullYear(),0,3);case 3:return new Date(u.getFullYear(),0,2);case 4:return new Date(u.getFullYear(),0,1);case 5:return new Date(u.getFullYear()-1,11,31);case 6:return new Date(u.getFullYear()-1,11,30)}}function m(u){var v=u.Ia;for(u=new Date(new Date(u.Ja+1900,0,1).getTime());0<v;){var y=u.getMonth(),x=(be(u.getFullYear())?Pt:At)[y];if(v>x-u.getDate())v-=x-u.getDate()+1,u.setDate(1),11>y?u.setMonth(y+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1));else {u.setDate(u.getDate()+v);break}}return y=new Date(u.getFullYear()+1,0,4),v=c(new Date(u.getFullYear(),0,4)),y=c(y),0>=h(v,u)?0>=h(y,u)?u.getFullYear()+1:u.getFullYear():u.getFullYear()-1}var p=b[o+40>>2];o={sb:A[o>>2],rb:A[o+4>>2],Ra:A[o+8>>2],Va:A[o+12>>2],Sa:A[o+16>>2],Ja:A[o+20>>2],Ga:A[o+24>>2],Ia:A[o+28>>2],wb:A[o+32>>2],qb:A[o+36>>2],tb:p&&p?J(L,p):""},r=r?J(L,r):"",p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in p)r=r.replace(new RegExp(f,"g"),p[f]);var _="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),C="January February March April May June July August September October November December".split(" ");p={"%a":u=>_[u.Ga].substring(0,3),"%A":u=>_[u.Ga],"%b":u=>C[u.Sa].substring(0,3),"%B":u=>C[u.Sa],"%C":u=>l((u.Ja+1900)/100|0,2),"%d":u=>l(u.Va,2),"%e":u=>i(u.Va,2," "),"%g":u=>m(u).toString().substring(2),"%G":m,"%H":u=>l(u.Ra,2),"%I":u=>(u=u.Ra,u==0?u=12:12<u&&(u-=12),l(u,2)),"%j":u=>{for(var v=0,y=0;y<=u.Sa-1;v+=(be(u.Ja+1900)?Pt:At)[y++]);return l(u.Va+v,3)},"%m":u=>l(u.Sa+1,2),"%M":u=>l(u.rb,2),"%n":()=>`\n`,"%p":u=>0<=u.Ra&&12>u.Ra?"AM":"PM","%S":u=>l(u.sb,2),"%t":()=>"	","%u":u=>u.Ga||7,"%U":u=>l(Math.floor((u.Ia+7-u.Ga)/7),2),"%V":u=>{var v=Math.floor((u.Ia+7-(u.Ga+6)%7)/7);if(2>=(u.Ga+371-u.Ia-2)%7&&v++,v)v==53&&(y=(u.Ga+371-u.Ia)%7,y==4||y==3&&be(u.Ja)||(v=1));else {v=52;var y=(u.Ga+7-u.Ia-1)%7;(y==4||y==5&&be(u.Ja%400-1))&&v++;}return l(v,2)},"%w":u=>u.Ga,"%W":u=>l(Math.floor((u.Ia+7-(u.Ga+6)%7)/7),2),"%y":u=>(u.Ja+1900).toString().substring(2),"%Y":u=>u.Ja+1900,"%z":u=>{u=u.qb;var v=0<=u;return u=Math.abs(u)/60,(v?"+":"-")+("0000"+(u/60*100+u%60)).slice(-4)},"%Z":u=>u.tb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0");for(f in p)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),p[f](o)));return r=r.replace(/\\0\\0/g,"%"),f=vn(r),f.length>t?0:(G.set(f,e),f.length-1)};ie=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError";}};for(var Tt=Array(256),Le=0;256>Le;++Le)Tt[Le]=String.fromCharCode(Le);vt=Tt,g=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError";}},Object.assign(Ee.prototype,{isAliasOf:function(e){if(!(this instanceof Ee&&e instanceof Ee))return !1;var t=this.ma.za.xa,r=this.ma.ya;e.ma=e.ma;var o=e.ma.za.xa;for(e=e.ma.ya;t.Ca;)r=t.Na(r),t=t.Ca;for(;o.Ca;)e=o.Na(e),o=o.Ca;return t===o&&r===e},clone:function(){if(this.ma.ya||Se(this),this.ma.Ma)return this.ma.count.value+=1,this;var e=ue,t=Object,r=t.create,o=Object.getPrototypeOf(this),i=this.ma;return e=e(r.call(t,o,{ma:{value:{count:i.count,Ka:i.Ka,Ma:i.Ma,ya:i.ya,za:i.za,Aa:i.Aa,Da:i.Da}}})),e.ma.count.value+=1,e.ma.Ka=!1,e},delete(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");yt(this);var e=this.ma;--e.count.value,e.count.value===0&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0);},isDeleted:function(){return !this.ma.ya},deleteLater:function(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");return se.push(this),se.length===1&&le&&le($e),this.ma.Ka=!0,this}}),a.getInheritedInstanceCount=()=>Object.keys(de).length,a.getLiveInheritedInstances=()=>{var e=[],t;for(t in de)de.hasOwnProperty(t)&&e.push(de[t]);return e},a.flushPendingDeletes=$e,a.setDelayFunction=e=>{le=e,se.length&&le&&le($e);},Object.assign(he.prototype,{eb(e){return this.Za&&(e=this.Za(e)),e},Xa(e){this.Fa?.(e);},argPackAdvance:8,readValueFromPointer:oe,fromWireType:function(e){function t(){return this.Qa?_e(this.xa.La,{za:this.jb,ya:r,Da:this,Aa:e}):_e(this.xa.La,{za:this,ya:e})}var r=this.eb(e);if(!r)return this.Xa(e),null;var o=Gt(this.xa,r);if(o!==void 0)return o.ma.count.value===0?(o.ma.ya=r,o.ma.Aa=e,o.clone()):(o=o.clone(),this.Xa(e),o);if(o=this.xa.cb(r),o=wt[o],!o)return t.call(this);o=this.Pa?o.$a:o.pointerType;var i=gt(r,this.xa,o.xa);return i===null?t.call(this):this.Qa?_e(o.xa.La,{za:o,ya:i,Da:this,Aa:e}):_e(o.xa.La,{za:o,ya:i})}}),Ct=a.UnboundTypeError=((e,t)=>{var r=ce(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`\n`+o.replace(/^Error(:[^\\n]*)?\\n/,""));});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r})(Error,"UnboundTypeError"),B.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=()=>B.length/2-5-We.length;var gn={c:(e,t,r,o)=>{ye(`Assertion failed: ${e?J(L,e):""}, at: `+[t?t?J(L,t):"":"unknown filename",r,o?o?J(L,o):"":"unknown function"]);},m:(e,t,r)=>{var o=new Ht(e);throw b[o.ya+16>>2]=0,b[o.ya+4>>2]=t,b[o.ya+8>>2]=r,pt=e,pt},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:e=>{var t=ge[e];delete ge[e];var r=t.Ua,o=t.Fa,i=t.Ya,l=i.map(h=>h.hb).concat(i.map(h=>h.nb));H([e],l,h=>{var c={};return i.forEach((m,p)=>{var f=h[p],_=m.fb,C=m.gb,u=h[p+i.length],v=m.mb,y=m.ob;c[m.bb]={read:x=>f.fromWireType(_(C,x)),write:(x,V)=>{var R=[];v(y,x,u.toWireType(R,V)),Te(R);}};}),[{name:t.name,fromWireType:m=>{var p={},f;for(f in c)p[f]=c[f].read(m);return o(m),p},toWireType:(m,p)=>{for(var f in c)if(!(f in p))throw new TypeError(`Missing field: "${f}"`);var _=r();for(f in c)c[f].write(_,p[f]);return m!==null&&m.push(o,_),_},argPackAdvance:8,readValueFromPointer:oe,Ea:o}]});},I:()=>{},Y:(e,t,r,o)=>{t=P(t),k(e,{name:t,fromWireType:function(i){return !!i},toWireType:function(i,l){return l?r:o},argPackAdvance:8,readValueFromPointer:function(i){return this.fromWireType(L[i])},Ea:null});},r:(e,t,r,o,i,l,h,c,m,p,f,_,C)=>{f=P(f),l=S(i,l),c&&(c=S(h,c)),p&&(p=S(m,p)),C=S(_,C);var u=Nt(f);ke(u,function(){Ce(`Cannot construct ${f} due to unbound types`,[o]);}),H([e,t,r],o?[o]:[],v=>{if(v=v[0],o)var y=v.xa,x=y.La;else x=Ee.prototype;v=ce(f,function(...Je){if(Object.getPrototypeOf(this)!==V)throw new g("Use \'new\' to construct "+f);if(R.Ha===void 0)throw new g(f+" has no accessible constructor");var kt=R.Ha[Je.length];if(kt===void 0)throw new g(`Tried to invoke ctor of ${f} with invalid number of parameters (${Je.length}) - expected (${Object.keys(R.Ha).toString()}) parameters instead!`);return kt.apply(this,Je)});var V=Object.create(x,{constructor:{value:v}});v.prototype=V;var R=new Jt(f,v,V,C,y,l,c,p);if(R.Ca){var pe;(pe=R.Ca).Wa??(pe.Wa=[]),R.Ca.Wa.push(R);}return y=new he(f,R,!0,!1,!1),pe=new he(f+"*",R,!1,!1,!1),x=new he(f+" const*",R,!1,!0,!1),wt[e]={pointerType:pe,$a:x},Et(u,v),[y,pe,x]});},q:(e,t,r,o,i,l)=>{var h=ze(t,r);i=S(o,i),H([],[e],c=>{c=c[0];var m=`constructor ${c.name}`;if(c.xa.Ha===void 0&&(c.xa.Ha=[]),c.xa.Ha[t-1]!==void 0)throw new g(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class \'${c.name}\'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.xa.Ha[t-1]=()=>{Ce(`Cannot construct ${c.name} due to unbound types`,h);},H([],h,p=>(p.splice(1,0,null),c.xa.Ha[t-1]=Oe(m,p,null,i,l),[])),[]});},f:(e,t,r,o,i,l,h,c)=>{var m=ze(r,o);t=P(t),t=bt(t),l=S(i,l),H([],[e],p=>{function f(){Ce(`Cannot call ${_} due to unbound types`,m);}p=p[0];var _=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),c&&p.xa.kb.push(t);var C=p.xa.La,u=C[t];return u===void 0||u.Ba===void 0&&u.className!==p.name&&u.Oa===r-2?(f.Oa=r-2,f.className=p.name,C[t]=f):(_t(C,t,_),C[t].Ba[r-2]=f),H([],m,v=>(v=Oe(_,v,p,l,h),C[t].Ba===void 0?(v.Oa=r-2,C[t]=v):C[t].Ba[r-2]=v,[])),[]});},X:e=>k(e,Lt),x:(e,t,r,o)=>{function i(){}t=P(t),i.values={},k(e,{name:t,constructor:i,fromWireType:function(l){return this.constructor.values[l]},toWireType:(l,h)=>h.value,argPackAdvance:8,readValueFromPointer:tn(t,r,o),Ea:null}),ke(t,i);},k:(e,t,r)=>{var o=Ue(e,"enum");t=P(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:ce(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o;},C:(e,t,r)=>{t=P(t),k(e,{name:t,fromWireType:o=>o,toWireType:(o,i)=>i,argPackAdvance:8,readValueFromPointer:nn(t,r),Ea:null});},E:(e,t,r,o,i,l)=>{var h=ze(t,r);e=P(e),e=bt(e),i=S(o,i),ke(e,function(){Ce(`Cannot call ${e} due to unbound types`,h);},t-1),H([],h,c=>(Et(e,Oe(e,[c[0],null].concat(c.slice(1)),null,i,l),t-1),[]));},l:(e,t,r,o,i)=>{if(t=P(t),i===-1&&(i=4294967295),i=c=>c,o===0){var l=32-8*r;i=c=>c<<l>>>l;}var h=t.includes("unsigned")?function(c,m){return m>>>0}:function(c,m){return m};k(e,{name:t,fromWireType:i,toWireType:h,argPackAdvance:8,readValueFromPointer:rn(t,r,o!==0),Ea:null});},g:(e,t,r)=>{function o(l){return new i(G.buffer,b[l+4>>2],b[l>>2])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=P(r),k(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ib:!0});},w:e=>{k(e,Lt);},ca:(e,t,r,o,i,l,h,c,m,p,f,_)=>{r=P(r),l=S(i,l),c=S(h,c),p=S(m,p),_=S(f,_),H([e],[t],C=>(C=C[0],[new he(r,C.xa,!1,!1,!0,C,o,l,c,p,_)]));},D:(e,t)=>{t=P(t);var r=t==="std::string";k(e,{name:t,fromWireType:function(o){var i=b[o>>2],l=o+4;if(r)for(var h=l,c=0;c<=i;++c){var m=l+c;if(c==i||L[m]==0){if(h=h?J(L,h,m-h):"",p===void 0)var p=h;else p+="\\0",p+=h;h=m+1;}}else {for(p=Array(i),c=0;c<i;++c)p[c]=String.fromCharCode(L[l+c]);p=p.join("");}return U(o),p},toWireType:function(o,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var l=typeof i=="string";if(!(l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array))throw new g("Cannot pass non-string to std::string");var h=r&&l?mt(i):i.length,c=Ne(4+h+1),m=c+4;if(b[c>>2]=h,r&&l)ft(i,L,m,h+1);else if(l)for(l=0;l<h;++l){var p=i.charCodeAt(l);if(255<p)throw U(m),new g("String has UTF-16 code units that do not fit in 8 bits");L[m+l]=p;}else for(l=0;l<h;++l)L[m+l]=i[l];return o!==null&&o.push(U,c),c},argPackAdvance:8,readValueFromPointer:oe,Ea(o){U(o);}});},u:(e,t,r)=>{if(r=P(r),t===2)var o=an,i=on,l=sn,h=c=>re[c>>1];else t===4&&(o=ln,i=dn,l=un,h=c=>b[c>>2]);k(e,{name:r,fromWireType:c=>{for(var m=b[c>>2],p,f=c+4,_=0;_<=m;++_){var C=c+4+_*t;(_==m||h(C)==0)&&(f=o(f,C-f),p===void 0?p=f:(p+="\\0",p+=f),f=C+t);}return U(c),p},toWireType:(c,m)=>{if(typeof m!="string")throw new g(`Cannot pass non-string to C++ string type ${r}`);var p=l(m),f=Ne(4+p+t);return b[f>>2]=p/t,i(m,f+4,p+t),c!==null&&c.push(U,f),f},argPackAdvance:8,readValueFromPointer:oe,Ea(c){U(c);}});},s:(e,t,r,o,i,l)=>{ge[e]={name:P(t),Ua:S(r,o),Fa:S(i,l),Ya:[]};},j:(e,t,r,o,i,l,h,c,m,p)=>{ge[e].Ya.push({bb:P(t),hb:r,fb:S(o,i),gb:l,nb:h,mb:S(c,m),ob:p});},Z:(e,t)=>{t=P(t),k(e,{ub:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}});},J:()=>{throw 1/0},aa:(e,t,r,o)=>(e=Ve[e],t=Be(t),e(null,t,r,o)),F:je,$:(e,t,r)=>{var o=hn(e,t),i=o.shift();e--;var l=Array(e);return t=`methodCaller<(${o.map(h=>h.name).join(", ")}) => ${i.name}>`,cn(ce(t,(h,c,m,p)=>{for(var f=0,_=0;_<e;++_)l[_]=o[_].readValueFromPointer(p+f),f+=o[_].argPackAdvance;return c=r===1?pn(c,l):c.apply(h,l),h=[],c=i.toWireType(h,c),h.length&&(b[m>>2]=Me(h)),c}))},ba:e=>{9<e&&(B[e+1]+=1);},_:e=>{var t=Be(e);Te(t),je(e);},o:(e,t)=>(e=Ue(e,"_emval_take_value"),e=e.readValueFromPointer(t),Me(e)),W:()=>{ye("");},V:()=>performance.now(),L:e=>{var t=L.length;if(e>>>=0,2147483648<e)return !1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var i=Math;o=Math.max(e,o);e:{i=(i.min.call(i,2147483648,o+(65536-o%65536)%65536)-ve.buffer.byteLength+65535)/65536;try{ve.grow(i),at();var l=1;break e}catch{}l=void 0;}if(l)return !0}return !1},S:(e,t)=>{var r=0;return It().forEach((o,i)=>{var l=t+r;for(i=b[e+4*i>>2]=l,l=0;l<o.length;++l)G[i++]=o.charCodeAt(l);G[i]=0,r+=o.length+1;}),0},T:(e,t)=>{var r=It();b[e>>2]=r.length;var o=0;return r.forEach(i=>o+=i.length+1),b[t>>2]=o,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(e,t,r,o)=>{for(var i=0,l=0;l<r;l++){var h=b[t>>2],c=b[t+4>>2];t+=8;for(var m=0;m<c;m++){var p=L[h+m],f=mn[e];p===0||p===10?((e===1?Wt:Q)(J(f,0)),f.length=0):f.push(p);}i+=c;}return b[o>>2]=i,0},U:(e,t)=>(xt(L.subarray(e,e+t)),0),i:Mn,d:Cn,e:En,p:bn,y:In,b:wn,a:_n,h:Fn,n:Ln,G:xn,K:(e,t,r,o)=>yn(e,t,r,o)},F=function(){function e(r){return F=r.exports,ve=F.da,at(),$=F.ha,it.unshift(F.ea),N--,a.monitorRunDependencies?.(N),N==0&&(ae&&(r=ae,ae=null,r())),F}var t={a:gn};if(N++,a.monitorRunDependencies?.(N),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(r){Q(`Module.instantiateWasm callback failed with error: ${r}`),w(r);}return Ut(t,function(r){e(r.instance);}).catch(w),{}}(),Ne=e=>(Ne=F.fa)(e),St=e=>(St=F.ga)(e),U=e=>(U=F.ia)(e),D=(e,t)=>(D=F.ja)(e,t),z=e=>(z=F.ka)(e),O=()=>(O=F.la)();a.dynCall_iijj=(e,t,r,o,i,l)=>(a.dynCall_iijj=F.na)(e,t,r,o,i,l),a.dynCall_vijj=(e,t,r,o,i,l)=>(a.dynCall_vijj=F.oa)(e,t,r,o,i,l),a.dynCall_jiii=(e,t,r,o)=>(a.dynCall_jiii=F.pa)(e,t,r,o),a.dynCall_jii=(e,t,r)=>(a.dynCall_jii=F.qa)(e,t,r);var Rt=a.dynCall_viiij=(e,t,r,o,i,l)=>(Rt=a.dynCall_viiij=F.ra)(e,t,r,o,i,l);a.dynCall_jiji=(e,t,r,o,i)=>(a.dynCall_jiji=F.sa)(e,t,r,o,i),a.dynCall_viijii=(e,t,r,o,i,l,h)=>(a.dynCall_viijii=F.ta)(e,t,r,o,i,l,h),a.dynCall_iiiiij=(e,t,r,o,i,l,h)=>(a.dynCall_iiiiij=F.ua)(e,t,r,o,i,l,h),a.dynCall_iiiiijj=(e,t,r,o,i,l,h,c,m)=>(a.dynCall_iiiiijj=F.va)(e,t,r,o,i,l,h,c,m),a.dynCall_iiiiiijj=(e,t,r,o,i,l,h,c,m,p)=>(a.dynCall_iiiiiijj=F.wa)(e,t,r,o,i,l,h,c,m,p);function wn(e,t){var r=O();try{$.get(e)(t);}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function _n(e,t,r){var o=O();try{$.get(e)(t,r);}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function En(e,t,r,o){var i=O();try{return $.get(e)(t,r,o)}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function Cn(e,t,r){var o=O();try{return $.get(e)(t,r)}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function Mn(e,t){var r=O();try{return $.get(e)(t)}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function bn(e,t,r,o,i,l){var h=O();try{return $.get(e)(t,r,o,i,l)}catch(c){if(z(h),c!==c+0)throw c;D(1,0);}}function Ln(e,t,r,o,i){var l=O();try{$.get(e)(t,r,o,i);}catch(h){if(z(l),h!==h+0)throw h;D(1,0);}}function Fn(e,t,r,o){var i=O();try{$.get(e)(t,r,o);}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function In(e){var t=O();try{$.get(e)();}catch(r){if(z(t),r!==r+0)throw r;D(1,0);}}function xn(e,t,r,o,i,l){var h=O();try{Rt(e,t,r,o,i,l);}catch(c){if(z(h),c!==c+0)throw c;D(1,0);}}var Fe;ae=function e(){Fe||$t(),Fe||(ae=e);};function $t(){function e(){if(!Fe&&(Fe=!0,a.calledRun=!0,!tt)){if(Ae(it),d(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();st.unshift(t);}Ae(st);}}if(!(0<N)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)jt();Ae(ot),0<N||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("");},1),e();},1)):e());}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return $t(),T}})(),Dt=Sn;var X=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(n){return await Dt({locateFile:()=>n})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async n=>{let a=`https://unpkg.com/${me.name}@${me.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${n.message}`),console.warn(`Attempting to load WASM from backup URL: ${a}`);try{return await this._tryLoad(a)}catch(d){throw console.error(`Primary WASM URL failed: ${n.message}`),console.error(`Backup WASM URL failed: ${d.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(n){this._wasmURL=n,this._ModulePromise=null;}};I(X,"_ModulePromise",null),I(X,"_wasmURL",`https://cdn.jsdelivr.net/npm/${me.name}@${me.version}/dist/dotlottie-player.wasm`);var xe=class{constructor(){I(this,"_eventListeners",new Map);}addEventListener(n,a){let d=this._eventListeners.get(n);d||(d=new Set,this._eventListeners.set(n,d)),d.add(a);}removeEventListener(n,a){let d=this._eventListeners.get(n);d&&(a?(d.delete(a),d.size===0&&this._eventListeners.delete(n)):this._eventListeners.delete(n));}dispatch(n){this._eventListeners.get(n.type)?.forEach(d=>d(n));}removeAllEventListeners(){this._eventListeners.clear();}};function Rn(s){return /^#([\\da-f]{6}|[\\da-f]{8})$/iu.test(s)}function zt(s){if(!Rn(s))return 0;let n=s.replace("#","");return n=n.length===6?`${n}ff`:n,parseInt(n,16)}var Qe=(s,n)=>s==="reverse"?n.Mode.Reverse:s==="bounce"?n.Mode.Bounce:s==="reverse-bounce"?n.Mode.ReverseBounce:n.Mode.Forward,Ze=(s,n)=>s==="contain"?n.Fit.Contain:s==="cover"?n.Fit.Cover:s==="fill"?n.Fit.Fill:s==="fit-height"?n.Fit.FitHeight:s==="fit-width"?n.Fit.FitWidth:n.Fit.None,qe=(s,n)=>{let a=new n.VectorFloat;return a.push_back(s[0]),a.push_back(s[1]),a},et=(s,n)=>{let a=new n.VectorFloat;return s.length!==2||(a.push_back(s[0]),a.push_back(s[1])),a},M=class M{constructor(n){I(this,"_canvas");I(this,"_context",null);I(this,"_eventManager");I(this,"_animationFrameId",null);I(this,"_frameManager");I(this,"_dotLottieCore",null);I(this,"_renderConfig",{});I(this,"_isFrozen",!1);I(this,"_backgroundColor",null);this._canvas=n.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new xe,this._frameManager=new Ie,this._renderConfig=n.renderConfig??{},X.load().then(a=>{M._wasmModule=a,this._dotLottieCore=new a.DotLottiePlayer({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",a),segment:et(n.segment??[],a),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,a),fit:Ze(n.layout.fit,a)}:a.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor);}).catch(a=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${a}`)});});}_loadFromSrc(n){async function a(){let d=await fetch(n);if(!d.ok)throw new Error(`Failed to fetch the animation data from URL: ${n}. ${d.status}: ${d.statusText}`);let w=(d.headers.get("content-type")??"").trim(),T;return ["application/json","text/plain"].some(W=>w.startsWith(W))?T=await d.text():T=await d.arrayBuffer(),T}a().then(d=>{this._loadFromData(d);}).catch(d=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${n}. ${d}`)});});}_loadFromData(n){if(this._dotLottieCore===null)return;let a=this._canvas.width,d=this._canvas.height,w=!1;if(typeof n=="string")w=this._dotLottieCore.loadAnimationData(n,a,d);else if(n instanceof ArrayBuffer)w=this._dotLottieCore.loadDotLottieData(n,a,d);else if(typeof n=="object")w=this._dotLottieCore.loadAnimationData(JSON.stringify(n),a,d);else {this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});return}w?(this._eventManager.dispatch({type:"load"}),te&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")});}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let n=this._dotLottieCore?.config().layout;if(n)return {align:[n.align.get(0),n.align.get(1)],fit:(()=>{switch(n.fit){case M._wasmModule?.Fit.Contain:return "contain";case M._wasmModule?.Fit.Cover:return "cover";case M._wasmModule?.Fit.Fill:return "fill";case M._wasmModule?.Fit.FitHeight:return "fit-height";case M._wasmModule?.Fit.FitWidth:return "fit-width";case M._wasmModule?.Fit.None:return "none";default:return "contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let n=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!n)return null;let a=JSON.parse(n);return Object.keys(a).length===0?null:a}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let n=this._dotLottieCore?.config().segment;if(n&&n.size()===2)return [n.get(0),n.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let n=this._dotLottieCore?.config().mode;return n===M._wasmModule?.Mode.Reverse?"reverse":n===M._wasmModule?.Mode.Bounce?"bounce":n===M._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(n){this._dotLottieCore===null||M._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",M._wasmModule),segment:et(n.segment??[],M._wasmModule),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,M._wasmModule),fit:Ze(n.layout.fit,M._wasmModule)}:M._wasmModule.createDefaultLayout()}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),this.setBackgroundColor(n.backgroundColor??""));}_render(){if(this._dotLottieCore===null||this._context===null)return !1;if(this._dotLottieCore.render()){let a=this._dotLottieCore.buffer(),d=new Uint8ClampedArray(a,0,this._canvas.width*this._canvas.height*4),w=null;return typeof ImageData>"u"?(w=this._context.createImageData(this._canvas.width,this._canvas.height),w.data.set(d)):w=new ImageData(d,this._canvas.width,this._canvas.height),this._context.putImageData(w,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return !1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let n=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this));}play(){if(this._dotLottieCore===null)return;let n=this._dotLottieCore.play();this._isFrozen=!1,n&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)));}pause(){if(this._dotLottieCore===null)return;this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"});}stop(){if(this._dotLottieCore===null)return;this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}));}setFrame(n){if(this._dotLottieCore===null||n<0||n>this._dotLottieCore.totalFrames())return;this._dotLottieCore.seek(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render());}setSpeed(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:n});}setBackgroundColor(n){this._dotLottieCore!==null&&(te&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=n:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:zt(n)}),this._backgroundColor=n);}setLoop(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:n});}setUseFrameInterpolation(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:n});}addEventListener(n,a){this._eventManager.addEventListener(n,a);}removeEventListener(n,a){this._eventManager.removeEventListener(n,a);}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners();}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}));}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}));}resize(){if(te&&this._canvas instanceof HTMLCanvasElement){let a=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:d,width:w}=this._canvas.getBoundingClientRect();this._canvas.width=w*a,this._canvas.height=d*a;}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render();}setSegment(n,a){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:et([n,a],M._wasmModule)});}setMode(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:Qe(n,M._wasmModule)});}setRenderConfig(n){this._renderConfig=n;}loadAnimation(n){if(this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===n)return;this._dotLottieCore.loadAnimation(n,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${n}`)});}setMarker(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:n});}markers(){let n=this._dotLottieCore?.markers();if(n){let a=[];for(let d=0;d<n.size();d+=1){let w=n.get(d);a.push({name:w.name,time:w.time,duration:w.duration});}return a}return []}loadTheme(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadTheme(n);return this._render(),a}loadThemeData(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadThemeData(n);return this._render(),a}setLayout(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:qe(n.align,M._wasmModule),fit:Ze(n.fit,M._wasmModule)}});}setViewport(n,a,d,w){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(n,a,d,w)}static setWasmUrl(n){X.setWasmUrl(n);}loadStateMachine(n){return this._dotLottieCore?.loadStateMachine(n)??!1}startStateMachine(){let n=this._dotLottieCore?.startStateMachine()??!1;return n&&this._setupStateMachineListeners(),n}stopStateMachine(){let n=this._dotLottieCore?.stopStateMachine()??!1;return n&&this._cleanupStateMachineListeners(),n}_getPointerPosition(n){let a=this._canvas.getBoundingClientRect(),d=this._canvas.width/a.width,w=this._canvas.height/a.height,T=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,W=(n.clientX-a.left)*d/T,Y=(n.clientY-a.top)*w/T;return {x:W,y:Y}}_onPointerUp(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerUp: ${a} ${d}`);}_onPointerDown(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerDown: ${a} ${d}`);}_onPointerMove(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerMove: ${a} ${d}`);}_onPointerEnter(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerEnter: ${a} ${d}`);}_onPointerLeave(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerExit: ${a} ${d}`);}_onComplete(){this.postStateMachineEvent("OnComplete");}postStateMachineEvent(n){return this._dotLottieCore?.postEventPayload(n)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return [];let n=this._dotLottieCore.stateMachineFrameworkSetup(),a=[];for(let d=0;d<n.size();d+=1)a.push(n.get(d));return a}_setupStateMachineListeners(){if(te&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let n=this.getStateMachineListeners();n.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),n.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),n.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),n.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),n.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),n.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this));}}_cleanupStateMachineListeners(){te&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)));}loadStateMachineData(n){return this._dotLottieCore?.loadStateMachineData(n)??!1}animationSize(){let n=this._dotLottieCore?.animationSize().get(0)??0,a=this._dotLottieCore?.animationSize().get(1)??0;return {width:n,height:a}}setStateMachineBooleanContext(n,a){return this._dotLottieCore?.setStateMachineBooleanContext(n,a)??!1}setStateMachineNumericContext(n,a){return this._dotLottieCore?.setStateMachineNumericContext(n,a)??!1}setStateMachineStringContext(n,a){return this._dotLottieCore?.setStateMachineStringContext(n,a)??!1}};I(M,"_wasmModule",null);var fe=M;var E=new Map,$n={ready:s=>n=>{let a={id:"",method:"onReady",result:{instanceId:s,event:n}};self.postMessage(a);},complete:s=>n=>{let a={id:"",method:"onComplete",result:{instanceId:s,event:n}};self.postMessage(a);},load:s=>n=>{let d={id:"",method:"onLoad",result:{instanceId:s,event:n}};self.postMessage(d);},loadError:s=>n=>{let d={id:"",method:"onLoadError",result:{instanceId:s,event:n}};self.postMessage(d);},loop:s=>n=>{let d={id:"",method:"onLoop",result:{instanceId:s,event:n}};self.postMessage(d);},play:s=>n=>{let d={id:"",method:"onPlay",result:{instanceId:s,event:n}};self.postMessage(d);},pause:s=>n=>{let d={id:"",method:"onPause",result:{instanceId:s,event:n}};self.postMessage(d);},stop:s=>n=>{let d={id:"",method:"onStop",result:{instanceId:s,event:n}};self.postMessage(d);},frame:s=>n=>{let d={id:"",method:"onFrame",result:{instanceId:s,event:n}};self.postMessage(d);},render:s=>n=>{let d={id:"",method:"onRender",result:{instanceId:s,event:n}};self.postMessage(d);},freeze:s=>n=>{let d={id:"",method:"onFreeze",result:{instanceId:s,event:n}};self.postMessage(d);},unfreeze:s=>n=>{let d={id:"",method:"onUnfreeze",result:{instanceId:s,event:n}};self.postMessage(d);},destroy:s=>n=>{let d={id:"",method:"onDestroy",result:{instanceId:s,event:n}};self.postMessage(d);}},Ot={getDotLottieInstanceState(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return {state:{isLoaded:a.isLoaded,isPaused:a.isPaused,isPlaying:a.isPlaying,isStopped:a.isStopped,isFrozen:a.isFrozen,loop:a.loop,mode:a.mode,speed:a.speed,currentFrame:a.currentFrame,totalFrames:a.totalFrames,duration:a.duration,useFrameInterpolation:a.useFrameInterpolation,renderConfig:a.renderConfig,marker:a.marker,backgroundColor:a.backgroundColor,markers:a.markers(),activeAnimationId:a.activeAnimationId,activeThemeId:a.activeThemeId,autoplay:a.autoplay,segment:a.segment,layout:a.layout,segmentDuration:a.segmentDuration,isReady:a.isReady,manifest:a.manifest}}},setLayout(s){let n=s.params.instanceId,a=s.params.layout,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLayout(a),{success:!0}},getStateMachineListeners(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.getStateMachineListeners()},postStateMachineEvent(s){let n=s.params.instanceId,a=s.params.event,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.postStateMachineEvent(a)},startStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.startStateMachine()},stopStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.stopStateMachine()},loadStateMachine(s){let n=s.params.instanceId,a=s.params.stateMachineId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadStateMachine(a)},create:s=>{let n=s.params.instanceId,a=s.params.config,d=s.params.width,w=s.params.height;if(E.has(n))throw new Error(`Instance with id ${n} already exists.`);let T=new fe(a);return T.canvas.height=w,T.canvas.width=d,E.set(n,T),["complete","frame","load","loadError","loop","pause","play","stop","destroy","freeze","unfreeze","render","ready"].forEach(Y=>{T.addEventListener(Y,$n[Y](n));}),{instanceId:n}},destroy:s=>{let n=s.params.instanceId,a=E.get(n);a&&(a.destroy(),E.delete(n));},freeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.freeze();},load:s=>{let n=s.params.instanceId,a=s.params.config,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.load(a);},loadAnimation:s=>{let n=s.params.instanceId,a=s.params.animationId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.loadAnimation(a);},loadTheme:s=>{let n=s.params.instanceId,a=s.params.themeId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadTheme(a)},loadThemeData:s=>{let n=s.params.instanceId,a=s.params.themeData,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadThemeData(a)},pause:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.pause()},play:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.play()},resize:s=>{let n=s.params.instanceId,a=s.params.width,d=s.params.height,w=E.get(n);if(!w)throw new Error(`Instance with id ${n} does not exist.`);return w.canvas.height=d,w.canvas.width=a,w.resize(),{success:!0}},setBackgroundColor:s=>{let n=s.params.instanceId,a=s.params.backgroundColor,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setBackgroundColor(a);},setFrame:s=>{let n=s.params.instanceId,a=s.params.frame,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setFrame(a);},setMode:s=>{let n=s.params.instanceId,a=s.params.mode,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setMode(a);},setRenderConfig:s=>{let n=s.params.instanceId,a=s.params.renderConfig,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setRenderConfig(a);},setSegment:s=>{let n=s.params.instanceId,a=s.params.segment,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSegment(a[0],a[1]);},setSpeed:s=>{let n=s.params.instanceId,a=s.params.speed,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSpeed(a);},setUseFrameInterpolation:s=>{let n=s.params.instanceId,a=s.params.useFrameInterpolation,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setUseFrameInterpolation(a);},setWasmUrl:s=>{fe.setWasmUrl(s.params.url);},stop:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.stop();},unfreeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.unfreeze();},setViewport(s){let n=s.params.instanceId,a=s.params.x,d=s.params.y,w=s.params.width,T=s.params.height,W=E.get(n);if(!W)throw new Error(`Instance with id ${n} does not exist.`);return W.setViewport(a,d,w,T)},setMarker(s){let n=s.params.instanceId,a=s.params.marker,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setMarker(a),{success:!0}},setLoop(s){let n=s.params.instanceId,a=s.params.loop,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLoop(a),{success:!0}}};function kn(s){let n=s.method;if(typeof Ot[n]=="function")return Ot[n](s);throw new Error(`Method ${n} is not implemented in commands.`)}self.onmessage=s=>{try{let n=kn(s.data),a={id:s.data.id,method:s.data.method,result:n};self.postMessage(a);}catch(n){let a={id:s.data.id,method:s.data.method,error:n.message};self.postMessage(a);}};var Dn="",lr=Dn;\n\nexport { lr as default };\n';var pe;var rr=(pe=class{constructor(){$(this,"_workers",new Map);$(this,"_animationWorkerMap",new Map)}_createWorker(a){let s=new Blob([ar],{type:"application/javascript"});return new Worker(URL.createObjectURL(s),{type:"module",name:a})}getWorker(a){return this._workers.has(a)||this._workers.set(a,this._createWorker(a)),this._workers.get(a)}assignAnimationToWorker(a,s){this._animationWorkerMap.set(a,s)}unassignAnimationFromWorker(a){this._animationWorkerMap.delete(a)}sendMessage(a,s,i){this.getWorker(a).postMessage(s,i||[])}terminateWorker(a){let s=this._workers.get(a);s&&(s.terminate(),this._workers.delete(a))}},o(pe,"Se"),pe);function Ht(l){if(l instanceof OffscreenCanvas)return{width:l.width,height:l.height};let{height:a,width:s}=l.getBoundingClientRect();return{width:s*window.devicePixelRatio,height:a*window.devicePixelRatio}}o(Ht,"Ut");function Vt(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}o(Vt,"Bt");var G;var Yt=(G=class{constructor(a){$(this,"_eventManager",new Jt);$(this,"_id");$(this,"_worker");$(this,"_canvas");$(this,"_dotLottieInstanceState",{markers:[],autoplay:false,backgroundColor:"",currentFrame:0,duration:0,loop:false,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:false,isPlaying:false,isPaused:false,isStopped:true,isFrozen:false,useFrameInterpolation:false,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:false,manifest:null});$(this,"_created",false);this._canvas=a.canvas,this._id=`dotlottie-${Vt()}`;let s=a.workerId||"defaultWorker";this._worker=G._workerManager.getWorker(s),G._workerManager.assignAnimationToWorker(this._id,s),G._wasmUrl&&this._sendMessage("setWasmUrl",{url:G._wasmUrl}),this._create(a),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this))}async _handleWorkerEvent(a){let s=a.data;s.id||(s.method==="onLoad"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)),s.method==="onComplete"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)),s.method==="onDestroy"&&s.result.instanceId===this._id&&this._eventManager.dispatch(s.result.event),s.method==="onUnfreeze"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=false,this._eventManager.dispatch(s.result.event)),s.method==="onFrame"&&s.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=s.result.event.currentFrame,this._eventManager.dispatch(s.result.event)),s.method==="onRender"&&s.result.instanceId===this._id&&this._eventManager.dispatch(s.result.event),s.method==="onFreeze"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)),s.method==="onPause"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)),s.method==="onPlay"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)),s.method==="onStop"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)),s.method==="onLoadError"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)),s.method==="onReady"&&s.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(s.result.event)))}async _create(a){let s;this._canvas instanceof HTMLCanvasElement?s=this._canvas.transferControlToOffscreen():s=this._canvas;let{instanceId:i}=await this._sendMessage("create",{instanceId:this._id,config:{...a,canvas:s},...Ht(this._canvas)},[s]);if(i!==this._id)throw new Error("Instance ID mismatch");this._created=true,await this._updateDotLottieInstanceState()}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(a){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:a}),await this._updateDotLottieInstanceState())}async setMode(a){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:a}),await this._updateDotLottieInstanceState())}async setFrame(a){this._created&&(await this._sendMessage("setFrame",{frame:a,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(a,s){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[a,s]}),await this._updateDotLottieInstanceState())}async setRenderConfig(a){this._created&&(await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:a}),await this._updateDotLottieInstanceState())}async setUseFrameInterpolation(a){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:a}),await this._updateDotLottieInstanceState())}async loadTheme(a){if(!this._created)return false;let s=this._sendMessage("loadTheme",{instanceId:this._id,themeId:a});return await this._updateDotLottieInstanceState(),s}async load(a){this._created&&(await this._sendMessage("load",{config:a,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(a){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:a}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:a,width:s}=Ht(this._canvas);this._canvas.width=s,this._canvas.height=a,await this._sendMessage("resize",{height:a,instanceId:this._id,width:s}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=false,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),G._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(a){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:a}),await this._updateDotLottieInstanceState())}async loadAnimation(a){this._created&&(await this._sendMessage("loadAnimation",{animationId:a,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(a){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:a}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let a=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=a.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(a){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:a}),await this._updateDotLottieInstanceState())}async loadThemeData(a){if(!this._created)return false;let s=await this._sendMessage("loadThemeData",{instanceId:this._id,themeData:a});return await this._updateDotLottieInstanceState(),s}async setViewport(a,s,i,_){return this._created?this._sendMessage("setViewport",{x:a,y:s,width:i,height:_,instanceId:this._id}):false}async _sendMessage(a,s,i){let _={id:`dotlottie-request-${Vt()}`,method:a,params:s};return this._worker.postMessage(_,i||[]),new Promise((w,x)=>{let F=o(D=>{let b=D.data;b.id===_.id&&(this._worker.removeEventListener("message",F),b.error?x(new Error(`Failed to execute method ${a}: ${b.error}`)):w(b.result))},"U");this._worker.addEventListener("message",F)})}addEventListener(a,s){this._eventManager.addEventListener(a,s)}removeEventListener(a,s){this._eventManager.removeEventListener(a,s)}static setWasmUrl(a){G._wasmUrl=a}async loadStateMachine(a){if(!this._created)return false;let s=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:a});return await this._updateDotLottieInstanceState(),s}async startStateMachine(){if(!this._created)return false;this._setupStateMachineListeners();let a=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),a}async stopStateMachine(){return this._created?(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id})):false}async postStateMachineEvent(a){return this._created?this._sendMessage("postStateMachineEvent",{event:a,instanceId:this._id}):false}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(a){let s=this._canvas.getBoundingClientRect(),i=this._canvas.width/s.width,_=this._canvas.height/s.height,w=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1,x=(a.clientX-s.left)*i/w,F=(a.clientY-s.top)*_/w;return{x,y:F}}_onPointerUp(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerUp: ${s} ${i}`)}_onPointerDown(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerDown: ${s} ${i}`)}_onPointerMove(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerMove: ${s} ${i}`)}_onPointerEnter(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerEnter: ${s} ${i}`)}_onPointerLeave(a){let{x:s,y:i}=this._getPointerPosition(a);this.postStateMachineEvent(`OnPointerExit: ${s} ${i}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}async _setupStateMachineListeners(){if(oe&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let a=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});a.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),a.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),a.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),a.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),a.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),a.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){oe&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}},o(G,"z2"),G);$(Yt,"_workerManager",new rr),$(Yt,"_wasmUrl","");var nr=Ya(Na());function ir({children:l,className:a="",setCanvasRef:s,setContainerRef:i,style:_,...w}){const x={width:"100%",height:"100%",lineHeight:0,..._};return Ee.createElement("div",{ref:i,className:a,...!a&&{style:x}},Ee.createElement("canvas",{ref:s,style:{width:"100%",height:"100%"},...w},l))}o(ir,"DotLottieComponent");var Nt=o(()=>typeof window==="undefined","isServerSide");var or=o((l,a)=>{const s=l.getBoundingClientRect();const i=window.innerWidth;const _=window.innerHeight;const w=Math.max(0,-s.left);const x=Math.max(0,-s.top);const F=Math.min(s.width,i-s.left);const D=Math.min(s.height,_-s.top);const b=w*a;const W=x*a;const j=(F-w)*a;const U=(D-x)*a;return{x:b,y:W,width:j,height:U}},"getCanvasViewport");var sr=o(l=>{const[a,s]=P.useState(null);const i=P.useRef(null);const _=P.useRef(l);const w=P.useRef(null);const x=P.useRef(null);i.current=a;_.current=l;const F=P.useCallback(y=>{var I,L;if(!((I=_.current)==null?void 0:I.playOnHover)||!((L=i.current)==null?void 0:L.isLoaded))return;if(y.type==="mouseenter"){i.current.play()}else if(y.type==="mouseleave"){i.current.pause()}},[]);const D=P.useCallback(()=>{var S,fe;if(!i.current)return;const y=w.current;if(!y)return;const I=((fe=(S=_.current)==null?void 0:S.renderConfig)==null?void 0:fe.devicePixelRatio)||window.devicePixelRatio||1;const{height:L,width:B,x:N,y:T}=or(y,I);i.current.setViewport(N,T,B,L)},[]);const b=P.useMemo(()=>{if(Nt())return null;const y=o(I=>{I.forEach(L=>{var B,N;if(L.isIntersecting){(B=i.current)==null?void 0:B.unfreeze()}else{(N=i.current)==null?void 0:N.freeze()}})},"observerCallback");return new IntersectionObserver(y,{threshold:0})},[]);const W=P.useMemo(()=>{if(Nt())return null;const y=(0,nr.default)(()=>{var I,L;if((I=_.current)==null?void 0:I.autoResizeCanvas){(L=i.current)==null?void 0:L.resize()}},150);return new ResizeObserver(y)},[]);const j=P.useCallback(y=>{w.current=y},[]);const U=P.useCallback(y=>{x.current=y},[]);const Y=P.useCallback(y=>{return Ee.createElement(ir,{setContainerRef:U,setCanvasRef:j,...y})},[j,U]);P.useEffect(()=>{const y=w.current;let I=null;if(y){I=new Qt({..._.current,canvas:y});const L=y.getBoundingClientRect();if(L.top>=0&&L.left>=0&&L.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&L.right<=(window.innerWidth||document.documentElement.clientWidth)){I.unfreeze()}else{I.freeze()}b==null?void 0:b.observe(y);if(l==null?void 0:l.autoResizeCanvas){W==null?void 0:W.observe(y)}y.addEventListener("mouseenter",F);y.addEventListener("mouseleave",F);I.addEventListener("frame",D);D();s(I)}return()=>{I==null?void 0:I.destroy();s(null);W==null?void 0:W.disconnect();b==null?void 0:b.disconnect();y==null?void 0:y.removeEventListener("mouseenter",F);y==null?void 0:y.removeEventListener("mouseleave",F)}},[b,W,F,D]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.speed)==="number"&&l.speed!==i.current.speed){i.current.setSpeed(l.speed)}},[l==null?void 0:l.speed]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.mode)==="string"&&l.mode!==i.current.mode){i.current.setMode(l.mode)}},[l==null?void 0:l.mode]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.loop)==="boolean"&&l.loop!==i.current.loop){i.current.setLoop(l.loop)}},[l==null?void 0:l.loop]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.useFrameInterpolation)==="boolean"&&l.useFrameInterpolation!==i.current.useFrameInterpolation){i.current.setUseFrameInterpolation(l.useFrameInterpolation)}},[l==null?void 0:l.useFrameInterpolation]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.segment)==="object"&&Array.isArray(l.segment)&&l.segment.length===2){const y=l.segment[0];const I=l.segment[1];i.current.setSegment(y,I)}},[l==null?void 0:l.segment]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.backgroundColor)==="string"&&l.backgroundColor!==i.current.backgroundColor){i.current.setBackgroundColor(l.backgroundColor)}},[l==null?void 0:l.backgroundColor]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.renderConfig)==="object"){i.current.setRenderConfig(l.renderConfig)}},[JSON.stringify(l==null?void 0:l.renderConfig)]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.data)==="string"||(l==null?void 0:l.data)instanceof ArrayBuffer){i.current.load({data:l.data,..._.current||{}})}},[l==null?void 0:l.data]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.src)==="string"){i.current.load({src:l.src,..._.current||{}})}},[l==null?void 0:l.src]);P.useEffect(()=>{if(!i.current)return;if(typeof(l==null?void 0:l.marker)==="string"){i.current.setMarker(l.marker)}},[l==null?void 0:l.marker]);P.useEffect(()=>{if(!W)return;if((l==null?void 0:l.autoResizeCanvas)&&w.current){W.observe(w.current)}else{W.disconnect()}},[l==null?void 0:l.autoResizeCanvas,W]);P.useEffect(()=>{if(!i.current)return;if(i.current.isLoaded&&(l==null?void 0:l.animationId)&&i.current.activeAnimationId!==l.animationId){i.current.loadAnimation(l.animationId)}},[l==null?void 0:l.animationId]);P.useEffect(()=>{if(!i.current)return;if(i.current.isLoaded&&i.current.activeThemeId!==(l==null?void 0:l.themeId)){i.current.loadTheme((l==null?void 0:l.themeId)||"")}},[l==null?void 0:l.themeId]);P.useEffect(()=>{if(!i.current)return;if(i.current.isLoaded){i.current.loadThemeData((l==null?void 0:l.themeData)||"")}},[l==null?void 0:l.themeData]);return{dotLottie:a,setCanvasRef:j,setContainerRef:U,canvas:w.current,container:x.current,DotLottieComponent:Y}},"useDotLottie");var mr=o(l=>{Qt.setWasmUrl(l)},"setWasmUrl");var hr=typeof window!=="undefined"?P.useLayoutEffect:P.useEffect;function lr(l){const a=P.useRef(l);hr(()=>{a.current=l});return P.useCallback((...s)=>a.current(...s),[a])}o(lr,"useStableCallback");var pr=o(({animationId:l,autoResizeCanvas:a=true,autoplay:s,backgroundColor:i,data:_,dotLottieRefCallback:w,loop:x,marker:F,mode:D,playOnHover:b,renderConfig:W,segment:j,speed:U,src:Y,themeData:y,themeId:I,useFrameInterpolation:L,...B})=>{const{DotLottieComponent:N,dotLottie:T}=sr({data:_,mode:D,speed:U,src:Y,autoplay:s,loop:x,segment:j,renderConfig:W,backgroundColor:i,useFrameInterpolation:L,playOnHover:b,autoResizeCanvas:a,marker:F,themeId:I,animationId:l,themeData:y});const S=typeof w==="function"?lr(w):void 0;Ee.useEffect(()=>{if(typeof S==="function"){S(T)}},[S,T]);return Ee.createElement(N,{...B})},"DotLottieReact");export{pr as DotLottieReact,mr as setWasmUrl,sr as useDotLottie};
