const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Drawer.lazy-CWHUoMsE.js","./createLazyWrapper-CcCD0Sct.js","./jsx-runtime-CGXnEs--.js","./index-Dko9tpwX.js","./_commonjsHelpers-DRKe4gOT.js","./iframe-Bi7ppp4I.js","./createIsland-D0Kq_01P.js","./bem-DSWMYwqE.js","./validations-hwxYw-LN.js","./Button-D4YSYZ_9.js","./Link.server-Dprb4yLH.js","./BaseLink.server-CO1n6jUB.js","./Link-DNvfKUDc.css","./Image-r6ezNYoV.js","./Image-GAofUIcO.css","./Icon-DGKrsoYY.js","./Icon-DwwgUk_2.css","./Button-tADbgUuU.css","./Headline-rrg3Yjxm.js","./AnimatedText-eYhSD-r2.js","./Headline-BjEN_kXf.css"])))=>i.map(i=>d[i]);
var X=Object.defineProperty;var t=(e,l)=>X(e,"name",{value:l,configurable:true});import{j as r}from"./jsx-runtime-CGXnEs--.js";import{r as c}from"./index-Dko9tpwX.js";import{_ as $}from"./iframe-Bi7ppp4I.js";import{c as J}from"./createIsland-D0Kq_01P.js";import{c as W}from"./bem-DSWMYwqE.js";import{i as v}from"./validations-hwxYw-LN.js";import{B as f}from"./Button-D4YSYZ_9.js";import{H as Y}from"./Headline-rrg3Yjxm.js";const O='a[href], area[href], button:not([disabled]), input:not([disabled]):not([type=hidden]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])';const C=t(({isOpen:e,containerRef:l,closeButtonRef:a,onClose:i})=>{const p=c.useRef(null);c.useEffect(()=>{if(!e)return;const{body:n,documentElement:o}=document;const{scrollY:s}=window;const d={overflow:n.style.overflow,position:n.style.position,top:n.style.top,width:n.style.width,overscroll:o.style.overscrollBehavior};n.style.overflow="hidden";n.style.position="fixed";n.style.top=`-${s}px`;n.style.width="100%";o.style.overscrollBehavior="none";return()=>{n.style.overflow=d.overflow;n.style.position=d.position;n.style.top=d.top;n.style.width=d.width;o.style.overscrollBehavior=d.overscroll;window.scrollTo(0,s)}},[e]);c.useEffect(()=>{var o,s;const n=l==null?void 0:l.current;if(!n)return;if(e){p.current=document.activeElement??null;if(!n.hasAttribute("tabindex"))n.setAttribute("tabindex","-1");const d=(a==null?void 0:a.current)??n.querySelector(O)??n;d.focus({preventScroll:true})}else{(s=(o=p.current)==null?void 0:o.focus)==null?void 0:s.call(o)}},[e,l,a]);c.useEffect(()=>{if(!e)return;const n=l==null?void 0:l.current;if(!n)return;const o=t(s=>{if(s.key==="Escape"){s.stopPropagation();i==null?void 0:i("escapeKeyDown");return}if(s.key!=="Tab")return;const d=Array.from(n.querySelectorAll(O)).filter(D=>!Boolean(D.hasAttribute("inert"))&&!v(D.getAttribute("aria-hidden")));const[m]=d;const _=d.at(-1);if(!m||!_)return;if(s.shiftKey&&document.activeElement===m){s.preventDefault();_.focus()}else if(!s.shiftKey&&document.activeElement===_){s.preventDefault();m.focus()}},"onKeydown");document.addEventListener("keydown",o,true);return()=>document.removeEventListener("keydown",o,true)},[e,l,i]);return null},"DrawerEffectsLoader");try{C.displayName="DrawerEffectsLoader";C.__docgenInfo={"description":"","displayName":"DrawerEffectsLoader","props":{"isOpen":{"defaultValue":null,"description":"","name":"isOpen","required":true,"type":{"name":"boolean"}},"containerRef":{"defaultValue":null,"description":"","name":"containerRef","required":false,"type":{"name":"RefObject<HTMLDivElement | null>"}},"closeButtonRef":{"defaultValue":null,"description":"","name":"closeButtonRef","required":false,"type":{"name":"RefObject<HTMLButtonElement | null>"}},"onClose":{"defaultValue":null,"description":"","name":"onClose","required":false,"type":{"name":'((reason: "backdropClick" | "escapeKeyDown") => void)'}},"useSlide":{"defaultValue":null,"description":"","name":"useSlide","required":false,"type":{"name":"boolean"}}}}}catch(e){}const G={"prokodo-Drawer":"prokodo-Drawer","prokodo-Drawer__backdrop":"prokodo-Drawer__backdrop","prokodo-Drawer__backdrop--open":"prokodo-Drawer__backdrop--open","prokodo-Drawer__container":"prokodo-Drawer__container","prokodo-Drawer__container--open":"prokodo-Drawer__container--open","prokodo-Drawer__container--fullscreen":"prokodo-Drawer__container--fullscreen","prokodo-Drawer__container--anchor-left":"prokodo-Drawer__container--anchor-left","prokodo-Drawer__container--anchor-left--open":"prokodo-Drawer__container--anchor-left--open","prokodo-Drawer__container--anchor-right":"prokodo-Drawer__container--anchor-right","prokodo-Drawer__container--anchor-right--open":"prokodo-Drawer__container--anchor-right--open","prokodo-Drawer__container--anchor-top":"prokodo-Drawer__container--anchor-top","prokodo-Drawer__container--anchor-top--open":"prokodo-Drawer__container--anchor-top--open","prokodo-Drawer__container--anchor-bottom":"prokodo-Drawer__container--anchor-bottom","prokodo-Drawer__container--anchor-bottom--open":"prokodo-Drawer__container--anchor-bottom--open","prokodo-Drawer__header":"prokodo-Drawer__header","prokodo-Drawer__content":"prokodo-Drawer__content"};const b=W(G,"Drawer");const x=t(({open:e,title:l,titleProps:a,anchor:i="left",fullscreen:p=false,hideHeader:n=false,renderHeader:o,closeButtonRef:s,closeButtonProps:d,containerRef:m,className:_,containerClassName:D,children:M,onClose:g,backdropProps:K,...U})=>{const u=Boolean(e);return r.jsxs("div",{"aria-hidden":u?void 0:true,className:b("backdrop",{open:u}),...K,children:[r.jsx(C,{useSlide:true,closeButtonRef:s,containerRef:m,isOpen:u,onClose:g}),r.jsxs("div",{ref:m,"aria-labelledby":v(l)?"drawer-title":void 0,role:"dialog",...u?{"aria-modal":"true"}:{"aria-hidden":"true",inert:true},"aria-modal":u?"true":void 0,className:b("container",{open:u,[`anchor-${i}`]:true,[`anchor-${i}--open`]:u,fullscreen:p},D),...U,children:[o!==void 0?o():!Boolean(n)&&r.jsxs("div",{className:b("header"),children:[v(l)&&r.jsx(Y,{size:"md",...a,id:"drawer-title",children:l}),r.jsx(f,{"aria-label":"Close drawer",iconProps:{name:"Cancel01Icon",size:"sm"},variant:"text",...d,ref:s,onClick:t(()=>g==null?void 0:g("escapeKeyDown"),"onClick")})]}),r.jsx("div",{className:b("content",void 0,_),children:M})]})]})},"DrawerView");try{x.displayName="DrawerView";x.__docgenInfo={"description":"","displayName":"DrawerView","props":{"open":{"defaultValue":null,"description":"Current open/closed state (managed by client component).","name":"open","required":false,"type":{"name":"boolean"}},"onClose":{"defaultValue":null,"description":"Close handler (called by view when close triggered).","name":"onClose","required":false,"type":{"name":'((reason: "backdropClick" | "escapeKeyDown") => void)'}},"closeButtonRef":{"defaultValue":null,"description":"Ref to close button element (for focus management).","name":"closeButtonRef","required":false,"type":{"name":"RefObject<HTMLButtonElement | null>"}},"containerRef":{"defaultValue":null,"description":"Ref to sliding container (for focus trap).","name":"containerRef","required":false,"type":{"name":"RefObject<HTMLDivElement | null>"}},"backdropProps":{"defaultValue":null,"description":"Backdrop div props (HTMLAttributes).","name":"backdropProps","required":false,"type":{"name":"HTMLAttributes<HTMLDivElement>"}},"onMouseDown":{"defaultValue":null,"description":"Backdrop mouse down handler.","name":"onMouseDown","required":false,"type":{"name":"MouseEventHandler<HTMLDivElement>"}},"ref":{"defaultValue":null,"description":"Imperative ref to open/close drawer programmatically.","name":"ref","required":false,"type":{"name":"Ref<DrawerRef>"}},"title":{"defaultValue":null,"description":"Drawer title/heading text.\nIf provided, header renders with title + close button.","name":"title","required":false,"type":{"name":"string"}},"titleProps":{"defaultValue":null,"description":"Headline component props for title styling (variant, size, weight).","name":"titleProps","required":false,"type":{"name":"HeadlineProps"}},"fullscreen":{"defaultValue":{value:"false"},"description":"Drawer takes full screen height (vertical) or width (horizontal).\nDefault: false (sized to content).","name":"fullscreen","required":false,"type":{"name":"boolean"}},"anchor":{"defaultValue":{value:"left"},"description":'Which edge the drawer slides from.\nDefault: "left".',"name":"anchor","required":false,"type":{"name":"enum","value":[{"value":'"left"'},{"value":'"right"'},{"value":'"top"'},{"value":'"bottom"'}]}},"closeOnBackdropClick":{"defaultValue":null,"description":"Close when clicking outside (backdrop).\nDefault: true.","name":"closeOnBackdropClick","required":false,"type":{"name":"boolean"}},"closeButtonProps":{"defaultValue":null,"description":"Props for close button (X icon).\nOverride color, variant, size, etc.","name":"closeButtonProps","required":false,"type":{"name":"ButtonProps"}},"onChange":{"defaultValue":null,"description":'Open state change callback.\nReceives: (event, reason) where reason = "backdropClick" | "escapeKeyDown".',"name":"onChange","required":false,"type":{"name":"((event: unknown, reason: DrawerChangeReason) => void)"}},"hideHeader":{"defaultValue":{value:"false"},"description":"Hide header section (title + close button).","name":"hideHeader","required":false,"type":{"name":"boolean"}},"renderHeader":{"defaultValue":null,"description":"Custom header content node.\nTakes precedence over default title + close button header.\nUse for complex header layouts.","name":"renderHeader","required":false,"type":{"name":"(() => ReactNode)"}},"className":{"defaultValue":null,"description":"Root container (backdrop + wrapper) class name.","name":"className","required":false,"type":{"name":"string"}},"containerClassName":{"defaultValue":null,"description":"Inner sliding panel class name.","name":"containerClassName","required":false,"type":{"name":"string"}},"children":{"defaultValue":null,"description":"Drawer content (rendered inside panel body).","name":"children","required":false,"type":{"name":"ReactNode"}}}}}catch(e){}function Q(e){if(!Boolean(e.open))return null;return r.jsx(x,{...e})}t(Q,"DrawerServer");try{Drawer.displayName="Drawer";Drawer.__docgenInfo={"description":"RSC entry: purely static server render.\nIt will render exactly the same markup (backdrop + container),\nbut no interactive logic (focus‐trap, key events).","displayName":"Drawer","props":{"ref":{"defaultValue":null,"description":"Imperative ref to open/close drawer programmatically.","name":"ref","required":false,"type":{"name":"Ref<DrawerRef>"}},"open":{"defaultValue":null,"description":"Initially open (true) or closed (false). Controlled prop.","name":"open","required":false,"type":{"name":"boolean"}},"title":{"defaultValue":null,"description":"Drawer title/heading text.\nIf provided, header renders with title + close button.","name":"title","required":false,"type":{"name":"string"}},"titleProps":{"defaultValue":null,"description":"Headline component props for title styling (variant, size, weight).","name":"titleProps","required":false,"type":{"name":"HeadlineProps"}},"fullscreen":{"defaultValue":null,"description":"Drawer takes full screen height (vertical) or width (horizontal).\nDefault: false (sized to content).","name":"fullscreen","required":false,"type":{"name":"boolean"}},"anchor":{"defaultValue":null,"description":'Which edge the drawer slides from.\nDefault: "left".',"name":"anchor","required":false,"type":{"name":"enum","value":[{"value":'"left"'},{"value":'"right"'},{"value":'"top"'},{"value":'"bottom"'}]}},"closeOnBackdropClick":{"defaultValue":null,"description":"Close when clicking outside (backdrop).\nDefault: true.","name":"closeOnBackdropClick","required":false,"type":{"name":"boolean"}},"closeButtonProps":{"defaultValue":null,"description":"Props for close button (X icon).\nOverride color, variant, size, etc.","name":"closeButtonProps","required":false,"type":{"name":"ButtonProps"}},"onChange":{"defaultValue":null,"description":'Open state change callback.\nReceives: (event, reason) where reason = "backdropClick" | "escapeKeyDown".',"name":"onChange","required":false,"type":{"name":"((event: unknown, reason: DrawerChangeReason) => void)"}},"hideHeader":{"defaultValue":null,"description":"Hide header section (title + close button).","name":"hideHeader","required":false,"type":{"name":"boolean"}},"renderHeader":{"defaultValue":null,"description":"Custom header content node.\nTakes precedence over default title + close button header.\nUse for complex header layouts.","name":"renderHeader","required":false,"type":{"name":"(() => ReactNode)"}},"className":{"defaultValue":null,"description":"Root container (backdrop + wrapper) class name.","name":"className","required":false,"type":{"name":"string"}},"containerClassName":{"defaultValue":null,"description":"Inner sliding panel class name.","name":"containerClassName","required":false,"type":{"name":"string"}},"children":{"defaultValue":null,"description":"Drawer content (rendered inside panel body).","name":"children","required":false,"type":{"name":"ReactNode"}}}}}catch(e){}const k=J({name:"Drawer",Server:Q,loadLazy:t(()=>$(()=>import("./Drawer.lazy-CWHUoMsE.js"),true?__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]):void 0,import.meta.url),"loadLazy")});try{k.displayName="Drawer";k.__docgenInfo={"description":"The “Island” entrypoint.  Consumers import this file:\n\n   import { Drawer } from '@/components/drawer'\n\nand use <Drawer open={...} ...>...</Drawer> in their JSX.","displayName":"Drawer","props":{}}}catch(e){}try{ComponentType.displayName="ComponentType";ComponentType.__docgenInfo={"description":"Represents any user-defined component, either as a function or a class.\n\nSimilar to {@link JSXElementConstructor}, but with extra properties like\n{@link FunctionComponent.defaultProps defaultProps }.","displayName":"ComponentType","props":{}}}catch(e){}const Z={title:"prokodo/common/Drawer",component:k,parameters:{layout:"fullscreen"},tags:["autodocs"],argTypes:{anchor:{control:{type:"inline-radio"},options:["left","right","top","bottom"],defaultValue:"left"},fullscreen:{control:"boolean",defaultValue:false},closeOnBackdropClick:{control:"boolean",defaultValue:true},onChange:{action:"onChange"},open:{control:"boolean"},containerClassName:{control:"text"},className:{control:"text"},renderHeader:{table:{disable:true}},children:{table:{disable:true}}}};const B=t(e=>r.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:e}),"renderContainer");const ee=t(e=>{const[l,a]=c.useState(Boolean(e.open));c.useEffect(()=>{a(Boolean(e.open))},[e.open]);const i=t((p,n)=>{var o;a(false);(o=e.onChange)==null?void 0:o.call(e,p,n)},"handleChange");return r.jsxs(c.Fragment,{children:[B(r.jsx(f,{title:"Open Drawer",onClick:t(()=>a(true),"onClick")})),r.jsx(k,{...e,open:l,onChange:i,children:r.jsxs("div",{style:{padding:"1rem"},children:[r.jsx("h3",{children:"Drawer Content"}),r.jsxs("p",{children:["Adjust ",r.jsx("strong",{children:"Anchor"})," and ",r.jsx("strong",{children:"Fullscreen"})," in the controls to see different behaviors."]}),r.jsx(f,{title:"Close Drawer",onClick:t(()=>a(false),"onClick")})]})})]})},"DrawerControlled");const h={args:{open:false,anchor:"left",fullscreen:false,closeOnBackdropClick:true},render:t(e=>r.jsx(ee,{...e}),"render")};const w={args:{open:true,anchor:"top",fullscreen:true,closeOnBackdropClick:true},render:t(e=>{const[l,a]=c.useState(Boolean(e.open));c.useEffect(()=>{a(Boolean(e.open))},[e.open]);const i=t((p,n)=>{var o;a(false);(o=e.onChange)==null?void 0:o.call(e,p,n)},"handleChange");return r.jsxs(c.Fragment,{children:[B(r.jsx(f,{title:"Toggle Fullscreen Top Drawer",onClick:t(()=>a(true),"onClick")})),r.jsx(k,{...e,anchor:"top",fullscreen:true,open:l,onChange:i,children:r.jsxs("div",{style:{padding:"2rem"},children:[r.jsx("h2",{children:"Fullscreen Top Drawer"}),r.jsxs("p",{children:["This drawer is ",r.jsx("code",{children:"fullscreen"})," and anchored at"," ",r.jsx("code",{children:"top"}),"."]}),r.jsx(f,{title:"Close",onClick:t(()=>a(false),"onClick")})]})})]})},"render")};const y={args:{open:false,anchor:"right",fullscreen:false,closeOnBackdropClick:false},render:t(e=>{const[l,a]=c.useState(Boolean(e.open));c.useEffect(()=>{a(Boolean(e.open))},[e.open]);const i=t((p,n)=>{var o;a(false);(o=e.onChange)==null?void 0:o.call(e,p,n)},"handleChange");return r.jsxs(c.Fragment,{children:[B(r.jsx(f,{title:"Open Right Drawer",onClick:t(()=>a(true),"onClick")})),r.jsx(k,{...e,anchor:"right",closeOnBackdropClick:false,fullscreen:false,open:l,onChange:i,children:r.jsxs("div",{style:{padding:"1rem"},children:[r.jsx("h3",{children:"Right Drawer (Backdrop Disabled)"}),r.jsx("p",{children:"Use the header “×” or the button below to close."}),r.jsx(f,{title:"Close",onClick:t(()=>a(false),"onClick")})]})})]})},"render")};var V,j,q,E,T;h.parameters={...h.parameters,docs:{...(V=h.parameters)==null?void 0:V.docs,source:{originalSource:'{\n  args: {\n    open: false,\n    anchor: "left",\n    fullscreen: false,\n    closeOnBackdropClick: true\n  },\n  render: args => <DrawerControlled {...args} />\n}',...(q=(j=h.parameters)==null?void 0:j.docs)==null?void 0:q.source},description:{story:"1) Default: left, non-fullscreen, backdrop closes",...(T=(E=h.parameters)==null?void 0:E.docs)==null?void 0:T.description}}};var I,N,H,R,S;w.parameters={...w.parameters,docs:{...(I=w.parameters)==null?void 0:I.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    anchor: "top",\n    fullscreen: true,\n    closeOnBackdropClick: true\n  },\n  render: args => {\n    const [isOpen, setIsOpen] = useState<boolean>(Boolean(args.open));\n    useEffect(() => {\n      setIsOpen(Boolean(args.open));\n    }, [args.open]);\n    const handleChange = (e: unknown, reason: DrawerChangeReason) => {\n      setIsOpen(false);\n      args.onChange?.(e, reason);\n    };\n    return <Fragment>\n        {renderContainer(<Button title="Toggle Fullscreen Top Drawer" onClick={() => setIsOpen(true)} />)}\n        <Drawer {...args} anchor="top" fullscreen open={isOpen} onChange={handleChange}>\n          <div style={{\n          padding: "2rem"\n        }}>\n            <h2>Fullscreen Top Drawer</h2>\n            <p>\n              This drawer is <code>fullscreen</code> and anchored at{" "}\n              <code>top</code>.\n            </p>\n            <Button title="Close" onClick={() => setIsOpen(false)} />\n          </div>\n        </Drawer>\n      </Fragment>;\n  }\n}',...(H=(N=w.parameters)==null?void 0:N.docs)==null?void 0:H.source},description:{story:"2) FullscreenTop: fullscreen from top",...(S=(R=w.parameters)==null?void 0:R.docs)==null?void 0:S.description}}};var P,F,L,z,A;y.parameters={...y.parameters,docs:{...(P=y.parameters)==null?void 0:P.docs,source:{originalSource:'{\n  args: {\n    open: false,\n    anchor: "right",\n    fullscreen: false,\n    closeOnBackdropClick: false\n  },\n  render: args => {\n    const [isOpen, setIsOpen] = useState<boolean>(Boolean(args.open));\n    useEffect(() => {\n      setIsOpen(Boolean(args.open));\n    }, [args.open]);\n    const handleChange = (e: unknown, reason: DrawerChangeReason) => {\n      setIsOpen(false);\n      args.onChange?.(e, reason);\n    };\n    return <Fragment>\n        {renderContainer(<Button title="Open Right Drawer" onClick={() => setIsOpen(true)} />)}\n        <Drawer {...args} anchor="right" closeOnBackdropClick={false} fullscreen={false} open={isOpen} onChange={handleChange}>\n          <div style={{\n          padding: "1rem"\n        }}>\n            <h3>Right Drawer (Backdrop Disabled)</h3>\n            <p>Use the header “×” or the button below to close.</p>\n            <Button title="Close" onClick={() => setIsOpen(false)} />\n          </div>\n        </Drawer>\n      </Fragment>;\n  }\n}',...(L=(F=y.parameters)==null?void 0:F.docs)==null?void 0:L.source},description:{story:"3) Right, non-fullscreen, backdrop disabled",...(A=(z=y.parameters)==null?void 0:z.docs)==null?void 0:A.description}}};const re=["Default","FullscreenTop","RightDisabledBackdrop"];const pe=Object.freeze(Object.defineProperty({__proto__:null,Default:h,FullscreenTop:w,RightDisabledBackdrop:y,__namedExportsOrder:re,default:Z},Symbol.toStringTag,{value:"Module"}));export{x as D,Q as a,pe as b};
