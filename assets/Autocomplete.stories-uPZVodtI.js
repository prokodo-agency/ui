const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Autocomplete.lazy-CaQgdSeQ.js","./createLazyWrapper-CcCD0Sct.js","./jsx-runtime-CGXnEs--.js","./index-Dko9tpwX.js","./_commonjsHelpers-DRKe4gOT.js","./iframe-ltxSrk81.js","./createIsland-D0Kq_01P.js","./bem-DSWMYwqE.js","./validations-hwxYw-LN.js","./Input-Cn0J8cWM.js","./Input.view-B8EliWXN.js","./Label-X7jo9b-B.js","./Label-BJh50jTe.css","./Input-CmqHBvo4.css","./Loading-Hfnjnxko.js"])))=>i.map(i=>d[i]);
var se=Object.defineProperty;var n=(t,l)=>se(t,"name",{value:l,configurable:true});import{j as a}from"./jsx-runtime-CGXnEs--.js";import{r as A}from"./index-Dko9tpwX.js";import{_ as ie}from"./iframe-ltxSrk81.js";import{c as ue}from"./createIsland-D0Kq_01P.js";import{c as de}from"./bem-DSWMYwqE.js";import{c as pe,b as L}from"./validations-hwxYw-LN.js";import{I as me}from"./Input-Cn0J8cWM.js";import{L as ce}from"./Loading-Hfnjnxko.js";const ge={"prokodo-Autocomplete":"prokodo-Autocomplete","prokodo-Autocomplete__inputWrap":"prokodo-Autocomplete__inputWrap","prokodo-Autocomplete__input":"prokodo-Autocomplete__input","prokodo-Autocomplete__input__inner--is-open":"prokodo-Autocomplete__input__inner--is-open","prokodo-Autocomplete__input__node--is-open":"prokodo-Autocomplete__input__node--is-open","prokodo-Autocomplete__list":"prokodo-Autocomplete__list","fade-in":"fade-in","prokodo-Autocomplete__state":"prokodo-Autocomplete__state","prokodo-Autocomplete__itemRow":"prokodo-Autocomplete__itemRow","prokodo-Autocomplete__itemRow--is-last":"prokodo-Autocomplete__itemRow--is-last","prokodo-Autocomplete__item":"prokodo-Autocomplete__item","prokodo-Autocomplete__item--is-first":"prokodo-Autocomplete__item--is-first","prokodo-Autocomplete__item--is-last":"prokodo-Autocomplete__item--is-last","prokodo-Autocomplete__item--is-active":"prokodo-Autocomplete__item--is-active","prokodo-Autocomplete__itemLabel":"prokodo-Autocomplete__itemLabel","prokodo-Autocomplete__itemDescription":"prokodo-Autocomplete__itemDescription"};const o=de(ge,"Autocomplete");function V({id:t,name:l,label:p,placeholder:c,required:s,disabled:b,fullWidth:k,readOnly:v,autoComplete:x,"aria-describedby":K,"aria-labelledby":S,value:N,items:m,loading:G,loadingText:H,emptyText:J,minQueryLength:_=2,minQueryLengthText:X,className:Y,inputClassName:Z,listClassName:ee,itemClassName:ae,inputProps:te,_clientState:e,onChange:be,onSelect:xe}){const{hideLabel:ne,...r}=te??{};const oe=pe(m)&&m.length>0;const q=Boolean(e==null?void 0:e.open);const re=String(N??"").trim().length>=_;return a.jsxs("div",{className:o(void 0,void 0,Y),children:[a.jsx("div",{className:o("inputWrap"),children:a.jsx(me,{...r,"aria-describedby":K,"aria-labelledby":S,autoComplete:x,disabled:b,fullWidth:k,hideLegend:ne||(r==null?void 0:r.hideLegend),id:t,label:p,name:l,placeholder:c,readOnly:v,required:s,value:N,className:o("input",{"is-open":q},Z),inputClassName:o("input__node",{"is-open":q},r==null?void 0:r.inputClassName),inputContainerClassName:o("input__inner",{"is-open":q},r==null?void 0:r.inputContainerClassName),onKeyDown:e==null?void 0:e.onInputKeyDown,onChange:n(i=>{var d;e==null?void 0:e.onInputChange(((d=i==null?void 0:i.target)==null?void 0:d.value)??"")},"onChange"),onFocus:n(()=>{e==null?void 0:e.onInputFocus()},"onFocus")})}),q&&a.jsx("ul",{className:o("list",void 0,ee),role:"listbox",tabIndex:-1,style:{top:L(e==null?void 0:e.listTop)?`${e.listTop}px`:void 0},children:Boolean(G)?a.jsx("li",{children:a.jsxs("p",{className:o("state"),children:[a.jsx(ce,{size:"sm"}),H]})}):!re?a.jsx("li",{children:a.jsx("p",{className:o("state"),children:L(_)?(X??"{count} characters required").replaceAll("{count}",String(_)):"Type to search"})}):!oe?a.jsx("li",{children:a.jsx("p",{className:o("state"),children:J})}):m==null?void 0:m.map((i,d)=>a.jsx("li",{"aria-selected":(e==null?void 0:e.activeIndex)===d,className:o("itemRow"),role:"option",children:a.jsxs("button",{type:"button",className:o("item",{"is-active":(e==null?void 0:e.activeIndex)===d,"is-first":d===0,"is-last":d===m.length-1},ae),onMouseDown:n(le=>{le.preventDefault();e==null?void 0:e.onSelectItem(i)},"onMouseDown"),children:[a.jsx("p",{className:o("itemLabel"),children:i.label}),i.description?a.jsx("p",{className:o("itemDescription"),children:i.description}):null]})},i.value))})]})}n(V,"AutocompleteView");try{V.displayName="AutocompleteView";V.__docgenInfo={"description":"","displayName":"AutocompleteView","props":{"id":{"defaultValue":null,"description":"Optional DOM id. If omitted, consumer should still ensure unique name usage.","name":"id","required":false,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"Form field name used by the underlying Input element.","name":"name","required":true,"type":{"name":"string"}},"label":{"defaultValue":null,"description":"Visible label text rendered by Input.","name":"label","required":false,"type":{"name":"string"}},"placeholder":{"defaultValue":null,"description":"Input placeholder text.","name":"placeholder","required":false,"type":{"name":"string"}},"required":{"defaultValue":null,"description":"Marks field as required (a11y + UI indicator).","name":"required","required":false,"type":{"name":"boolean"}},"disabled":{"defaultValue":null,"description":"Disables typing/interaction.","name":"disabled","required":false,"type":{"name":"boolean"}},"fullWidth":{"defaultValue":null,"description":"Stretches input to full container width.","name":"fullWidth","required":false,"type":{"name":"boolean"}},"readOnly":{"defaultValue":null,"description":"Makes input read-only while preserving focusability.","name":"readOnly","required":false,"type":{"name":"boolean"}},"autoComplete":{"defaultValue":null,"description":"Native browser autocomplete attribute.","name":"autoComplete","required":false,"type":{"name":"string"}},"aria-describedby":{"defaultValue":null,"description":"Optional aria-describedby forwarded to Input.","name":"aria-describedby","required":false,"type":{"name":"string"}},"aria-labelledby":{"defaultValue":null,"description":"Optional aria-labelledby forwarded to Input.","name":"aria-labelledby","required":false,"type":{"name":"string"}},"value":{"defaultValue":null,"description":"Controlled input value (query string).","name":"value","required":false,"type":{"name":"string"}},"items":{"defaultValue":null,"description":"Suggestion items currently shown in listbox.","name":"items","required":false,"type":{"name":"AutocompleteItem[]"}},"loading":{"defaultValue":null,"description":"Loading indicator for async search scenarios.","name":"loading","required":false,"type":{"name":"boolean"}},"loadingText":{"defaultValue":null,"description":"Text shown while loading.","name":"loadingText","required":false,"type":{"name":"string"}},"emptyText":{"defaultValue":null,"description":"Text shown when no results are available.","name":"emptyText","required":false,"type":{"name":"string"}},"minQueryLength":{"defaultValue":{value:"2"},"description":"Minimum characters required before searching/listing results.","name":"minQueryLength","required":false,"type":{"name":"number"}},"minQueryLengthText":{"defaultValue":null,"description":'Message shown when query length is below `minQueryLength`.\nSupports `{count}` placeholder replacement.\n@example "Please enter at least {count} characters"',"name":"minQueryLengthText","required":false,"type":{"name":"string"}},"className":{"defaultValue":null,"description":"Root wrapper class.","name":"className","required":false,"type":{"name":"string"}},"inputClassName":{"defaultValue":null,"description":"Input wrapper class.","name":"inputClassName","required":false,"type":{"name":"string"}},"listClassName":{"defaultValue":null,"description":"Listbox panel class.","name":"listClassName","required":false,"type":{"name":"string"}},"itemClassName":{"defaultValue":null,"description":"Option row class.","name":"itemClassName","required":false,"type":{"name":"string"}},"inputProps":{"defaultValue":null,"description":"Direct passthrough props to underlying `Input`.\n\nUse this for Input-specific behavior that is not exposed as top-level\nAutocomplete props, e.g. `hideLabel`, `hideLegend`, `helperText`,\n`labelProps`, `fieldClassName`, `inputContainerClassName`, etc.","name":"inputProps","required":false,"type":{"name":"(AutocompleteInputProps & { hideLabel?: boolean; })"}},"open":{"defaultValue":null,"description":"Optional open flag injected by client wrapper.","name":"open","required":false,"type":{"name":"boolean"}},"_clientState":{"defaultValue":null,"description":"Internal client state handlers.","name":"_clientState","required":false,"type":{"name":"AutocompleteClientState"}},"onChange":{"defaultValue":null,"description":"Optional pass-through for story/view-only scenarios.","name":"onChange","required":false,"type":{"name":"((event: AutocompleteChangeEvent) => void)"}},"onSelect":{"defaultValue":null,"description":"Optional pass-through for story/view-only scenarios.","name":"onSelect","required":false,"type":{"name":"((item: AutocompleteItem) => void)"}}}}}catch(t){}function ye(t){return a.jsx(V,{...t,readOnly:true})}n(ye,"AutocompleteServer");try{Autocomplete.displayName="Autocomplete";Autocomplete.__docgenInfo={"description":"","displayName":"Autocomplete","props":{"id":{"defaultValue":null,"description":"Optional DOM id. If omitted, consumer should still ensure unique name usage.","name":"id","required":false,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"Form field name used by the underlying Input element.","name":"name","required":true,"type":{"name":"string"}},"label":{"defaultValue":null,"description":"Visible label text rendered by Input.","name":"label","required":false,"type":{"name":"string"}},"placeholder":{"defaultValue":null,"description":"Input placeholder text.","name":"placeholder","required":false,"type":{"name":"string"}},"required":{"defaultValue":null,"description":"Marks field as required (a11y + UI indicator).","name":"required","required":false,"type":{"name":"boolean"}},"disabled":{"defaultValue":null,"description":"Disables typing/interaction.","name":"disabled","required":false,"type":{"name":"boolean"}},"fullWidth":{"defaultValue":null,"description":"Stretches input to full container width.","name":"fullWidth","required":false,"type":{"name":"boolean"}},"readOnly":{"defaultValue":null,"description":"Makes input read-only while preserving focusability.","name":"readOnly","required":false,"type":{"name":"boolean"}},"autoComplete":{"defaultValue":null,"description":"Native browser autocomplete attribute.","name":"autoComplete","required":false,"type":{"name":"string"}},"aria-describedby":{"defaultValue":null,"description":"Optional aria-describedby forwarded to Input.","name":"aria-describedby","required":false,"type":{"name":"string"}},"aria-labelledby":{"defaultValue":null,"description":"Optional aria-labelledby forwarded to Input.","name":"aria-labelledby","required":false,"type":{"name":"string"}},"value":{"defaultValue":null,"description":"Controlled input value (query string).","name":"value","required":false,"type":{"name":"string"}},"items":{"defaultValue":null,"description":"Suggestion items currently shown in listbox.","name":"items","required":false,"type":{"name":"AutocompleteItem[]"}},"loading":{"defaultValue":null,"description":"Loading indicator for async search scenarios.","name":"loading","required":false,"type":{"name":"boolean"}},"loadingText":{"defaultValue":null,"description":"Text shown while loading.","name":"loadingText","required":false,"type":{"name":"string"}},"emptyText":{"defaultValue":null,"description":"Text shown when no results are available.","name":"emptyText","required":false,"type":{"name":"string"}},"minQueryLength":{"defaultValue":null,"description":"Minimum characters required before searching/listing results.","name":"minQueryLength","required":false,"type":{"name":"number"}},"minQueryLengthText":{"defaultValue":null,"description":'Message shown when query length is below `minQueryLength`.\nSupports `{count}` placeholder replacement.\n@example "Please enter at least {count} characters"',"name":"minQueryLengthText","required":false,"type":{"name":"string"}},"className":{"defaultValue":null,"description":"Root wrapper class.","name":"className","required":false,"type":{"name":"string"}},"inputClassName":{"defaultValue":null,"description":"Input wrapper class.","name":"inputClassName","required":false,"type":{"name":"string"}},"listClassName":{"defaultValue":null,"description":"Listbox panel class.","name":"listClassName","required":false,"type":{"name":"string"}},"itemClassName":{"defaultValue":null,"description":"Option row class.","name":"itemClassName","required":false,"type":{"name":"string"}},"inputProps":{"defaultValue":null,"description":"Direct passthrough props to underlying `Input`.\n\nUse this for Input-specific behavior that is not exposed as top-level\nAutocomplete props, e.g. `hideLabel`, `hideLegend`, `helperText`,\n`labelProps`, `fieldClassName`, `inputContainerClassName`, etc.","name":"inputProps","required":false,"type":{"name":"(AutocompleteInputProps & { hideLabel?: boolean; })"}},"onChange":{"defaultValue":null,"description":"Emitted whenever query text changes.","name":"onChange","required":false,"type":{"name":"((event: AutocompleteChangeEvent) => void)"}},"onSelect":{"defaultValue":null,"description":"Emitted when an item is selected (mouse/keyboard).","name":"onSelect","required":false,"type":{"name":"((item: AutocompleteItem) => void)"}}}}}catch(t){}const C=ue({name:"Autocomplete",Server:ye,loadLazy:n(()=>ie(()=>import("./Autocomplete.lazy-CaQgdSeQ.js"),true?__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]):void 0,import.meta.url),"loadLazy")});const I=[{value:"https://www.npmjs.com/package/@prokodo/ui",label:"@prokodo/ui",description:"0.1.12 · Prokodo UI component library"},{value:"https://www.npmjs.com/package/@prokodo/cli",label:"@prokodo/cli",description:"0.5.3 · CLI for scaffolding and automation"},{value:"https://www.npmjs.com/package/n8n-nodes-prokodo",label:"n8n-nodes-prokodo",description:"1.0.4 · Community n8n nodes"},{value:"https://www.npmjs.com/package/@types/node",label:"@types/node",description:"24.0.0 · TypeScript definitions for Node.js"},{value:"https://www.npmjs.com/package/next",label:"next",description:"16.1.0 · The React framework"}];const fe={title:"prokodo/form/Autocomplete",component:C,parameters:{layout:"centered",docs:{description:{component:"Accessible, keyboard-navigable autocomplete with listbox panel. Best used as controlled input with async result fetching and canonical value selection."}}},tags:["autodocs"],argTypes:{label:{control:"text"},placeholder:{control:"text"},loading:{control:"boolean"},loadingText:{control:"text"},emptyText:{control:"text"},required:{control:"boolean"},disabled:{control:"boolean"},readOnly:{control:"boolean"},minQueryLength:{control:{type:"number",min:1,step:1}},value:{table:{disable:true}},items:{table:{disable:true}},className:{table:{disable:true}},inputClassName:{table:{disable:true}},listClassName:{table:{disable:true}},itemClassName:{table:{disable:true}},onChange:{action:"changed",table:{disable:true}},onSelect:{action:"selected",table:{disable:true}}}};function w(t){const[l,p]=A.useState("");const c=A.useMemo(()=>{const s=l.trim().toLowerCase();if(s.length===0)return I;return I.filter(b=>{var x;const k=b.label.toLowerCase().includes(s);const v=(x=b.description)==null?void 0:x.toLowerCase().includes(s);return k||Boolean(v)})},[l]);return a.jsx("div",{style:{width:480,maxWidth:"90vw"},children:a.jsx(C,{...t,items:c,value:l,onChange:n(s=>p(s.query),"onChange"),onSelect:n(s=>p(s.label),"onSelect")})})}n(w,"Playground");const u={args:{name:"package",label:"Public npm package",placeholder:"Search package name (e.g. @scope/name)",minQueryLength:2,emptyText:"No matching package found.",loadingText:"Searching npm packages…"},render:n(t=>a.jsx(w,{...t}),"render")};const g={args:{...u.args,loading:true},render:n(t=>a.jsx(w,{...t}),"render")};const y={args:{...u.args,emptyText:"No packages found for this query."},render:n(t=>{const[l,p]=A.useState("this-does-not-exist");return a.jsx("div",{style:{width:480,maxWidth:"90vw"},children:a.jsx(C,{...t,items:[],value:l,onChange:n(c=>p(c.query),"onChange"),onSelect:n(()=>{},"onSelect")})})},"render")};const f={args:{...u.args,disabled:true},render:n(t=>a.jsx(w,{...t}),"render")};const h={args:{...u.args,minQueryLength:1},render:n(t=>a.jsx(w,{...t}),"render")};var j,T,O;u.parameters={...u.parameters,docs:{...(j=u.parameters)==null?void 0:j.docs,source:{originalSource:'{\n  args: {\n    name: "package",\n    label: "Public npm package",\n    placeholder: "Search package name (e.g. @scope/name)",\n    minQueryLength: 2,\n    emptyText: "No matching package found.",\n    loadingText: "Searching npm packages…"\n  },\n  render: args => <Playground {...args} />\n}',...(O=(T=u.parameters)==null?void 0:T.docs)==null?void 0:O.source}}};var D,Q,P;g.parameters={...g.parameters,docs:{...(D=g.parameters)==null?void 0:D.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    loading: true\n  },\n  render: args => <Playground {...args} />\n}",...(P=(Q=g.parameters)==null?void 0:Q.docs)==null?void 0:P.source}}};var M,E,R;y.parameters={...y.parameters,docs:{...(M=y.parameters)==null?void 0:M.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    emptyText: "No packages found for this query."\n  },\n  render: args => {\n    const [query, setQuery] = useState("this-does-not-exist");\n    return <div style={{\n      width: 480,\n      maxWidth: "90vw"\n    }}>\n        <Autocomplete {...args} items={[]} value={query} onChange={event => setQuery(event.query)} onSelect={() => {}} />\n      </div>;\n  }\n}',...(R=(E=y.parameters)==null?void 0:E.docs)==null?void 0:R.source}}};var W,U,B;f.parameters={...f.parameters,docs:{...(W=f.parameters)==null?void 0:W.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    disabled: true\n  },\n  render: args => <Playground {...args} />\n}",...(B=(U=f.parameters)==null?void 0:U.docs)==null?void 0:B.source}}};var F,z,$;h.parameters={...h.parameters,docs:{...(F=h.parameters)==null?void 0:F.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    minQueryLength: 1\n  },\n  render: args => <Playground {...args} />\n}",...($=(z=h.parameters)==null?void 0:z.docs)==null?void 0:$.source}}};const he=["Default","Loading","EmptyState","Disabled","MinQueryLengthOne"];const Le=Object.freeze(Object.defineProperty({__proto__:null,Default:u,Disabled:f,EmptyState:y,Loading:g,MinQueryLengthOne:h,__namedExportsOrder:he,default:fe},Symbol.toStringTag,{value:"Module"}));export{V as A,ye as a,Le as b};
