const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./common-CWL6jHrI.js","./_commonjsHelpers-DRKe4gOT.js"])))=>i.map(i=>d[i]);
var Ie=Object.defineProperty;var Ye=(h,e,t)=>e in h?Ie(h,e,{enumerable:true,configurable:true,writable:true,value:t}):h[e]=t;var g=(h,e)=>Ie(h,"name",{value:e,configurable:true});var b=(h,e,t)=>Ye(h,typeof e!=="symbol"?e+"":e,t);import{c as et}from"./createLazyWrapper-AC75M60Y.js";import{_ as Oe}from"./iframe-DRVrrpfy.js";import{j as S}from"./jsx-runtime-CGXnEs--.js";import{r as I}from"./index-DGnhqvo7.js";import{l as ge,s as tt,H as nt,a as rt}from"./Headline-D7h9gw8y.js";import{c as st}from"./bem-DSWMYwqE.js";import{i as pe}from"./validations-hwxYw-LN.js";import{I as it}from"./Icon-PVOdNuED.js";import{L as lt}from"./Link-CfTgKOZu.js";import{A as at}from"./AnimatedText-Dq31sNPj.js";import"../sb-preview/runtime.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./createIsland-fzL0F2Ul.js";import"./Link.server-jBGsbMZ1.js";import"./BaseLink.server-DBk24ESO.js";function Se(){return{async:false,breaks:false,extensions:null,gfm:true,hooks:null,pedantic:false,renderer:null,silent:false,tokenizer:null,walkTokens:null}}g(Se,"_getDefaults");var G=Se();function Me(h){G=h}g(Me,"changeDefaults");var se={exec:g(()=>null,"exec")};function m(h,e=""){let t=typeof h==="string"?h:h.source;const n={replace:g((r,s)=>{let i=typeof s==="string"?s:s.source;i=i.replace(z.caret,"$1");t=t.replace(r,i);return n},"replace"),getRegex:g(()=>{return new RegExp(t,e)},"getRegex")};return n}g(m,"edit");var z={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:g(h=>new RegExp(`^( {0,3}${h})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:g(h=>new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:g(h=>new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:g(h=>new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:g(h=>new RegExp(`^ {0,${Math.min(3,h-1)}}#`),"headingBeginRegex"),htmlBeginRegex:g(h=>new RegExp(`^ {0,${Math.min(3,h-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")};var ot=/^(?:[ \t]*(?:\n|$))+/;var ct=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/;var ht=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/;var ie=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/;var pt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/;var $e=/(?:[*+-]|\d{1,9}[.)])/;var He=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/;var Ze=m(He).replace(/bull/g,$e).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex();var ut=m(He).replace(/bull/g,$e).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex();var Te=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/;var gt=/^[^\n]+/;var _e=/(?!\s*\])(?:\\.|[^\[\]\\])+/;var ft=m(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_e).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex();var dt=m(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$e).getRegex();var xe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";var Ae=/<!--(?:-?>|[\s\S]*?(?:-->|$))/;var mt=m("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ae).replace("tag",xe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();var Ge=m(Te).replace("hr",ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xe).getRegex();var kt=m(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ge).getRegex();var ze={blockquote:kt,code:ct,def:ft,fences:ht,heading:pt,hr:ie,html:mt,lheading:Ze,list:dt,newline:ot,paragraph:Ge,table:se,text:gt};var Ee=m("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xe).getRegex();var xt={...ze,lheading:ut,table:Ee,paragraph:m(Te).replace("hr",ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ee).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xe).getRegex()};var bt={...ze,html:m(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ae).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:se,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:m(Te).replace("hr",ie).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ze).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()};var wt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/;var yt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/;var Ve=/^( {2,}|\\)\n(?!\s*$)/;var vt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/;var be=/[\p{P}\p{S}]/u;var Le=/[\s\p{P}\p{S}]/u;var Qe=/[^\s\p{P}\p{S}]/u;var Rt=m(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Le).getRegex();var Fe=/(?!~)[\p{P}\p{S}]/u;var St=/(?!~)[\s\p{P}\p{S}]/u;var $t=/(?:[^\s\p{P}\p{S}]|~)/u;var Tt=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g;var Ue=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/;var _t=m(Ue,"u").replace(/punct/g,be).getRegex();var At=m(Ue,"u").replace(/punct/g,Fe).getRegex();var Xe="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)";var zt=m(Xe,"gu").replace(/notPunctSpace/g,Qe).replace(/punctSpace/g,Le).replace(/punct/g,be).getRegex();var Lt=m(Xe,"gu").replace(/notPunctSpace/g,$t).replace(/punctSpace/g,St).replace(/punct/g,Fe).getRegex();var Ct=m("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Qe).replace(/punctSpace/g,Le).replace(/punct/g,be).getRegex();var Pt=m(/\\(punct)/,"gu").replace(/punct/g,be).getRegex();var It=m(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex();var Et=m(Ae).replace("(?:-->|$)","-->").getRegex();var jt=m("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Et).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex();var fe=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;var Bt=m(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",fe).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex();var We=m(/^!?\[(label)\]\[(ref)\]/).replace("label",fe).replace("ref",_e).getRegex();var Ke=m(/^!?\[(ref)\](?:\[\])?/).replace("ref",_e).getRegex();var Nt=m("reflink|nolink(?!\\()","g").replace("reflink",We).replace("nolink",Ke).getRegex();var Ce={_backpedal:se,anyPunctuation:Pt,autolink:It,blockSkip:Tt,br:Ve,code:yt,del:se,emStrongLDelim:_t,emStrongRDelimAst:zt,emStrongRDelimUnd:Ct,escape:wt,link:Bt,nolink:Ke,punctuation:Rt,reflink:We,reflinkSearch:Nt,tag:jt,text:vt,url:se};var qt={...Ce,link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",fe).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fe).getRegex()};var ye={...Ce,emStrongRDelimAst:Lt,emStrongLDelim:At,url:m(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};var Dt={...ye,br:m(Ve).replace("{2,}","*").getRegex(),text:m(ye.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};var he={normal:ze,gfm:xt,pedantic:bt};var te={normal:Ce,gfm:ye,breaks:Dt,pedantic:qt};var Ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var je=g(h=>Ot[h],"getEscapeReplacement");function j(h,e){if(e){if(z.escapeTest.test(h)){return h.replace(z.escapeReplace,je)}}else{if(z.escapeTestNoEncode.test(h)){return h.replace(z.escapeReplaceNoEncode,je)}}return h}g(j,"escape2");function Be(h){try{h=encodeURI(h).replace(z.percentDecode,"%")}catch{return null}return h}g(Be,"cleanUrl");function Ne(h,e){var s;const t=h.replace(z.findPipe,(i,l,c)=>{let a=false;let o=l;while(--o>=0&&c[o]==="\\")a=!a;if(a){return"|"}else{return" |"}}),n=t.split(z.splitPipe);let r=0;if(!n[0].trim()){n.shift()}if(n.length>0&&!((s=n.at(-1))==null?void 0:s.trim())){n.pop()}if(e){if(n.length>e){n.splice(e)}else{while(n.length<e)n.push("")}}for(;r<n.length;r++){n[r]=n[r].trim().replace(z.slashPipe,"|")}return n}g(Ne,"splitCells");function ne(h,e,t){const n=h.length;if(n===0){return""}let r=0;while(r<n){const s=h.charAt(n-r-1);if(s===e&&true){r++}else{break}}return h.slice(0,n-r)}g(ne,"rtrim");function Mt(h,e){if(h.indexOf(e[1])===-1){return-1}let t=0;for(let n=0;n<h.length;n++){if(h[n]==="\\"){n++}else if(h[n]===e[0]){t++}else if(h[n]===e[1]){t--;if(t<0){return n}}}if(t>0){return-2}return-1}g(Mt,"findClosingBracket");function qe(h,e,t,n,r){const s=e.href;const i=e.title||null;const l=h[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=true;const c={type:h[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:i,text:l,tokens:n.inlineTokens(l)};n.state.inLink=false;return c}g(qe,"outputLink");function Ht(h,e,t){const n=h.match(t.other.indentCodeCompensation);if(n===null){return e}const r=n[1];return e.split("\n").map(s=>{const i=s.match(t.other.beginningSpace);if(i===null){return s}const[l]=i;if(l.length>=r.length){return s.slice(r.length)}return s}).join("\n")}g(Ht,"indentCodeCompensation");var Q;var de=(Q=class{constructor(e){b(this,"options");b(this,"rules");b(this,"lexer");this.options=e||G}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0){return{type:"space",raw:t[0]}}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:!this.options.pedantic?ne(n,"\n"):n}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0];const r=Ht(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=ne(n,"#");if(this.options.pedantic){n=r.trim()}else if(!r||this.rules.other.endingSpaceChar.test(r)){n=r.trim()}}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t){return{type:"hr",raw:ne(t[0],"\n")}}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=ne(t[0],"\n").split("\n");let r="";let s="";const i=[];while(n.length>0){let l=false;const c=[];let a;for(a=0;a<n.length;a++){if(this.rules.other.blockquoteStart.test(n[a])){c.push(n[a]);l=true}else if(!l){c.push(n[a])}else{break}}n=n.slice(a);const o=c.join("\n");const u=o.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${o}`:o;s=s?`${s}
${u}`:u;const p=this.lexer.state.top;this.lexer.state.top=true;this.lexer.blockTokens(u,i,true);this.lexer.state.top=p;if(n.length===0){break}const f=i.at(-1);if((f==null?void 0:f.type)==="code"){break}else if((f==null?void 0:f.type)==="blockquote"){const y=f;const d=y.raw+"\n"+n.join("\n");const $=this.blockquote(d);i[i.length-1]=$;r=r.substring(0,r.length-y.raw.length)+$.raw;s=s.substring(0,s.length-y.text.length)+$.text;break}else if((f==null?void 0:f.type)==="list"){const y=f;const d=y.raw+"\n"+n.join("\n");const $=this.list(d);i[i.length-1]=$;r=r.substring(0,r.length-f.raw.length)+$.raw;s=s.substring(0,s.length-y.raw.length)+$.raw;n=d.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1;const s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:false,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`;if(this.options.pedantic){n=r?n:"[*+-]"}const i=this.rules.other.listItemRegex(n);let l=false;while(e){let a=false;let o="";let u="";if(!(t=i.exec(e))){break}if(this.rules.block.hr.test(e)){break}o=t[0];e=e.substring(o.length);let p=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,O=>" ".repeat(3*O.length));let f=e.split("\n",1)[0];let y=!p.trim();let d=0;if(this.options.pedantic){d=2;u=p.trimStart()}else if(y){d=t[1].length+1}else{d=t[2].search(this.rules.other.nonSpaceChar);d=d>4?1:d;u=p.slice(d);d+=t[1].length}if(y&&this.rules.other.blankLine.test(f)){o+=f+"\n";e=e.substring(f.length+1);a=true}if(!a){const O=this.rules.other.nextBulletRegex(d);const W=this.rules.other.hrRegex(d);const ae=this.rules.other.fencesBeginRegex(d);const V=this.rules.other.headingBeginRegex(d);const we=this.rules.other.htmlBeginRegex(d);while(e){const K=e.split("\n",1)[0];let M;f=K;if(this.options.pedantic){f=f.replace(this.rules.other.listReplaceNesting,"  ");M=f}else{M=f.replace(this.rules.other.tabCharGlobal,"    ")}if(ae.test(f)){break}if(V.test(f)){break}if(we.test(f)){break}if(O.test(f)){break}if(W.test(f)){break}if(M.search(this.rules.other.nonSpaceChar)>=d||!f.trim()){u+="\n"+M.slice(d)}else{if(y){break}if(p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4){break}if(ae.test(p)){break}if(V.test(p)){break}if(W.test(p)){break}u+="\n"+f}if(!y&&!f.trim()){y=true}o+=K+"\n";e=e.substring(K.length+1);p=M.slice(d)}}if(!s.loose){if(l){s.loose=true}else if(this.rules.other.doubleBlankLine.test(o)){l=true}}let $=null;let le;if(this.options.gfm){$=this.rules.other.listIsTask.exec(u);if($){le=$[0]!=="[ ] ";u=u.replace(this.rules.other.listReplaceTask,"")}}s.items.push({type:"list_item",raw:o,task:!!$,checked:le,loose:false,text:u,tokens:[]});s.raw+=o}const c=s.items.at(-1);if(c){c.raw=c.raw.trimEnd();c.text=c.text.trimEnd()}else{return}s.raw=s.raw.trimEnd();for(let a=0;a<s.items.length;a++){this.lexer.state.top=false;s.items[a].tokens=this.lexer.blockTokens(s.items[a].text,[]);if(!s.loose){const o=s.items[a].tokens.filter(p=>p.type==="space");const u=o.length>0&&o.some(p=>this.rules.other.anyLine.test(p.raw));s.loose=u}}if(s.loose){for(let a=0;a<s.items.length;a++){s.items[a].loose=true}}return s}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",block:true,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]};return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," ");const r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"";const s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){var l;const t=this.rules.block.table.exec(e);if(!t){return}if(!this.rules.other.tableDelimiter.test(t[2])){return}const n=Ne(t[1]);const r=t[2].replace(this.rules.other.tableAlignChars,"").split("|");const s=((l=t[3])==null?void 0:l.trim())?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[];const i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length!==r.length){return}for(const c of r){if(this.rules.other.tableAlignRight.test(c)){i.align.push("right")}else if(this.rules.other.tableAlignCenter.test(c)){i.align.push("center")}else if(this.rules.other.tableAlignLeft.test(c)){i.align.push("left")}else{i.align.push(null)}}for(let c=0;c<n.length;c++){i.header.push({text:n[c],tokens:this.lexer.inline(n[c]),header:true,align:i.align[c]})}for(const c of s){i.rows.push(Ne(c,i.header.length).map((a,o)=>{return{text:a,tokens:this.lexer.inline(a),header:false,align:i.align[o]}}))}return i}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)==="\n"?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t){return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t){return{type:"escape",raw:t[0],text:t[1]}}}tag(e){const t=this.rules.inline.tag.exec(e);if(t){if(!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])){this.lexer.state.inLink=true}else if(this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])){this.lexer.state.inLink=false}if(!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])){this.lexer.state.inRawBlock=true}else if(this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])){this.lexer.state.inRawBlock=false}return{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:false,text:t[0]}}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n)){return}const i=ne(n.slice(0,-1),"\\");if((n.length-i.length)%2===0){return}}else{const i=Mt(t[2],"()");if(i===-2){return}if(i>-1){const l=t[0].indexOf("!")===0?5:4;const c=l+t[1].length+i;t[2]=t[2].substring(0,i);t[0]=t[0].substring(0,c).trim();t[3]=""}}let r=t[2];let s="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(r);if(i){r=i[1];s=i[3]}}else{s=t[3]?t[3].slice(1,-1):""}r=r.trim();if(this.rules.other.startAngleBracket.test(r)){if(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)){r=r.slice(1)}else{r=r.slice(1,-1)}}return qe(t,{href:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ");const s=t[r.toLowerCase()];if(!s){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return qe(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r)return;if(r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;const s=r[1]||r[2]||"";if(!s||!n||this.rules.inline.punctuation.exec(n)){const i=[...r[0]].length-1;let l,c,a=i,o=0;const u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;u.lastIndex=0;t=t.slice(-1*e.length+i);while((r=u.exec(t))!=null){l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6];if(!l)continue;c=[...l].length;if(r[3]||r[4]){a+=c;continue}else if(r[5]||r[6]){if(i%3&&!((i+c)%3)){o+=c;continue}}a-=c;if(a>0)continue;c=Math.min(c,c+a+o);const p=[...r[0]][0].length;const f=e.slice(0,i+r.index+p+c);if(Math.min(i,c)%2){const d=f.slice(1,-1);return{type:"em",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}const y=f.slice(2,-2);return{type:"strong",raw:f,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n);const s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);if(r&&s){n=n.substring(1,n.length-1)}return{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t){return{type:"br",raw:t[0]}}}del(e){const t=this.rules.inline.del.exec(e);if(t){return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;if(t[2]==="@"){n=t[1];r="mailto:"+n}else{n=t[1];r=n}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,s;if(t[2]==="@"){r=t[0];s="mailto:"+r}else{let i;do{i=t[0];t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??""}while(i!==t[0]);r=t[0];if(t[1]==="www."){s="http://"+t[0]}else{s=t[0]}}return{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},g(Q,"_Tokenizer"),Q);var q;var B=(q=class{constructor(e){b(this,"tokens");b(this,"options");b(this,"state");b(this,"tokenizer");b(this,"inlineQueue");this.tokens=[];this.tokens.links=Object.create(null);this.options=e||G;this.options.tokenizer=this.options.tokenizer||new de;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;this.tokenizer.lexer=this;this.inlineQueue=[];this.state={inLink:false,inRawBlock:false,top:true};const t={other:z,block:he.normal,inline:te.normal};if(this.options.pedantic){t.block=he.pedantic;t.inline=te.pedantic}else if(this.options.gfm){t.block=he.gfm;if(this.options.breaks){t.inline=te.breaks}else{t.inline=te.gfm}}this.tokenizer.rules=t}static get rules(){return{block:he,inline:te}}static lex(e,t){const n=new q(t);return n.lex(e)}static lexInline(e,t){const n=new q(t);return n.inlineTokens(e)}lex(e){e=e.replace(z.carriageReturn,"\n");this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}this.inlineQueue=[];return this.tokens}blockTokens(e,t=[],n=false){var r,s,i;if(this.options.pedantic){e=e.replace(z.tabCharGlobal,"    ").replace(z.spaceLine,"")}while(e){let l;if((s=(r=this.options.extensions)==null?void 0:r.block)==null?void 0:s.some(a=>{if(l=a.call({lexer:this},e,t)){e=e.substring(l.raw.length);t.push(l);return true}return false})){continue}if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);const a=t.at(-1);if(l.raw.length===1&&a!==void 0){a.raw+="\n"}else{t.push(l)}continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);const a=t.at(-1);if((a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"){a.raw+="\n"+l.raw;a.text+="\n"+l.text;this.inlineQueue.at(-1).src=a.text}else{t.push(l)}continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);const a=t.at(-1);if((a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"){a.raw+="\n"+l.raw;a.text+="\n"+l.raw;this.inlineQueue.at(-1).src=a.text}else if(!this.tokens.links[l.tag]){this.tokens.links[l.tag]={href:l.href,title:l.title}}continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length);t.push(l);continue}let c=e;if((i=this.options.extensions)==null?void 0:i.startBlock){let a=Infinity;const o=e.slice(1);let u;this.options.extensions.startBlock.forEach(p=>{u=p.call({lexer:this},o);if(typeof u==="number"&&u>=0){a=Math.min(a,u)}});if(a<Infinity&&a>=0){c=e.substring(0,a+1)}}if(this.state.top&&(l=this.tokenizer.paragraph(c))){const a=t.at(-1);if(n&&(a==null?void 0:a.type)==="paragraph"){a.raw+="\n"+l.raw;a.text+="\n"+l.text;this.inlineQueue.pop();this.inlineQueue.at(-1).src=a.text}else{t.push(l)}n=c.length!==e.length;e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);const a=t.at(-1);if((a==null?void 0:a.type)==="text"){a.raw+="\n"+l.raw;a.text+="\n"+l.text;this.inlineQueue.pop();this.inlineQueue.at(-1).src=a.text}else{t.push(l)}continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else{throw new Error(a)}}}this.state.top=true;return t}inline(e,t=[]){this.inlineQueue.push({src:e,tokens:t});return t}inlineTokens(e,t=[]){var l,c,a;let n=e;let r=null;if(this.tokens.links){const o=Object.keys(this.tokens.links);if(o.length>0){while((r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null){if(o.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))){n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}}}while((r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null){n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex)}while((r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null){n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex)}let s=false;let i="";while(e){if(!s){i=""}s=false;let o;if((c=(l=this.options.extensions)==null?void 0:l.inline)==null?void 0:c.some(p=>{if(o=p.call({lexer:this},e,t)){e=e.substring(o.raw.length);t.push(o);return true}return false})){continue}if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);const p=t.at(-1);if(o.type==="text"&&(p==null?void 0:p.type)==="text"){p.raw+=o.raw;p.text+=o.text}else{t.push(o)}continue}if(o=this.tokenizer.emStrong(e,n,i)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length);t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length);t.push(o);continue}let u=e;if((a=this.options.extensions)==null?void 0:a.startInline){let p=Infinity;const f=e.slice(1);let y;this.options.extensions.startInline.forEach(d=>{y=d.call({lexer:this},f);if(typeof y==="number"&&y>=0){p=Math.min(p,y)}});if(p<Infinity&&p>=0){u=e.substring(0,p+1)}}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length);if(o.raw.slice(-1)!=="_"){i=o.raw.slice(-1)}s=true;const p=t.at(-1);if((p==null?void 0:p.type)==="text"){p.raw+=o.raw;p.text+=o.text}else{t.push(o)}continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else{throw new Error(p)}}}return t}},g(q,"__Lexer"),q);var F;var me=(F=class{constructor(e){b(this,"options");b(this,"parser");this.options=e||G}space(e){return""}code({text:e,lang:t,escaped:n}){var i;const r=(i=(t||"").match(z.notSpaceStart))==null?void 0:i[0];const s=e.replace(z.endingNewline,"")+"\n";if(!r){return"<pre><code>"+(n?s:j(s,true))+"</code></pre>\n"}return'<pre><code class="language-'+j(r)+'">'+(n?s:j(s,true))+"</code></pre>\n"}blockquote({tokens:e}){const t=this.parser.parse(e);return`<blockquote>
${t}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return"<hr>\n"}list(e){const t=e.ordered;const n=e.start;let r="";for(let l=0;l<e.items.length;l++){const c=e.items[l];r+=this.listitem(c)}const s=t?"ol":"ul";const i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+">\n"+r+"</"+s+">\n"}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});if(e.loose){if(((n=e.tokens[0])==null?void 0:n.type)==="paragraph"){e.tokens[0].text=r+" "+e.tokens[0].text;if(e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"){e.tokens[0].tokens[0].text=r+" "+j(e.tokens[0].tokens[0].text);e.tokens[0].tokens[0].escaped=true}}else{e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:true})}}else{t+=r+" "}}t+=this.parser.parse(e.tokens,!!e.loose);return`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="";let n="";for(let s=0;s<e.header.length;s++){n+=this.tablecell(e.header[s])}t+=this.tablerow({text:n});let r="";for(let s=0;s<e.rows.length;s++){const i=e.rows[s];n="";for(let l=0;l<i.length;l++){n+=this.tablecell(i[l])}r+=this.tablerow({text:n})}if(r)r=`<tbody>${r}</tbody>`;return"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens);const n=e.header?"th":"td";const r=e.align?`<${n} align="${e.align}">`:`<${n}>`;return r+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${j(e,true)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n);const s=Be(e);if(s===null){return r}e=s;let i='<a href="'+e+'"';if(t){i+=' title="'+j(t)+'"'}i+=">"+r+"</a>";return i}image({href:e,title:t,text:n,tokens:r}){if(r){n=this.parser.parseInline(r,this.parser.textRenderer)}const s=Be(e);if(s===null){return j(n)}e=s;let i=`<img src="${e}" alt="${n}"`;if(t){i+=` title="${j(t)}"`}i+=">";return i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:j(e.text)}},g(F,"_Renderer"),F);var U;var Pe=(U=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},g(U,"_TextRenderer"),U);var D;var N=(D=class{constructor(e){b(this,"options");b(this,"renderer");b(this,"textRenderer");this.options=e||G;this.options.renderer=this.options.renderer||new me;this.renderer=this.options.renderer;this.renderer.options=this.options;this.renderer.parser=this;this.textRenderer=new Pe}static parse(e,t){const n=new D(t);return n.parse(e)}static parseInline(e,t){const n=new D(t);return n.parseInline(e)}parse(e,t=true){var r,s;let n="";for(let i=0;i<e.length;i++){const l=e[i];if((s=(r=this.options.extensions)==null?void 0:r.renderers)==null?void 0:s[l.type]){const a=l;const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==false||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=o||"";continue}}const c=l;switch(c.type){case"space":{n+=this.renderer.space(c);continue}case"hr":{n+=this.renderer.hr(c);continue}case"heading":{n+=this.renderer.heading(c);continue}case"code":{n+=this.renderer.code(c);continue}case"table":{n+=this.renderer.table(c);continue}case"blockquote":{n+=this.renderer.blockquote(c);continue}case"list":{n+=this.renderer.list(c);continue}case"html":{n+=this.renderer.html(c);continue}case"paragraph":{n+=this.renderer.paragraph(c);continue}case"text":{let a=c;let o=this.renderer.text(a);while(i+1<e.length&&e[i+1].type==="text"){a=e[++i];o+="\n"+this.renderer.text(a)}if(t){n+=this.renderer.paragraph({type:"paragraph",raw:o,text:o,tokens:[{type:"text",raw:o,text:o,escaped:true}]})}else{n+=o}continue}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent){console.error(a);return""}else{throw new Error(a)}}}}return n}parseInline(e,t=this.renderer){var r,s;let n="";for(let i=0;i<e.length;i++){const l=e[i];if((s=(r=this.options.extensions)==null?void 0:r.renderers)==null?void 0:s[l.type]){const a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==false||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=a||"";continue}}const c=l;switch(c.type){case"escape":{n+=t.text(c);break}case"html":{n+=t.html(c);break}case"link":{n+=t.link(c);break}case"image":{n+=t.image(c);break}case"strong":{n+=t.strong(c);break}case"em":{n+=t.em(c);break}case"codespan":{n+=t.codespan(c);break}case"br":{n+=t.br(c);break}case"del":{n+=t.del(c);break}case"text":{n+=t.text(c);break}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent){console.error(a);return""}else{throw new Error(a)}}}}return n}},g(D,"__Parser"),D);var H;var ue=(H=class{constructor(e){b(this,"options");b(this,"block");this.options=e||G}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?B.lex:B.lexInline}provideParser(){return this.block?N.parse:N.parseInline}},g(H,"_Hooks"),b(H,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),H);var X;var ve=(X=class{constructor(...e){b(this,"defaults",Se());b(this,"options",this.setOptions);b(this,"parse",this.parseMarkdown(true));b(this,"parseInline",this.parseMarkdown(false));b(this,"Parser",N);b(this,"Renderer",me);b(this,"TextRenderer",Pe);b(this,"Lexer",B);b(this,"Tokenizer",de);b(this,"Hooks",ue);this.use(...e)}walkTokens(e,t){var r,s;let n=[];for(const i of e){n=n.concat(t.call(this,i));switch(i.type){case"table":{const l=i;for(const c of l.header){n=n.concat(this.walkTokens(c.tokens,t))}for(const c of l.rows){for(const a of c){n=n.concat(this.walkTokens(a.tokens,t))}}break}case"list":{const l=i;n=n.concat(this.walkTokens(l.items,t));break}default:{const l=i;if((s=(r=this.defaults.extensions)==null?void 0:r.childTokens)==null?void 0:s[l.type]){this.defaults.extensions.childTokens[l.type].forEach(c=>{const a=l[c].flat(Infinity);n=n.concat(this.walkTokens(a,t))})}else if(l.tokens){n=n.concat(this.walkTokens(l.tokens,t))}}}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const r={...n};r.async=this.defaults.async||r.async||false;if(n.extensions){n.extensions.forEach(s=>{if(!s.name){throw new Error("extension name required")}if("renderer"in s){const i=t.renderers[s.name];if(i){t.renderers[s.name]=function(...l){let c=s.renderer.apply(this,l);if(c===false){c=i.apply(this,l)}return c}}else{t.renderers[s.name]=s.renderer}}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline"){throw new Error("extension level must be 'block' or 'inline'")}const i=t[s.level];if(i){i.unshift(s.tokenizer)}else{t[s.level]=[s.tokenizer]}if(s.start){if(s.level==="block"){if(t.startBlock){t.startBlock.push(s.start)}else{t.startBlock=[s.start]}}else if(s.level==="inline"){if(t.startInline){t.startInline.push(s.start)}else{t.startInline=[s.start]}}}}if("childTokens"in s&&s.childTokens){t.childTokens[s.name]=s.childTokens}});r.extensions=t}if(n.renderer){const s=this.defaults.renderer||new me(this.defaults);for(const i in n.renderer){if(!(i in s)){throw new Error(`renderer '${i}' does not exist`)}if(["options","parser"].includes(i)){continue}const l=i;const c=n.renderer[l];const a=s[l];s[l]=(...o)=>{let u=c.apply(s,o);if(u===false){u=a.apply(s,o)}return u||""}}r.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new de(this.defaults);for(const i in n.tokenizer){if(!(i in s)){throw new Error(`tokenizer '${i}' does not exist`)}if(["options","rules","lexer"].includes(i)){continue}const l=i;const c=n.tokenizer[l];const a=s[l];s[l]=(...o)=>{let u=c.apply(s,o);if(u===false){u=a.apply(s,o)}return u}}r.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new ue;for(const i in n.hooks){if(!(i in s)){throw new Error(`hook '${i}' does not exist`)}if(["options","block"].includes(i)){continue}const l=i;const c=n.hooks[l];const a=s[l];if(ue.passThroughHooks.has(i)){s[l]=o=>{if(this.defaults.async){return Promise.resolve(c.call(s,o)).then(p=>{return a.call(s,p)})}const u=c.call(s,o);return a.call(s,u)}}else{s[l]=(...o)=>{let u=c.apply(s,o);if(u===false){u=a.apply(s,o)}return u}}}r.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens;const i=n.walkTokens;r.walkTokens=function(l){let c=[];c.push(i.call(this,l));if(s){c=c.concat(s.call(this,l))}return c}}this.defaults={...this.defaults,...r}});return this}setOptions(e){this.defaults={...this.defaults,...e};return this}lexer(e,t){return B.lex(e,t??this.defaults)}parser(e,t){return N.parse(e,t??this.defaults)}parseMarkdown(e){const t=g((n,r)=>{const s={...r};const i={...this.defaults,...s};const l=this.onError(!!i.silent,!!i.async);if(this.defaults.async===true&&s.async===false){return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."))}if(typeof n==="undefined"||n===null){return l(new Error("marked(): input parameter is undefined or null"))}if(typeof n!=="string"){return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"))}if(i.hooks){i.hooks.options=i;i.hooks.block=e}const c=i.hooks?i.hooks.provideLexer():e?B.lex:B.lexInline;const a=i.hooks?i.hooks.provideParser():e?N.parse:N.parseInline;if(i.async){return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(o=>c(o,i)).then(o=>i.hooks?i.hooks.processAllTokens(o):o).then(o=>i.walkTokens?Promise.all(this.walkTokens(o,i.walkTokens)).then(()=>o):o).then(o=>a(o,i)).then(o=>i.hooks?i.hooks.postprocess(o):o).catch(l)}try{if(i.hooks){n=i.hooks.preprocess(n)}let o=c(n,i);if(i.hooks){o=i.hooks.processAllTokens(o)}if(i.walkTokens){this.walkTokens(o,i.walkTokens)}let u=a(o,i);if(i.hooks){u=i.hooks.postprocess(u)}return u}catch(o){return l(o)}},"parse2");return t}onError(e,t){return n=>{n.message+="\nPlease report this to https://github.com/markedjs/marked.";if(e){const r="<p>An error occurred:</p><pre>"+j(n.message+"",true)+"</pre>";if(t){return Promise.resolve(r)}return r}if(t){return Promise.reject(n)}throw n}}},g(X,"Marked"),X);var Z=new ve;function k(h,e){return Z.parse(h,e)}g(k,"marked");k.options=k.setOptions=function(h){Z.setOptions(h);k.defaults=Z.defaults;Me(k.defaults);return k};k.getDefaults=Se;k.defaults=G;k.use=function(...h){Z.use(...h);k.defaults=Z.defaults;Me(k.defaults);return k};k.walkTokens=function(h,e){return Z.walkTokens(h,e)};k.parseInline=Z.parseInline;k.Parser=N;k.parser=N.parse;k.Renderer=me;k.TextRenderer=Pe;k.Lexer=B;k.lexer=B.lex;k.Tokenizer=de;k.Hooks=ue;k.parse=k;k.options;k.setOptions;k.use;k.walkTokens;k.parseInline;N.parse;B.lex;const _=st(tt,"RichText");const De=(()=>{const h=typeof ge.getDefaultWhiteList==="function"?ge.getDefaultWhiteList():{};const e=g(t=>{h[t]=Array.from(new Set([...h[t]??[],"class"]))},"add");e("pre");e("code");e("span");return{whiteList:h,allowList:h}})();const re=g(h=>I.Children.toArray(h),"normalize");const Zt=g((h,e)=>I.isValidElement(h)?h.key==null?{...h,key:e}:h:h,"withKey");const Gt=g(h=>/(^|\n)```/.test(h)||/<pre|<code/i.test(h),"hasCodeBlocks");const Vt=g(h=>{const e=new Set;const t=/(^|\n)```([\w+-]+)/g;let n;while(n=t.exec(h)){const r=(n[2]??"").toLowerCase().trim();if(r)e.add(r)}return e},"extractFenceLangs");async function Qt(h,e){const t=(await Oe(async()=>{const{default:r}=await import("./common-CWL6jHrI.js");return{default:r}},true?__vite__mapDeps([0,1]):void 0,import.meta.url)).default;const n=(t==null?void 0:t.versionString)||"11.11.1";Ft(n,e);return t}g(Qt,"prepareHljs");function Ft(h,e){const t="hljs-theme";const n=document.getElementById(t);const{href:r,name:s,version:i}=e??{};let l;if(typeof r==="string"&&r.trim().length>0){l=r}else{const a=(s??"github-dark-dimmed").replace(/\.css$/i,"");const o=i==="auto"||!pe(i)?h:i;l=`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/${encodeURIComponent(o)}/styles/${a}.min.css`}if(n){if(n.href!==l)n.href=l;return}const c=document.createElement("link");c.id=t;c.rel="stylesheet";c.href=l;document.head.appendChild(c)}g(Ft,"ensureHljsThemeLoaded");function ke({children:h,animated:e,animationProps:t={},variant:n="primary",schema:r={},itemProp:s,linkComponent:i,className:l,overrideParagraph:c,codeTheme:a,...o}){const u=I.useRef(null);const p={animated:e,className:l??void 0,...r};const f={animationProps:t};const y=g(R=>{if(!Boolean(e))return R;return typeof R==="string"?S.jsx(at,{...t,children:R}):R},"renderAnimation");const d=String(h??"");const $=I.useMemo(()=>{const R=new ve({gfm:true,breaks:true});return ge.filterXSS(R.parse(d),De)},[d]);const[le,O]=I.useState("");I.useEffect(()=>{let R=false;void(async()=>{if(!Gt(d)){if(!R)O($);return}const[T,v]=await Promise.all([Oe(()=>import("./index-CSrhd8iA.js"),true?[]:void 0,import.meta.url),Qt(Vt(d),a)]);const L=T.markedHighlight??T.default;if(typeof L!=="function"){console.error("[RichText] marked-highlight not resolved; no code styling will be applied.")}const oe=new ve(L({emptyLangClass:"hljs",langPrefix:"hljs language-",highlight(P,E){try{if(pe(E)&&v.getLanguage(E)){return v.highlight(P,{language:E}).value}return v.highlightAuto(P).value}catch{return P}}}),{gfm:true,breaks:true});const A=ge.filterXSS(oe.parse(d),De);const x=/<pre[^>]*>\s*<code[^>]*>/.test(A)&&!/<span[^>]+class="[^"]*hljs-/.test(A);if(!x){if(!R)O(A);return}const w=new DOMParser().parseFromString(A,"text/html");w.querySelectorAll("pre code").forEach(P=>{var E;try{const J=P.getAttribute("class")??"";const Y=J.match(/language-([\w+-]+)/);const ee=Y==null?void 0:Y[1];const ce=P.textContent??"";const Je=pe(ee)&&v.getLanguage(ee)?v.highlight(ce,{language:ee}).value:v.highlightAuto(ce).value;P.innerHTML=Je;P.classList.add("hljs");(E=P.closest("pre"))==null?void 0:E.classList.add("hljs")}catch{}});const C=w.body.innerHTML;if(!R)O(C)})();return()=>{R=true}},[d,$,a]);const W=le||$;const ae=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function V(R,T="r"){if(R.nodeType===Node.TEXT_NODE){return R.textContent}if(R.nodeType!==Node.ELEMENT_NODE){return null}const v=R;const L=v.tagName.toLowerCase();const oe=Array.from(v.childNodes).map((x,w)=>V(x,`${T}.${w}`));const A=re(oe.map((x,w)=>I.isValidElement(x)?Zt(x,`${T}.c${w}`):x));switch(L){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":{const x=parseInt(L.charAt(1),10);let w;let C;switch(x){case 1:w="xxl";C="h1";break;case 2:w="xl";C="h2";break;case 3:w="lg";C="h3";break;case 4:w="md";C="h4";break;case 5:w="sm";C="h5";break;default:w="xs";C="h6"}return S.jsx(nt,{...p,...f,size:w,type:C,children:A})}case"p":{const x=_("p");return S.jsx("p",{className:x,itemProp:s,children:re(A.map(y))})}case"a":{const x=_("a");const w=v.getAttribute("href")??"#";const C=v.getAttribute("title")??void 0;const P=re(A.map(y));return S.jsx(lt,{...p,"aria-label":oe.map(Re).join(""),className:x,href:w,linkComponent:i,title:C,variant:"primary",children:P})}case"pre":{const x=v.getAttribute("class");return S.jsx("pre",{className:[_("pre"),x].filter(Boolean).join(" "),children:A})}case"code":{const x=v.getAttribute("class");return S.jsx("code",{className:[_("code"),x].filter(Boolean).join(" "),children:A})}case"blockquote":{const x=v.getAttribute("class");return S.jsx("blockquote",{className:[_("blockquote"),x].filter(Boolean).join(" "),children:A})}case"ul":{const x=_("ul");return S.jsx("ul",{className:x,children:A})}case"ol":{const x=_("ol");const w=v.getAttribute("start");const C=pe(w)?parseInt(w,10)||1:1;const P=Array.from(v.children).filter(E=>E.tagName.toLowerCase()==="li");return S.jsx("ol",{className:x,children:P.map((E,J)=>{const Y=Array.from(E.childNodes).map((ee,ce)=>V(ee,`${T}.li${J}.${ce}`));return S.jsxs("li",{className:_("li"),children:[S.jsx("i",{className:_("ol__decimal"),children:C+J}),S.jsx("span",{className:_("li__content"),children:re(Y.map(y))})]},`ol-li-${J}`)})})}case"li":{const x=_("li");return S.jsxs("li",{className:x,children:[S.jsx(it,{className:_("li__icon"),color:n,name:"ArrowRight01Icon",size:18},`${T}.icon`),S.jsx("span",{className:_("li__content"),children:re(A.map(y))})]})}default:{const x=v.getAttribute("class");const w={className:[_(L),x].filter(Boolean).join(" ")};if(L==="img"){w.src=v.getAttribute("src")??"";w.alt=v.getAttribute("alt")??"";w.loading="lazy"}if(ae.has(L)){return I.createElement(L,{...w,key:T})}return A.length?I.createElement(L,{...w,key:T},A):I.createElement(L,{...w,key:T})}}}g(V,"domNodeToReact");if(c){const R=W.split(/<\/?p>/g).filter(T=>T.trim().length>0);return S.jsx("div",{className:_(void 0,void 0,l),...r,...o,children:R.map((T,v)=>{const L=T.replace(/<[^>]+>/g,"");return S.jsx(I.Fragment,{children:c(L)},v)})})}const we=new DOMParser;const K=we.parseFromString(W,"text/html");const M=Array.from(K.body.childNodes);return S.jsx("div",{ref:u,className:_(void 0,void 0,l),...r,...o,children:M.map((R,T)=>S.jsx(I.Fragment,{children:V(R)},`top-level-${T}`))})}g(ke,"RichTextClient");ke.displayName="RichTextClient";function Re(h){if(typeof h==="string"||typeof h==="number"){return String(h)}if(Array.isArray(h)){return h.map(Re).join("")}if(I.isValidElement(h)){return Re(h.props.children)}return""}g(Re,"extractText");try{ke.displayName="RichTextClient";ke.__docgenInfo={"description":"","displayName":"RichTextClient","props":{"children":{"defaultValue":null,"description":"Raw Markdown source","name":"children","required":false,"type":{"name":"ReactNode"}},"animated":{"defaultValue":null,"description":"If true, wrap text in <AnimatedText>; otherwise render directly","name":"animated","required":false,"type":{"name":"boolean"}},"animationProps":{"defaultValue":{value:"{}"},"description":"Props forwarded to AnimatedText","name":"animationProps","required":false,"type":{"name":'Omit<AnimatedTextProps, "children">'}},"variant":{"defaultValue":{value:"primary"},"description":"BEM-variant for coloring (e.g. primary, secondary, etc.)","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"inherit"'},{"value":'"primary"'},{"value":'"secondary"'},{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"white"'}]}},"schema":{"defaultValue":{value:"{}"},"description":"Microdata attributes to spread on wrapper <div>","name":"schema","required":false,"type":{"name":"Schema"}},"itemProp":{"defaultValue":null,"description":'If provided, each <p> will include itemprop="..."',"name":"itemProp","required":false,"type":{"name":"string"}},"linkComponent":{"defaultValue":null,"description":"Custom Link component (e.g. NextLink) to use instead of default <a>","name":"linkComponent","required":false,"type":{"name":"ComponentType<any>"}},"className":{"defaultValue":null,"description":"Optional CSS class on wrapper","name":"className","required":false,"type":{"name":"string"}},"overrideParagraph":{"defaultValue":null,"description":"Callback used by RichText when it encounters a <p>…</p>.\nShould return a React element—here, a heading tag of the right level.","name":"overrideParagraph","required":false,"type":{"name":"((textContent: string) => ReactNode)"}},"codeTheme":{"defaultValue":null,"description":'Control the Highlight.js stylesheet.\n- Provide `href` to point to any CSS (absolute URL).\n- Or provide `name` (e.g. "github", "atom-one-dark") and optional `version` ("auto" uses installed hljs version).\nDefault: { name: "github", version: "auto" }',"name":"codeTheme","required":false,"type":{"name":"{ href?: string; name?: string; version?: string | undefined; } | undefined"}}}}}catch(h){}const pn=et({name:"RichText",Client:ke,Server:rt,hydrateOnVisible:true,ioOptions:{threshold:.1},isInteractive:g(()=>true,"isInteractive")});export{pn as default};
