import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./index-Bw_7RdAX.js";import{c as Z}from"./bem-JthPXG5n.js";import{L as me}from"./Lottie-DWx17Y7x.js";import{B as I}from"./Button-zhNNPsBy.js";import{C as pe}from"./Card-Bthvg4SK.js";import{H as O}from"./Headline-Cma0Ta3A.js";import{L as G}from"./Link-5QZVztOc.js";import{I as _e}from"./Image-BUApIzuA.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./iframe-esFzIW8E.js";import"../sb-preview/runtime.js";import"./validations-Dr5r3ha_.js";import"./Loading-DhnrYLOo.js";import"./Icon-BhaAkHGH.js";import"./Animated-CkuxrgiP.js";import"./Skeleton-jEn2qT1a.js";import"./BaseLink-BS16D7JH.js";const fe="gradientMove",ge="fadeInKeyframe",Ce={"prokodo-Carousel":"prokodo-Carousel","prokodo-Carousel--is-active":"prokodo-Carousel--is-active","prokodo-Carousel__wrapper":"prokodo-Carousel__wrapper","prokodo-Carousel__item":"prokodo-Carousel__item","prokodo-Carousel__mobile__tutorial":"prokodo-Carousel__mobile__tutorial","prokodo-Carousel__mobile__tutorial__animation":"prokodo-Carousel__mobile__tutorial__animation","prokodo-Carousel__mobile__tutorial--is-hidden":"prokodo-Carousel__mobile__tutorial--is-hidden","prokodo-Carousel__controls":"prokodo-Carousel__controls","prokodo-Carousel__button":"prokodo-Carousel__button","prokodo-Carousel__dots":"prokodo-Carousel__dots","prokodo-Carousel__dots__dot":"prokodo-Carousel__dots__dot","prokodo-Carousel__dots__dot--is-active":"prokodo-Carousel__dots__dot--is-active",gradientMove:fe,fadeInKeyframe:ge},x="NEXT",z="PREV",ye=(i,l)=>{var t;l.current=((t=i.targetTouches[0])==null?void 0:t.clientX)??0},ke=(i,l)=>{var t;l.current=((t=i.targetTouches[0])==null?void 0:t.clientX)??0},ve=(i,l,t)=>{i.current-l.current>50&&t("NEXT"),i.current-l.current<-50&&t("PREV")},be=(i,l)=>{l.current=i.clientX},he=(i,l,t,s)=>{t.current=i.clientX,l.current-t.current>50&&s("NEXT"),l.current-t.current<-50&&s("PREV")},m=Z(Ce,"Carousel"),j=({ref:i,autoplay:l,enableControl:t,itemsToShow:s=1,className:R,classNameControls:p,classNameButtons:N,classNameWrapper:P,classNameItem:a,classNameDots:f,classNameDot:g,onKeyDown:_,onMouseEnter:y,onMouseLeave:V,onTouchEnd:E,onTouchMove:w,onTouchStart:A,onMouseDown:L,onMouseUp:X,children:U,...ee})=>{const B=r.useRef(null),K=r.useRef(0),D=r.useRef(0),H=r.useRef(0),ae=r.useRef(0),[re,te]=r.useState(!0),[k,v]=r.useState(s),[oe,S]=r.useState(!1),[F,T]=r.useState(!!l),[h,C]=r.useState(!1),b=r.Children.toArray(U),[M,se]=r.useState([]),d=b.length;r.useEffect(()=>{const e=[...b.slice(-s),...b,...b.slice(0,s)];e!==M&&(se(e),v(s))},[s]),r.useEffect(()=>{const e=setTimeout(()=>{te(!1)},1500);return()=>clearTimeout(e)},[]);const c=r.useCallback(e=>{if(h)return;C(!0);let n=k;e===x?n=k+1:e===z&&(n=k-1),v(n),setTimeout(()=>{n>=d+s?(v(s),C(!1)):(n<s&&v(d),C(!1))},300)},[h,k,s,d]);r.useEffect(()=>{if(typeof l!="number"||l<=0)return;let e;return F&&(e=setInterval(()=>{c(x)},l)),()=>{clearInterval(e)}},[c,F,l]);const $=r.useCallback(e=>{if(h)return;C(!0);const n=e+s;v(n),setTimeout(()=>{n>=d+s?(v(n-d),C(!1)):(n<s&&v(d+n),C(!1))},300)},[h,s,d]);r.useImperativeHandle(i,()=>({slidePrev:()=>c(z),slideNext:()=>c(x),carouselContainer:B.current}));const le=r.useCallback(e=>{y==null||y(e),T(!1)},[y]),ne=r.useCallback(e=>{V==null||V(e),T(!0)},[V]),ie=()=>`translateX(${-k*(100/s)}%)`,ue=r.useCallback(()=>d>0&&o.jsx("span",{className:m("dots",void 0,f),children:b.map((e,n)=>{const de=n===(k-s+d)%d;return o.jsx("button",{tabIndex:0,className:m("dots__dot",{"is-active":de},g),onClick:()=>$(n),onKeyDown:ce=>ce.key==="Enter"&&$(n)},`carousel-dot-${n}`)})}),[d,b,k,f,g,s,$]);return d===0?null:o.jsxs("div",{"aria-label":"Carousel",role:"button",tabIndex:0,...ee,ref:B,className:m(void 0,{"is-active":oe},R),onMouseEnter:le,onMouseLeave:ne,onKeyDown:e=>{switch(_==null||_(e),e.key){case"ArrowLeft":c("NEXT");break;case"ArrowRight":c("PREV");break}},onMouseDown:e=>{L==null||L(e),be(e,H),S(!0)},onMouseUp:e=>{X==null||X(e),he(e,H,ae,c),S(!1)},onTouchEnd:e=>{E==null||E(e),ve(K,D,c)},onTouchMove:e=>{w==null||w(e),ke(e,D)},onTouchStart:e=>{A==null||A(e),ye(e,K)},children:[o.jsx("div",{className:m("wrapper",void 0,P),style:{transform:ie(),transition:h?"transform 0.3s ease-in-out":"none"},children:M.map((e,n)=>o.jsx("div",{className:m("item",void 0,a),style:{width:`${100/s}%`},children:e},`carousel-item-${n}`))}),o.jsx("div",{className:m("mobile__tutorial",{"is-hidden":!re}),children:o.jsx("div",{className:m("mobile__tutorial__animation"),children:o.jsx(me,{animationName:"Swipe"})})}),o.jsxs("footer",{className:m("controls",void 0,p),children:[!!t&&o.jsx(I,{"aria-label":"Swipe one slide backwards",className:m("button",void 0,N),variant:"outlined",iconProps:{name:"ArrowLeft01Icon",size:"md",color:"white"},onClick:()=>c(z)}),ue(),!!t&&o.jsx(I,{"aria-label":"Swipe one slide forwards",className:m("button",void 0,N),variant:"outlined",iconProps:{name:"ArrowRight01Icon",size:"md",color:"white"},onClick:()=>c(x)})]})]})};j.displayName="Carousel";try{j.displayName="Carousel",j.__docgenInfo={description:"",displayName:"Carousel",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<CarouselRef>"}},autoplay:{defaultValue:null,description:"",name:"autoplay",required:!1,type:{name:"number"}},enableControl:{defaultValue:null,description:"",name:"enableControl",required:!1,type:{name:"boolean"}},translateX:{defaultValue:null,description:"",name:"translateX",required:!1,type:{name:"string"}},itemStyle:{defaultValue:null,description:"",name:"itemStyle",required:!1,type:{name:"CSSProperties"}},itemsToShow:{defaultValue:{value:"1"},description:"",name:"itemsToShow",required:!1,type:{name:"number"}},classNameControls:{defaultValue:null,description:"",name:"classNameControls",required:!1,type:{name:"string"}},classNameButtons:{defaultValue:null,description:"",name:"classNameButtons",required:!1,type:{name:"string"}},classNameWrapper:{defaultValue:null,description:"",name:"classNameWrapper",required:!1,type:{name:"string"}},classNameItem:{defaultValue:null,description:"",name:"classNameItem",required:!1,type:{name:"string"}},classNameDots:{defaultValue:null,description:"",name:"classNameDots",required:!1,type:{name:"string"}},classNameDot:{defaultValue:null,description:"",name:"classNameDot",required:!1,type:{name:"string"}}}}}catch{}const Ne="gradientMove",Pe="fadeInKeyframe",Ve={"prokodo-PostWidgetCarousel__carousel":"prokodo-PostWidgetCarousel__carousel","prokodo-PostWidgetCarousel__carousel__item__image__link":"prokodo-PostWidgetCarousel__carousel__item__image__link","prokodo-PostWidgetCarousel__carousel__item__image":"prokodo-PostWidgetCarousel__carousel__item__image","prokodo-PostWidgetCarousel__carousel__item__link":"prokodo-PostWidgetCarousel__carousel__item__link","prokodo-PostWidgetCarousel__carousel__dots":"prokodo-PostWidgetCarousel__carousel__dots","prokodo-PostWidgetCarousel__carousel__buttons":"prokodo-PostWidgetCarousel__carousel__buttons","prokodo-PostWidgetCarousel__headline":"prokodo-PostWidgetCarousel__headline",gradientMove:Ne,fadeInKeyframe:Pe},u=Z(Ve,"PostWidgetCarousel"),W=r.memo(({autoplay:i,className:l,title:t,items:s=[],...R})=>{const p=r.useRef(null),[N,P]=r.useState(0);return r.useLayoutEffect(()=>{var g,_;const a=((_=(g=p==null?void 0:p.current)==null?void 0:g.carouselContainer)==null?void 0:_.offsetWidth)??0;P(a);const f=()=>{P(a)};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[p]),o.jsx("section",{itemScope:!0,className:u(void 0,void 0,l),itemType:"https://schema.org/ItemList",children:o.jsxs(pe,{animated:!0,enableShadow:!0,...R,className:u("card__container"),contentClassName:u("card"),variant:"white",children:[t&&o.jsx(O,{highlight:!0,size:"md",type:"h2",...t,className:u("title",t==null?void 0:t.className),itemProp:"headline",variant:"secondary",children:t==null?void 0:t.content}),s.length>0&&o.jsxs(r.Fragment,{children:[o.jsx(j,{ref:p,autoplay:i,className:u("carousel"),classNameDots:u("carousel__dots"),classNameItem:u("carousel__item"),itemsToShow:1,children:s.map(a=>{var g,_,y;const f=`carousel-item-${a.title}`;return o.jsxs(r.Fragment,{children:[(a==null?void 0:a.image)&&o.jsx(G,{"aria-label":`Read more about ${a.title.content}`,...a==null?void 0:a.redirect,className:u("carousel__item__image__link",void 0,(g=a==null?void 0:a.redirect)==null?void 0:g.className),style:{width:N},children:o.jsx(_e,{className:u("carousel__item__image"),...a.image},f)}),o.jsx(G,{...a==null?void 0:a.redirect,"aria-label":`Read more about ${a.title.content}`,className:u("carousel__item__link"),children:o.jsx(O,{size:"md",type:"h3",...a.title,className:u("headline",(_=a.title)==null?void 0:_.className),itemProp:"headline",variant:"inherit",children:(y=a.title)==null?void 0:y.content})})]},f)})}),o.jsxs("div",{className:u("carousel__buttons"),children:[o.jsx(I,{"aria-label":"Last category",className:u("carousel__button"),color:"primary",iconProps:{name:"ArrowLeft01Icon",size:"sm"},onClick:()=>{var a;return(a=p.current)==null?void 0:a.slidePrev()}}),o.jsx(I,{"aria-label":"Next category",className:u("carousel__button"),color:"primary",iconProps:{name:"ArrowRight01Icon",size:"sm"},onClick:()=>{var a;return(a=p.current)==null?void 0:a.slideNext()}})]})]})]})})});W.displayName="PostWidgetCarousel";try{W.displayName="PostWidgetCarousel",W.__docgenInfo={description:"",displayName:"PostWidgetCarousel",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"(() => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"(() => void)"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"white"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"LinkProps"}},contentClassName:{defaultValue:null,description:"",name:"contentClassName",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},animated:{defaultValue:null,description:"",name:"animated",required:!1,type:{name:"boolean"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!1,type:{name:"boolean"}},skeletonProps:{defaultValue:null,description:"",name:"skeletonProps",required:!1,type:{name:"SkeletonProps"}},gradiant:{defaultValue:null,description:"",name:"gradiant",required:!1,type:{name:"boolean"}},gradiantClassName:{defaultValue:null,description:"",name:"gradiantClassName",required:!1,type:{name:"string"}},enableShadow:{defaultValue:null,description:"",name:"enableShadow",required:!1,type:{name:"boolean"}},customAnimation:{defaultValue:null,description:"",name:"customAnimation",required:!1,type:{name:"enum",value:[{value:'"bottom-top"'},{value:'"top-bottom"'},{value:'"left-right"'},{value:'"right-left"'}]}},background:{defaultValue:null,description:"",name:"background",required:!1,type:{name:"CardBackground"}},backgroundProps:{defaultValue:null,description:"",name:"backgroundProps",required:!1,type:{name:"CardBackgroundProps"}},autoplay:{defaultValue:null,description:"",name:"autoplay",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"PostWidgetCarouselHeadline"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"PostWidgetCarouselItem[]"}}}}}catch{}const Te={title:"prokodo/common/PostWidgetCarousel",component:W,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{variant:{options:["inherit","primary","secondary","error","info","success","warning","white"],control:{type:"select"}}}},xe=[{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"Technology"},redirect:{href:"#"}},{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"App"},redirect:{href:"#"}},{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"Internal"},redirect:{href:"#"}}],q={args:{title:{content:"Categories"},items:xe}};var J,Q,Y;q.parameters={...q.parameters,docs:{...(J=q.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    title: {
      content: "Categories"
    },
    items
  }
}`,...(Y=(Q=q.parameters)==null?void 0:Q.docs)==null?void 0:Y.source}}};const Me=["Default"];export{q as Default,Me as __namedExportsOrder,Te as default};
