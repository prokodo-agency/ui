var xe=Object.defineProperty;var Ne=(p,e,t)=>e in p?xe(p,e,{enumerable:true,configurable:true,writable:true,value:t}):p[e]=t;var g=(p,e)=>xe(p,"name",{value:e,configurable:true});var x=(p,e,t)=>Ne(p,typeof e!=="symbol"?e+"":e,t);import{c as qe}from"./createLazyWrapper-AC75M60Y.js";import{j as T}from"./jsx-runtime-CGXnEs--.js";import{r as L}from"./index-DGnhqvo7.js";import{l as je,s as De,H as Oe,a as Ze}from"./Headline-BCyK0KL2.js";import{c as Me}from"./bem-DSWMYwqE.js";import{I as Ge}from"./Icon-C3A5VhcE.js";import{L as He}from"./Link-C86Tx0-X.js";import{A as Ve}from"./AnimatedText-x4M0XoDd.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-BV1xsYLV.js";import"../sb-preview/runtime.js";import"./createIsland-fzL0F2Ul.js";import"./validations-DJC0TP_C.js";import"./Link.server-BZ5NjJWg.js";import"./BaseLink.server-BRG_yKpR.js";function ce(){return{async:false,breaks:false,extensions:null,gfm:true,hooks:null,pedantic:false,renderer:null,silent:false,tokenizer:null,walkTokens:null}}g(ce,"_getDefaults");var O=ce();function Se(p){O=p}g(Se,"changeDefaults");var U={exec:g(()=>null,"exec")};function k(p,e=""){let t=typeof p==="string"?p:p.source;const n={replace:g((s,r)=>{let i=typeof r==="string"?r:r.source;i=i.replace(S.caret,"$1");t=t.replace(s,i);return n},"replace"),getRegex:g(()=>{return new RegExp(t,e)},"getRegex")};return n}g(k,"edit");var S={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:g(p=>new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:g(p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:g(p=>new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:g(p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:g(p=>new RegExp(`^ {0,${Math.min(3,p-1)}}#`),"headingBeginRegex"),htmlBeginRegex:g(p=>new RegExp(`^ {0,${Math.min(3,p-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")};var Qe=/^(?:[ \t]*(?:\n|$))+/;var Fe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/;var Xe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/;var W=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/;var Ue=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/;var pe=/(?:[*+-]|\d{1,9}[.)])/;var $e=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/;var Te=k($e).replace(/bull/g,pe).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex();var We=k($e).replace(/bull/g,pe).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex();var he=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/;var Ke=/^[^\n]+/;var ue=/(?!\s*\])(?:\\.|[^\[\]\\])+/;var Je=k(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ue).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex();var Ye=k(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,pe).getRegex();var ie="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";var fe=/<!--(?:-?>|[\s\S]*?(?:-->|$))/;var et=k("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",fe).replace("tag",ie).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();var ze=k(he).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie).getRegex();var tt=k(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ze).getRegex();var ge={blockquote:tt,code:Fe,def:Je,fences:Xe,heading:Ue,hr:W,html:et,lheading:Te,list:Ye,newline:Qe,paragraph:ze,table:U,text:Ke};var be=k("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie).getRegex();var nt={...ge,lheading:We,table:be,paragraph:k(he).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",be).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie).getRegex()};var rt={...ge,html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",fe).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(he).replace("hr",W).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Te).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()};var st=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/;var it=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/;var Ae=/^( {2,}|\\)\n(?!\s*$)/;var lt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/;var le=/[\p{P}\p{S}]/u;var de=/[\s\p{P}\p{S}]/u;var _e=/[^\s\p{P}\p{S}]/u;var at=k(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,de).getRegex();var Ce=/(?!~)[\p{P}\p{S}]/u;var ot=/(?!~)[\s\p{P}\p{S}]/u;var ct=/(?:[^\s\p{P}\p{S}]|~)/u;var pt=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g;var Ie=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/;var ht=k(Ie,"u").replace(/punct/g,le).getRegex();var ut=k(Ie,"u").replace(/punct/g,Ce).getRegex();var Le="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)";var ft=k(Le,"gu").replace(/notPunctSpace/g,_e).replace(/punctSpace/g,de).replace(/punct/g,le).getRegex();var gt=k(Le,"gu").replace(/notPunctSpace/g,ct).replace(/punctSpace/g,ot).replace(/punct/g,Ce).getRegex();var dt=k("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_e).replace(/punctSpace/g,de).replace(/punct/g,le).getRegex();var kt=k(/\\(punct)/,"gu").replace(/punct/g,le).getRegex();var mt=k(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex();var xt=k(fe).replace("(?:-->|$)","-->").getRegex();var bt=k("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",xt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex();var te=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;var wt=k(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",te).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex();var Pe=k(/^!?\[(label)\]\[(ref)\]/).replace("label",te).replace("ref",ue).getRegex();var Ee=k(/^!?\[(ref)\](?:\[\])?/).replace("ref",ue).getRegex();var yt=k("reflink|nolink(?!\\()","g").replace("reflink",Pe).replace("nolink",Ee).getRegex();var ke={_backpedal:U,anyPunctuation:kt,autolink:mt,blockSkip:pt,br:Ae,code:it,del:U,emStrongLDelim:ht,emStrongRDelimAst:ft,emStrongRDelimUnd:dt,escape:st,link:wt,nolink:Ee,punctuation:at,reflink:Pe,reflinkSearch:yt,tag:bt,text:lt,url:U};var vt={...ke,link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",te).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",te).getRegex()};var ae={...ke,emStrongRDelimAst:gt,emStrongLDelim:ut,url:k(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};var Rt={...ae,br:k(Ae).replace("{2,}","*").getRegex(),text:k(ae.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};var J={normal:ge,gfm:nt,pedantic:rt};var F={normal:ke,gfm:ae,breaks:Rt,pedantic:vt};var St={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var we=g(p=>St[p],"getEscapeReplacement");function I(p,e){if(e){if(S.escapeTest.test(p)){return p.replace(S.escapeReplace,we)}}else{if(S.escapeTestNoEncode.test(p)){return p.replace(S.escapeReplaceNoEncode,we)}}return p}g(I,"escape2");function ye(p){try{p=encodeURI(p).replace(S.percentDecode,"%")}catch{return null}return p}g(ye,"cleanUrl");function ve(p,e){var r;const t=p.replace(S.findPipe,(i,l,c)=>{let a=false;let o=l;while(--o>=0&&c[o]==="\\")a=!a;if(a){return"|"}else{return" |"}}),n=t.split(S.splitPipe);let s=0;if(!n[0].trim()){n.shift()}if(n.length>0&&!((r=n.at(-1))==null?void 0:r.trim())){n.pop()}if(e){if(n.length>e){n.splice(e)}else{while(n.length<e)n.push("")}}for(;s<n.length;s++){n[s]=n[s].trim().replace(S.slashPipe,"|")}return n}g(ve,"splitCells");function X(p,e,t){const n=p.length;if(n===0){return""}let s=0;while(s<n){const r=p.charAt(n-s-1);if(r===e&&true){s++}else{break}}return p.slice(0,n-s)}g(X,"rtrim");function $t(p,e){if(p.indexOf(e[1])===-1){return-1}let t=0;for(let n=0;n<p.length;n++){if(p[n]==="\\"){n++}else if(p[n]===e[0]){t++}else if(p[n]===e[1]){t--;if(t<0){return n}}}if(t>0){return-2}return-1}g($t,"findClosingBracket");function Re(p,e,t,n,s){const r=e.href;const i=e.title||null;const l=p[1].replace(s.other.outputLinkReplace,"$1");n.state.inLink=true;const c={type:p[0].charAt(0)==="!"?"image":"link",raw:t,href:r,title:i,text:l,tokens:n.inlineTokens(l)};n.state.inLink=false;return c}g(Re,"outputLink");function Tt(p,e,t){const n=p.match(t.other.indentCodeCompensation);if(n===null){return e}const s=n[1];return e.split("\n").map(r=>{const i=r.match(t.other.beginningSpace);if(i===null){return r}const[l]=i;if(l.length>=s.length){return r.slice(s.length)}return r}).join("\n")}g(Tt,"indentCodeCompensation");var M;var ne=(M=class{constructor(e){x(this,"options");x(this,"rules");x(this,"lexer");this.options=e||O}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0){return{type:"space",raw:t[0]}}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:!this.options.pedantic?X(n,"\n"):n}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0];const s=Tt(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const s=X(n,"#");if(this.options.pedantic){n=s.trim()}else if(!s||this.rules.other.endingSpaceChar.test(s)){n=s.trim()}}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t){return{type:"hr",raw:X(t[0],"\n")}}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=X(t[0],"\n").split("\n");let s="";let r="";const i=[];while(n.length>0){let l=false;const c=[];let a;for(a=0;a<n.length;a++){if(this.rules.other.blockquoteStart.test(n[a])){c.push(n[a]);l=true}else if(!l){c.push(n[a])}else{break}}n=n.slice(a);const o=c.join("\n");const u=o.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${o}`:o;r=r?`${r}
${u}`:u;const h=this.lexer.state.top;this.lexer.state.top=true;this.lexer.blockTokens(u,i,true);this.lexer.state.top=h;if(n.length===0){break}const f=i.at(-1);if((f==null?void 0:f.type)==="code"){break}else if((f==null?void 0:f.type)==="blockquote"){const w=f;const m=w.raw+"\n"+n.join("\n");const $=this.blockquote(m);i[i.length-1]=$;s=s.substring(0,s.length-w.raw.length)+$.raw;r=r.substring(0,r.length-w.text.length)+$.text;break}else if((f==null?void 0:f.type)==="list"){const w=f;const m=w.raw+"\n"+n.join("\n");const $=this.list(m);i[i.length-1]=$;s=s.substring(0,s.length-f.raw.length)+$.raw;r=r.substring(0,r.length-w.raw.length)+$.raw;n=m.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:s,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const s=n.length>1;const r={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:false,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`;if(this.options.pedantic){n=s?n:"[*+-]"}const i=this.rules.other.listItemRegex(n);let l=false;while(e){let a=false;let o="";let u="";if(!(t=i.exec(e))){break}if(this.rules.block.hr.test(e)){break}o=t[0];e=e.substring(o.length);let h=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,Q=>" ".repeat(3*Q.length));let f=e.split("\n",1)[0];let w=!h.trim();let m=0;if(this.options.pedantic){m=2;u=h.trimStart()}else if(w){m=t[1].length+1}else{m=t[2].search(this.rules.other.nonSpaceChar);m=m>4?1:m;u=h.slice(m);m+=t[1].length}if(w&&this.rules.other.blankLine.test(f)){o+=f+"\n";e=e.substring(f.length+1);a=true}if(!a){const Q=this.rules.other.nextBulletRegex(m);const y=this.rules.other.hrRegex(m);const v=this.rules.other.fencesBeginRegex(m);const _=this.rules.other.headingBeginRegex(m);const A=this.rules.other.htmlBeginRegex(m);while(e){const Z=e.split("\n",1)[0];let R;f=Z;if(this.options.pedantic){f=f.replace(this.rules.other.listReplaceNesting,"  ");R=f}else{R=f.replace(this.rules.other.tabCharGlobal,"    ")}if(v.test(f)){break}if(_.test(f)){break}if(A.test(f)){break}if(Q.test(f)){break}if(y.test(f)){break}if(R.search(this.rules.other.nonSpaceChar)>=m||!f.trim()){u+="\n"+R.slice(m)}else{if(w){break}if(h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4){break}if(v.test(h)){break}if(_.test(h)){break}if(y.test(h)){break}u+="\n"+f}if(!w&&!f.trim()){w=true}o+=Z+"\n";e=e.substring(Z.length+1);h=R.slice(m)}}if(!r.loose){if(l){r.loose=true}else if(this.rules.other.doubleBlankLine.test(o)){l=true}}let $=null;let K;if(this.options.gfm){$=this.rules.other.listIsTask.exec(u);if($){K=$[0]!=="[ ] ";u=u.replace(this.rules.other.listReplaceTask,"")}}r.items.push({type:"list_item",raw:o,task:!!$,checked:K,loose:false,text:u,tokens:[]});r.raw+=o}const c=r.items.at(-1);if(c){c.raw=c.raw.trimEnd();c.text=c.text.trimEnd()}else{return}r.raw=r.raw.trimEnd();for(let a=0;a<r.items.length;a++){this.lexer.state.top=false;r.items[a].tokens=this.lexer.blockTokens(r.items[a].text,[]);if(!r.loose){const o=r.items[a].tokens.filter(h=>h.type==="space");const u=o.length>0&&o.some(h=>this.rules.other.anyLine.test(h.raw));r.loose=u}}if(r.loose){for(let a=0;a<r.items.length;a++){r.items[a].loose=true}}return r}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",block:true,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]};return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," ");const s=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"";const r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:s,title:r}}}table(e){var l;const t=this.rules.block.table.exec(e);if(!t){return}if(!this.rules.other.tableDelimiter.test(t[2])){return}const n=ve(t[1]);const s=t[2].replace(this.rules.other.tableAlignChars,"").split("|");const r=((l=t[3])==null?void 0:l.trim())?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[];const i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length!==s.length){return}for(const c of s){if(this.rules.other.tableAlignRight.test(c)){i.align.push("right")}else if(this.rules.other.tableAlignCenter.test(c)){i.align.push("center")}else if(this.rules.other.tableAlignLeft.test(c)){i.align.push("left")}else{i.align.push(null)}}for(let c=0;c<n.length;c++){i.header.push({text:n[c],tokens:this.lexer.inline(n[c]),header:true,align:i.align[c]})}for(const c of r){i.rows.push(ve(c,i.header.length).map((a,o)=>{return{text:a,tokens:this.lexer.inline(a),header:false,align:i.align[o]}}))}return i}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)==="\n"?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t){return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t){return{type:"escape",raw:t[0],text:t[1]}}}tag(e){const t=this.rules.inline.tag.exec(e);if(t){if(!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])){this.lexer.state.inLink=true}else if(this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])){this.lexer.state.inLink=false}if(!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])){this.lexer.state.inRawBlock=true}else if(this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])){this.lexer.state.inRawBlock=false}return{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:false,text:t[0]}}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n)){return}const i=X(n.slice(0,-1),"\\");if((n.length-i.length)%2===0){return}}else{const i=$t(t[2],"()");if(i===-2){return}if(i>-1){const l=t[0].indexOf("!")===0?5:4;const c=l+t[1].length+i;t[2]=t[2].substring(0,i);t[0]=t[0].substring(0,c).trim();t[3]=""}}let s=t[2];let r="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(s);if(i){s=i[1];r=i[3]}}else{r=t[3]?t[3].slice(1,-1):""}s=s.trim();if(this.rules.other.startAngleBracket.test(s)){if(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)){s=s.slice(1)}else{s=s.slice(1,-1)}}return Re(t,{href:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const s=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ");const r=t[s.toLowerCase()];if(!r){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Re(n,r,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s)return;if(s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;const r=s[1]||s[2]||"";if(!r||!n||this.rules.inline.punctuation.exec(n)){const i=[...s[0]].length-1;let l,c,a=i,o=0;const u=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;u.lastIndex=0;t=t.slice(-1*e.length+i);while((s=u.exec(t))!=null){l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6];if(!l)continue;c=[...l].length;if(s[3]||s[4]){a+=c;continue}else if(s[5]||s[6]){if(i%3&&!((i+c)%3)){o+=c;continue}}a-=c;if(a>0)continue;c=Math.min(c,c+a+o);const h=[...s[0]][0].length;const f=e.slice(0,i+s.index+h+c);if(Math.min(i,c)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const w=f.slice(2,-2);return{type:"strong",raw:f,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(n);const r=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);if(s&&r){n=n.substring(1,n.length-1)}return{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t){return{type:"br",raw:t[0]}}}del(e){const t=this.rules.inline.del.exec(e);if(t){return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,s;if(t[2]==="@"){n=t[1];s="mailto:"+n}else{n=t[1];s=n}return{type:"link",raw:t[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let s,r;if(t[2]==="@"){s=t[0];r="mailto:"+s}else{let i;do{i=t[0];t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??""}while(i!==t[0]);s=t[0];if(t[1]==="www."){r="http://"+t[0]}else{r=t[0]}}return{type:"link",raw:t[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},g(M,"_Tokenizer"),M);var N;var E=(N=class{constructor(e){x(this,"tokens");x(this,"options");x(this,"state");x(this,"tokenizer");x(this,"inlineQueue");this.tokens=[];this.tokens.links=Object.create(null);this.options=e||O;this.options.tokenizer=this.options.tokenizer||new ne;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;this.tokenizer.lexer=this;this.inlineQueue=[];this.state={inLink:false,inRawBlock:false,top:true};const t={other:S,block:J.normal,inline:F.normal};if(this.options.pedantic){t.block=J.pedantic;t.inline=F.pedantic}else if(this.options.gfm){t.block=J.gfm;if(this.options.breaks){t.inline=F.breaks}else{t.inline=F.gfm}}this.tokenizer.rules=t}static get rules(){return{block:J,inline:F}}static lex(e,t){const n=new N(t);return n.lex(e)}static lexInline(e,t){const n=new N(t);return n.inlineTokens(e)}lex(e){e=e.replace(S.carriageReturn,"\n");this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}this.inlineQueue=[];return this.tokens}blockTokens(e,t=[],n=false){var s,r,i;if(this.options.pedantic){e=e.replace(S.tabCharGlobal,"    ").replace(S.spaceLine,"")}while(e){let l;if((r=(s=this.options.extensions)==null?void 0:s.block)==null?void 0:r.some(a=>{if(l=a.call({lexer:this},e,t)){e=e.substring(l.raw.length);t.push(l);return true}return false})){continue}if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);const a=t.at(-1);if(l.raw.length===1&&a!==void 0){a.raw+="\n"}else{t.push(l)}continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);const a=t.at(-1);if((a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"){a.raw+="\n"+l.raw;a.text+="\n"+l.text;this.inlineQueue.at(-1).src=a.text}else{t.push(l)}continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);const a=t.at(-1);if((a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"){a.raw+="\n"+l.raw;a.text+="\n"+l.raw;this.inlineQueue.at(-1).src=a.text}else if(!this.tokens.links[l.tag]){this.tokens.links[l.tag]={href:l.href,title:l.title}}continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length);t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length);t.push(l);continue}let c=e;if((i=this.options.extensions)==null?void 0:i.startBlock){let a=Infinity;const o=e.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},o);if(typeof u==="number"&&u>=0){a=Math.min(a,u)}});if(a<Infinity&&a>=0){c=e.substring(0,a+1)}}if(this.state.top&&(l=this.tokenizer.paragraph(c))){const a=t.at(-1);if(n&&(a==null?void 0:a.type)==="paragraph"){a.raw+="\n"+l.raw;a.text+="\n"+l.text;this.inlineQueue.pop();this.inlineQueue.at(-1).src=a.text}else{t.push(l)}n=c.length!==e.length;e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);const a=t.at(-1);if((a==null?void 0:a.type)==="text"){a.raw+="\n"+l.raw;a.text+="\n"+l.text;this.inlineQueue.pop();this.inlineQueue.at(-1).src=a.text}else{t.push(l)}continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else{throw new Error(a)}}}this.state.top=true;return t}inline(e,t=[]){this.inlineQueue.push({src:e,tokens:t});return t}inlineTokens(e,t=[]){var l,c,a;let n=e;let s=null;if(this.tokens.links){const o=Object.keys(this.tokens.links);if(o.length>0){while((s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null){if(o.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))){n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}}}while((s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null){n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex)}while((s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null){n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex)}let r=false;let i="";while(e){if(!r){i=""}r=false;let o;if((c=(l=this.options.extensions)==null?void 0:l.inline)==null?void 0:c.some(h=>{if(o=h.call({lexer:this},e,t)){e=e.substring(o.raw.length);t.push(o);return true}return false})){continue}if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);const h=t.at(-1);if(o.type==="text"&&(h==null?void 0:h.type)==="text"){h.raw+=o.raw;h.text+=o.text}else{t.push(o)}continue}if(o=this.tokenizer.emStrong(e,n,i)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length);t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length);t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length);t.push(o);continue}let u=e;if((a=this.options.extensions)==null?void 0:a.startInline){let h=Infinity;const f=e.slice(1);let w;this.options.extensions.startInline.forEach(m=>{w=m.call({lexer:this},f);if(typeof w==="number"&&w>=0){h=Math.min(h,w)}});if(h<Infinity&&h>=0){u=e.substring(0,h+1)}}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length);if(o.raw.slice(-1)!=="_"){i=o.raw.slice(-1)}r=true;const h=t.at(-1);if((h==null?void 0:h.type)==="text"){h.raw+=o.raw;h.text+=o.text}else{t.push(o)}continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else{throw new Error(h)}}}return t}},g(N,"__Lexer"),N);var G;var re=(G=class{constructor(e){x(this,"options");x(this,"parser");this.options=e||O}space(e){return""}code({text:e,lang:t,escaped:n}){var i;const s=(i=(t||"").match(S.notSpaceStart))==null?void 0:i[0];const r=e.replace(S.endingNewline,"")+"\n";if(!s){return"<pre><code>"+(n?r:I(r,true))+"</code></pre>\n"}return'<pre><code class="language-'+I(s)+'">'+(n?r:I(r,true))+"</code></pre>\n"}blockquote({tokens:e}){const t=this.parser.parse(e);return`<blockquote>
${t}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return"<hr>\n"}list(e){const t=e.ordered;const n=e.start;let s="";for(let l=0;l<e.items.length;l++){const c=e.items[l];s+=this.listitem(c)}const r=t?"ol":"ul";const i=t&&n!==1?' start="'+n+'"':"";return"<"+r+i+">\n"+s+"</"+r+">\n"}listitem(e){var n;let t="";if(e.task){const s=this.checkbox({checked:!!e.checked});if(e.loose){if(((n=e.tokens[0])==null?void 0:n.type)==="paragraph"){e.tokens[0].text=s+" "+e.tokens[0].text;if(e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"){e.tokens[0].tokens[0].text=s+" "+I(e.tokens[0].tokens[0].text);e.tokens[0].tokens[0].escaped=true}}else{e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:true})}}else{t+=s+" "}}t+=this.parser.parse(e.tokens,!!e.loose);return`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="";let n="";for(let r=0;r<e.header.length;r++){n+=this.tablecell(e.header[r])}t+=this.tablerow({text:n});let s="";for(let r=0;r<e.rows.length;r++){const i=e.rows[r];n="";for(let l=0;l<i.length;l++){n+=this.tablecell(i[l])}s+=this.tablerow({text:n})}if(s)s=`<tbody>${s}</tbody>`;return"<table>\n<thead>\n"+t+"</thead>\n"+s+"</table>\n"}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens);const n=e.header?"th":"td";const s=e.align?`<${n} align="${e.align}">`:`<${n}>`;return s+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${I(e,true)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const s=this.parser.parseInline(n);const r=ye(e);if(r===null){return s}e=r;let i='<a href="'+e+'"';if(t){i+=' title="'+I(t)+'"'}i+=">"+s+"</a>";return i}image({href:e,title:t,text:n,tokens:s}){if(s){n=this.parser.parseInline(s,this.parser.textRenderer)}const r=ye(e);if(r===null){return I(n)}e=r;let i=`<img src="${e}" alt="${n}"`;if(t){i+=` title="${I(t)}"`}i+=">";return i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:I(e.text)}},g(G,"_Renderer"),G);var H;var me=(H=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},g(H,"_TextRenderer"),H);var q;var B=(q=class{constructor(e){x(this,"options");x(this,"renderer");x(this,"textRenderer");this.options=e||O;this.options.renderer=this.options.renderer||new re;this.renderer=this.options.renderer;this.renderer.options=this.options;this.renderer.parser=this;this.textRenderer=new me}static parse(e,t){const n=new q(t);return n.parse(e)}static parseInline(e,t){const n=new q(t);return n.parseInline(e)}parse(e,t=true){var s,r;let n="";for(let i=0;i<e.length;i++){const l=e[i];if((r=(s=this.options.extensions)==null?void 0:s.renderers)==null?void 0:r[l.type]){const a=l;const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==false||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=o||"";continue}}const c=l;switch(c.type){case"space":{n+=this.renderer.space(c);continue}case"hr":{n+=this.renderer.hr(c);continue}case"heading":{n+=this.renderer.heading(c);continue}case"code":{n+=this.renderer.code(c);continue}case"table":{n+=this.renderer.table(c);continue}case"blockquote":{n+=this.renderer.blockquote(c);continue}case"list":{n+=this.renderer.list(c);continue}case"html":{n+=this.renderer.html(c);continue}case"paragraph":{n+=this.renderer.paragraph(c);continue}case"text":{let a=c;let o=this.renderer.text(a);while(i+1<e.length&&e[i+1].type==="text"){a=e[++i];o+="\n"+this.renderer.text(a)}if(t){n+=this.renderer.paragraph({type:"paragraph",raw:o,text:o,tokens:[{type:"text",raw:o,text:o,escaped:true}]})}else{n+=o}continue}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent){console.error(a);return""}else{throw new Error(a)}}}}return n}parseInline(e,t=this.renderer){var s,r;let n="";for(let i=0;i<e.length;i++){const l=e[i];if((r=(s=this.options.extensions)==null?void 0:s.renderers)==null?void 0:r[l.type]){const a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==false||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=a||"";continue}}const c=l;switch(c.type){case"escape":{n+=t.text(c);break}case"html":{n+=t.html(c);break}case"link":{n+=t.link(c);break}case"image":{n+=t.image(c);break}case"strong":{n+=t.strong(c);break}case"em":{n+=t.em(c);break}case"codespan":{n+=t.codespan(c);break}case"br":{n+=t.br(c);break}case"del":{n+=t.del(c);break}case"text":{n+=t.text(c);break}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent){console.error(a);return""}else{throw new Error(a)}}}}return n}},g(q,"__Parser"),q);var j;var ee=(j=class{constructor(e){x(this,"options");x(this,"block");this.options=e||O}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?E.lex:E.lexInline}provideParser(){return this.block?B.parse:B.parseInline}},g(j,"_Hooks"),x(j,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),j);var V;var zt=(V=class{constructor(...e){x(this,"defaults",ce());x(this,"options",this.setOptions);x(this,"parse",this.parseMarkdown(true));x(this,"parseInline",this.parseMarkdown(false));x(this,"Parser",B);x(this,"Renderer",re);x(this,"TextRenderer",me);x(this,"Lexer",E);x(this,"Tokenizer",ne);x(this,"Hooks",ee);this.use(...e)}walkTokens(e,t){var s,r;let n=[];for(const i of e){n=n.concat(t.call(this,i));switch(i.type){case"table":{const l=i;for(const c of l.header){n=n.concat(this.walkTokens(c.tokens,t))}for(const c of l.rows){for(const a of c){n=n.concat(this.walkTokens(a.tokens,t))}}break}case"list":{const l=i;n=n.concat(this.walkTokens(l.items,t));break}default:{const l=i;if((r=(s=this.defaults.extensions)==null?void 0:s.childTokens)==null?void 0:r[l.type]){this.defaults.extensions.childTokens[l.type].forEach(c=>{const a=l[c].flat(Infinity);n=n.concat(this.walkTokens(a,t))})}else if(l.tokens){n=n.concat(this.walkTokens(l.tokens,t))}}}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const s={...n};s.async=this.defaults.async||s.async||false;if(n.extensions){n.extensions.forEach(r=>{if(!r.name){throw new Error("extension name required")}if("renderer"in r){const i=t.renderers[r.name];if(i){t.renderers[r.name]=function(...l){let c=r.renderer.apply(this,l);if(c===false){c=i.apply(this,l)}return c}}else{t.renderers[r.name]=r.renderer}}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline"){throw new Error("extension level must be 'block' or 'inline'")}const i=t[r.level];if(i){i.unshift(r.tokenizer)}else{t[r.level]=[r.tokenizer]}if(r.start){if(r.level==="block"){if(t.startBlock){t.startBlock.push(r.start)}else{t.startBlock=[r.start]}}else if(r.level==="inline"){if(t.startInline){t.startInline.push(r.start)}else{t.startInline=[r.start]}}}}if("childTokens"in r&&r.childTokens){t.childTokens[r.name]=r.childTokens}});s.extensions=t}if(n.renderer){const r=this.defaults.renderer||new re(this.defaults);for(const i in n.renderer){if(!(i in r)){throw new Error(`renderer '${i}' does not exist`)}if(["options","parser"].includes(i)){continue}const l=i;const c=n.renderer[l];const a=r[l];r[l]=(...o)=>{let u=c.apply(r,o);if(u===false){u=a.apply(r,o)}return u||""}}s.renderer=r}if(n.tokenizer){const r=this.defaults.tokenizer||new ne(this.defaults);for(const i in n.tokenizer){if(!(i in r)){throw new Error(`tokenizer '${i}' does not exist`)}if(["options","rules","lexer"].includes(i)){continue}const l=i;const c=n.tokenizer[l];const a=r[l];r[l]=(...o)=>{let u=c.apply(r,o);if(u===false){u=a.apply(r,o)}return u}}s.tokenizer=r}if(n.hooks){const r=this.defaults.hooks||new ee;for(const i in n.hooks){if(!(i in r)){throw new Error(`hook '${i}' does not exist`)}if(["options","block"].includes(i)){continue}const l=i;const c=n.hooks[l];const a=r[l];if(ee.passThroughHooks.has(i)){r[l]=o=>{if(this.defaults.async){return Promise.resolve(c.call(r,o)).then(h=>{return a.call(r,h)})}const u=c.call(r,o);return a.call(r,u)}}else{r[l]=(...o)=>{let u=c.apply(r,o);if(u===false){u=a.apply(r,o)}return u}}}s.hooks=r}if(n.walkTokens){const r=this.defaults.walkTokens;const i=n.walkTokens;s.walkTokens=function(l){let c=[];c.push(i.call(this,l));if(r){c=c.concat(r.call(this,l))}return c}}this.defaults={...this.defaults,...s}});return this}setOptions(e){this.defaults={...this.defaults,...e};return this}lexer(e,t){return E.lex(e,t??this.defaults)}parser(e,t){return B.parse(e,t??this.defaults)}parseMarkdown(e){const t=g((n,s)=>{const r={...s};const i={...this.defaults,...r};const l=this.onError(!!i.silent,!!i.async);if(this.defaults.async===true&&r.async===false){return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."))}if(typeof n==="undefined"||n===null){return l(new Error("marked(): input parameter is undefined or null"))}if(typeof n!=="string"){return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"))}if(i.hooks){i.hooks.options=i;i.hooks.block=e}const c=i.hooks?i.hooks.provideLexer():e?E.lex:E.lexInline;const a=i.hooks?i.hooks.provideParser():e?B.parse:B.parseInline;if(i.async){return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(o=>c(o,i)).then(o=>i.hooks?i.hooks.processAllTokens(o):o).then(o=>i.walkTokens?Promise.all(this.walkTokens(o,i.walkTokens)).then(()=>o):o).then(o=>a(o,i)).then(o=>i.hooks?i.hooks.postprocess(o):o).catch(l)}try{if(i.hooks){n=i.hooks.preprocess(n)}let o=c(n,i);if(i.hooks){o=i.hooks.processAllTokens(o)}if(i.walkTokens){this.walkTokens(o,i.walkTokens)}let u=a(o,i);if(i.hooks){u=i.hooks.postprocess(u)}return u}catch(o){return l(o)}},"parse2");return t}onError(e,t){return n=>{n.message+="\nPlease report this to https://github.com/markedjs/marked.";if(e){const s="<p>An error occurred:</p><pre>"+I(n.message+"",true)+"</pre>";if(t){return Promise.resolve(s)}return s}if(t){return Promise.reject(n)}throw n}}},g(V,"Marked"),V);var D=new zt;function d(p,e){return D.parse(p,e)}g(d,"marked");d.options=d.setOptions=function(p){D.setOptions(p);d.defaults=D.defaults;Se(d.defaults);return d};d.getDefaults=ce;d.defaults=O;d.use=function(...p){D.use(...p);d.defaults=D.defaults;Se(d.defaults);return d};d.walkTokens=function(p,e){return D.walkTokens(p,e)};d.parseInline=D.parseInline;d.Parser=B;d.parser=B.parse;d.Renderer=re;d.TextRenderer=me;d.Lexer=E;d.lexer=E.lex;d.Tokenizer=ne;d.Hooks=ee;d.parse=d;d.options;d.setOptions;d.use;d.walkTokens;d.parseInline;B.parse;E.lex;const C=Me(De,"RichText");const Y=g(p=>L.Children.toArray(p),"normalize");const At=g((p,e)=>L.isValidElement(p)?p.key==null?{...p,key:e}:p:p,"withKey");function se({children:p,animated:e,animationProps:t={},variant:n="primary",schema:s={},itemProp:r,linkComponent:i,className:l,overrideParagraph:c,...a}){const o={animated:e,className:l??void 0,...s};const u={animationProps:t};const h=g(y=>{if(!Boolean(e))return y;return typeof y==="string"?T.jsx(Ve,{...t,children:y}):y},"renderAnimation");const f=L.useMemo(()=>{d.setOptions({gfm:true,breaks:true});return je.filterXSS(d.parse(p??""))},[p]);const w=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function m(y,v="r"){if(y.nodeType===Node.TEXT_NODE){return y.textContent}if(y.nodeType!==Node.ELEMENT_NODE){return null}const _=y;const A=_.tagName.toLowerCase();const Z=Array.from(_.childNodes).map((b,z)=>m(b,`${v}.${z}`));const R=Y(Z.map((b,z)=>L.isValidElement(b)?At(b,`${v}.c${z}`):b));switch(A){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":{const b=parseInt(A.charAt(1),10);let z;let P;switch(b){case 1:z="xxl";P="h1";break;case 2:z="xl";P="h2";break;case 3:z="lg";P="h3";break;case 4:z="md";P="h4";break;case 5:z="sm";P="h5";break;default:z="xs";P="h6"}return T.jsx(Oe,{...o,...u,size:z,type:P,children:R})}case"p":{const b=C("p");return T.jsx("p",{className:b,itemProp:r,children:Y(R.map(h))})}case"a":{const b=C("a");const z=_.getAttribute("href")??"#";const P=_.getAttribute("title")??void 0;const Be=Y(R.map(h));return T.jsx(He,{...o,"aria-label":Z.map(oe).join(""),className:b,href:z,linkComponent:i,title:P,variant:"primary",children:Be})}case"pre":{const b=C("pre");return T.jsx("pre",{className:b,children:R})}case"ul":{const b=C("ul");return T.jsx("ul",{className:b,children:R})}case"ol":{const b=C("ol");return T.jsx("ol",{className:b,children:R})}case"li":{const b=C("li");return T.jsxs("li",{className:b,children:[T.jsx(Ge,{className:C("li__icon"),color:n,name:"ArrowRight01Icon",size:18},`${v}.icon`),T.jsx("span",{className:C("li__content"),children:Y(R.map(h))})]})}default:{const b={className:C(A)};if(A==="img"){b.src=_.getAttribute("src")??"";b.alt=_.getAttribute("alt")??"";b.loading="lazy"}if(w.has(A)){return L.createElement(A,{...b,key:v})}return R.length?L.createElement(A,{...b,key:v},R):L.createElement(A,{...b,key:v})}}}g(m,"domNodeToReact");if(c){const y=f.split(/<\/?p>/g).filter(v=>v.trim().length>0);return T.jsx("div",{className:C(void 0,void 0,l),...s,...a,children:y.map((v,_)=>{const A=v.replace(/<[^>]+>/g,"");return T.jsx(L.Fragment,{children:c(A)},_)})})}const $=new DOMParser;const K=$.parseFromString(f,"text/html");const Q=Array.from(K.body.childNodes);return T.jsx("div",{className:C(void 0,void 0,l),...s,...a,children:Q.map((y,v)=>T.jsx(L.Fragment,{children:m(y)},`top-level-${v}`))})}g(se,"RichTextClient");se.displayName="RichTextClient";function oe(p){if(typeof p==="string"||typeof p==="number"){return String(p)}if(Array.isArray(p)){return p.map(oe).join("")}if(L.isValidElement(p)){return oe(p.props.children)}return""}g(oe,"extractText");try{se.displayName="RichTextClient";se.__docgenInfo={"description":"","displayName":"RichTextClient","props":{"children":{"defaultValue":null,"description":"Raw Markdown source","name":"children","required":false,"type":{"name":"ReactNode"}},"animated":{"defaultValue":null,"description":"If true, wrap text in <AnimatedText>; otherwise render directly","name":"animated","required":false,"type":{"name":"boolean"}},"animationProps":{"defaultValue":{value:"{}"},"description":"Props forwarded to AnimatedText","name":"animationProps","required":false,"type":{"name":'Omit<AnimatedTextProps, "children">'}},"variant":{"defaultValue":{value:"primary"},"description":"BEM-variant for coloring (e.g. primary, secondary, etc.)","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"inherit"'},{"value":'"primary"'},{"value":'"secondary"'},{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"white"'}]}},"schema":{"defaultValue":{value:"{}"},"description":"Microdata attributes to spread on wrapper <div>","name":"schema","required":false,"type":{"name":"Schema"}},"itemProp":{"defaultValue":null,"description":'If provided, each <p> will include itemprop="..."',"name":"itemProp","required":false,"type":{"name":"string"}},"linkComponent":{"defaultValue":null,"description":"Custom Link component (e.g. NextLink) to use instead of default <a>","name":"linkComponent","required":false,"type":{"name":"ComponentType<any>"}},"className":{"defaultValue":null,"description":"Optional CSS class on wrapper","name":"className","required":false,"type":{"name":"string"}},"overrideParagraph":{"defaultValue":null,"description":"Callback used by RichText when it encounters a <p>…</p>.\nShould return a React element—here, a heading tag of the right level.","name":"overrideParagraph","required":false,"type":{"name":"((textContent: string) => ReactNode)"}}}}}catch(p){}const Vt=qe({name:"RichText",Client:se,Server:Ze,hydrateOnVisible:true,ioOptions:{threshold:.1},isInteractive:g(()=>true,"isInteractive")});export{Vt as default};
