var h=Object.defineProperty;var u=(t,r)=>h(t,"name",{value:r,configurable:true});import{j as g}from"./jsx-runtime-CGXnEs--.js";import{r as l}from"./index-Dko9tpwX.js";function I(t={}){const{enabled:r=true,ioOptions:c={threshold:.1}}=t;const i=l.useRef(null);const[s,d]=l.useState(()=>{var e;if(!r||typeof window==="undefined")return!r;const n=(e=i.current)==null?void 0:e.getBoundingClientRect();return!!n&&n.top<window.innerHeight});l.useLayoutEffect(()=>{if(!r||s)return;const n=new IntersectionObserver(([e])=>{if((e==null?void 0:e.isIntersecting)===true){d(true);n.disconnect()}},{...c});if(i.current)n.observe(i.current);return()=>n.disconnect()},[r,s,c]);return[s,i]}u(I,"useHydrationReady");function _({name:t,Client:r,Server:c,hydrateOnVisible:i=false,ioOptions:s,isInteractive:d}){const n=u(({priority:e=false,...E})=>{var v,b;const a={...E,...t==="Image"&&e?{priority:e}:{}};const f=Object.entries(a).some(([o,O])=>o.startsWith("on")&&typeof O==="function")||a.redirect!==void 0;const y=d?d(a)||f:f;const[p,L]=I({enabled:y&&i&&!e,...s});const m=t.toLowerCase();if(y&&(e||p)){const o=g.jsx(r,{...a});if(typeof process!=="undefined"&&typeof((v=process==null?void 0:process.env)==null?void 0:v.PK_ENABLE_DEBUG_LOGS)==="string"){console.debug(`[hydrate] createLazyWrapper “${t}” rendering client (priority=${Boolean(e)}, visible=${p})`)}return l.cloneElement(o,{"data-island":m})}else{const o=g.jsx(c,{...a});if(typeof process!=="undefined"&&typeof((b=process==null?void 0:process.env)==null?void 0:b.PK_ENABLE_DEBUG_LOGS)==="string"){console.debug(`[hydrate] createLazyWrapper “${t}” rendering server (visible=${p})`)}return l.cloneElement(o,{"data-island":m,ref:L})}},"LazyWrapper");n.displayName=`${t}Lazy`;return n}u(_,"createLazyWrapper");try{_.displayName="createLazyWrapper";_.__docgenInfo={"description":"","displayName":"createLazyWrapper","props":{"name":{"defaultValue":null,"description":"","name":"name","required":true,"type":{"name":"string"}},"Client":{"defaultValue":null,"description":"","name":"Client","required":true,"type":{"name":"ComponentType<P>"}},"Server":{"defaultValue":null,"description":"","name":"Server","required":true,"type":{"name":"ComponentType<P>"}},"hydrateOnVisible":{"defaultValue":{value:"false"},"description":"","name":"hydrateOnVisible","required":false,"type":{"name":"boolean"}},"ioOptions":{"defaultValue":null,"description":"","name":"ioOptions","required":false,"type":{"name":"IntersectionObserverInit"}},"isInteractive":{"defaultValue":null,"description":"","name":"isInteractive","required":false,"type":{"name":"((props: Readonly<P>) => boolean)"}}}}}catch(t){}export{_ as c};
