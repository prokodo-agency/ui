var E=Object.defineProperty;var a=(l,t)=>E(l,"name",{value:t,configurable:true});import{c as B}from"./createLazyWrapper-AC75M60Y.js";import{j as N}from"./jsx-runtime-CGXnEs--.js";import{r as n}from"./index-DGnhqvo7.js";import{a as x,b as L}from"./Select-B5kJH9fO.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-DURURz1S.js";import"../sb-preview/runtime.js";import"./createIsland-fzL0F2Ul.js";import"./Label-BmAeSxLe.js";import"./bem-DSWMYwqE.js";function w(l){return Array.isArray(l)}a(w,"isMulti");const O=a(l=>l.replace(/-([a-z])/g,(t,i)=>i.toUpperCase()),"toDatasetKey");function R(l,t,i=false){return i?(()=>{const s=new Set(w(l)?l:[]);s.has(t)?s.delete(t):s.add(t);return[...s]})():t}a(R,"mergeValue");function y({id:l,multiple:t,disabled:i,required:s,value:f,items:S,onChange:p,...V}){const o=n.useRef(null);const q=n.useRef(null);const[c,m]=n.useState(false);const[b,g]=n.useState(f??(Boolean(t)?[]:""));n.useEffect(()=>{g(f??(Boolean(t)?[]:""))},[f,t]);const d=n.useCallback(()=>{var e;m(false);(e=o==null?void 0:o.current)==null?void 0:e.focus()},[]);const h=n.useCallback(()=>m(e=>!e),[]);n.useEffect(()=>{if(!c)return;const e=a(r=>{var u,v;if(!Boolean((u=q.current)==null?void 0:u.contains(r.target))&&!Boolean((v=o.current)==null?void 0:v.contains(r.target))){d()}},"handleOutside");window.addEventListener("click",e);return()=>window.removeEventListener("click",e)},[c,d]);const C=a(e=>{if(Boolean(i))return;if(e.key==="Escape"){e.preventDefault();d()}if(e.key==="ArrowDown"&&!c){e.preventDefault();m(true)}},"handleKey");const _=(()=>{const e={};for(const[r,u]of Object.entries(V)){if(r.startsWith("data-"))e[O(r.slice(5))]=u}return e})();const k=a(e=>{const r=e===null?Boolean(t)?[]:"":R(b,e,t);const u={target:{dataset:_}};g(r);p==null?void 0:p(u,r);if(!Boolean(t))d()},"clickOption");return N.jsx(x,{...V,disabled:i,id:l,items:S,multiple:t,required:s,value:b,_clientState:{open:c,buttonRef:o,listRef:q,onButtonClick:h,onButtonKey:C,onOptionClick:k}})}a(y,"SelectClient");const T=n.memo(y);try{y.displayName="SelectClient";y.__docgenInfo={"description":"","displayName":"SelectClient","props":{"id":{"defaultValue":null,"description":"","name":"id","required":true,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"","name":"name","required":false,"type":{"name":"string"}},"items":{"defaultValue":null,"description":"","name":"items","required":true,"type":{"name":"SelectItem<Value>[]"}},"fullWidth":{"defaultValue":null,"description":"","name":"fullWidth","required":false,"type":{"name":"boolean"}},"multiple":{"defaultValue":null,"description":"","name":"multiple","required":false,"type":{"name":"boolean"}},"disabled":{"defaultValue":null,"description":"","name":"disabled","required":false,"type":{"name":"boolean"}},"required":{"defaultValue":null,"description":"","name":"required","required":false,"type":{"name":"boolean"}},"value":{"defaultValue":null,"description":"","name":"value","required":false,"type":{"name":"string | Value[] | null"}},"placeholder":{"defaultValue":null,"description":"","name":"placeholder","required":false,"type":{"name":"string"}},"onChange":{"defaultValue":null,"description":"","name":"onChange","required":false,"type":{"name":"((e: SelectEvent, v: SelectValue<string>) => void)"}},"label":{"defaultValue":null,"description":"","name":"label","required":true,"type":{"name":"string"}},"hideLabel":{"defaultValue":null,"description":"","name":"hideLabel","required":false,"type":{"name":"boolean"}},"iconVisible":{"defaultValue":null,"description":"","name":"iconVisible","required":false,"type":{"name":"boolean"}},"helperText":{"defaultValue":null,"description":"","name":"helperText","required":false,"type":{"name":"string"}},"errorText":{"defaultValue":null,"description":"","name":"errorText","required":false,"type":{"name":"string"}},"className":{"defaultValue":null,"description":"","name":"className","required":false,"type":{"name":"string"}},"fieldClassName":{"defaultValue":null,"description":"","name":"fieldClassName","required":false,"type":{"name":"string"}},"selectClassName":{"defaultValue":null,"description":"","name":"selectClassName","required":false,"type":{"name":"string"}},"labelProps":{"defaultValue":null,"description":"","name":"labelProps","required":false,"type":{"name":"LabelProps"}},"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<HTMLSelectElement>"}}}}}catch(l){}const $=B({name:"Select",Client:T,Server:L,isInteractive:a(()=>true,"isInteractive")});export{$ as default};
