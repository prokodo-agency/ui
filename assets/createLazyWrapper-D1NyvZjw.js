var x=Object.defineProperty;var p=(t,r)=>x(t,"name",{value:r,configurable:true});import{j as b}from"./jsx-runtime-CGXnEs--.js";import{r as l}from"./index-DGnhqvo7.js";function I(t={}){const{enabled:r=true,ioOptions:c={threshold:.1}}=t;const a=l.useRef(null);const[i,u]=l.useState(()=>{var e;if(!r||typeof window==="undefined")return!r;const n=(e=a.current)==null?void 0:e.getBoundingClientRect();return!!n&&n.top<window.innerHeight});l.useLayoutEffect(()=>{if(!r||i)return;const n=new IntersectionObserver(([e])=>{if((e==null?void 0:e.isIntersecting)===true){u(true);n.disconnect()}},{...c});if(a.current)n.observe(a.current);return()=>n.disconnect()},[r,i,c]);return[i,a]}p(I,"useHydrationReady");function g({name:t,Client:r,Server:c,hydrateOnVisible:a=false,ioOptions:i,isInteractive:u}){const n=p(({priority:e=false,...h})=>{const o=h;const y=Object.entries(o).some(([s,d])=>s.startsWith("on")&&typeof d==="function")||o.redirect!==void 0;const m=u?u(o)||y:y;const[f,L]=I({enabled:m&&a&&!e,...i});const v=t.toLowerCase();if(m&&(e||f)){const s=b.jsx(r,{...o});console.log(`[hydrate] createLazyWrapper “${t}” rendering client (priority=${Boolean(e)}, visible=${f})`);const d={"data-island":v};if(e){d.priority=e}return l.cloneElement(s,d)}else{const s=b.jsx(c,{...o});console.log(`[hydrate] createLazyWrapper “${t}” rendering server (visible=${f})`);return l.cloneElement(s,{"data-island":v,ref:L})}},"LazyWrapper");n.displayName=`${t}Lazy`;return n}p(g,"createLazyWrapper");try{g.displayName="createLazyWrapper";g.__docgenInfo={"description":"","displayName":"createLazyWrapper","props":{"name":{"defaultValue":null,"description":"","name":"name","required":true,"type":{"name":"string"}},"Client":{"defaultValue":null,"description":"","name":"Client","required":true,"type":{"name":"ComponentType<P>"}},"Server":{"defaultValue":null,"description":"","name":"Server","required":true,"type":{"name":"ComponentType<P>"}},"hydrateOnVisible":{"defaultValue":{value:"false"},"description":"","name":"hydrateOnVisible","required":false,"type":{"name":"boolean"}},"ioOptions":{"defaultValue":null,"description":"","name":"ioOptions","required":false,"type":{"name":"IntersectionObserverInit"}},"isInteractive":{"defaultValue":null,"description":"","name":"isInteractive","required":false,"type":{"name":"((props: Readonly<P>) => boolean)"}}}}}catch(t){}export{g as c};
