const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Snackbar.lazy-pshtL_hE.js","./createLazyWrapper-CcCD0Sct.js","./jsx-runtime-CGXnEs--.js","./index-Dko9tpwX.js","./_commonjsHelpers-DRKe4gOT.js","./iframe-ueE3a6Tk.js","./createIsland-D0Kq_01P.js","./bem-DSWMYwqE.js","./Icon-Cf0MfIiF.js","./validations-hwxYw-LN.js","./Icon-DwwgUk_2.css","./SnackbarProvider.lazy-CS6f7Pug.js"])))=>i.map(i=>d[i]);
var ee=Object.defineProperty;var a=(e,u)=>ee(e,"name",{value:u,configurable:true});import{j as r}from"./jsx-runtime-CGXnEs--.js";import{_ as Q}from"./iframe-ueE3a6Tk.js";import{c as G}from"./createIsland-D0Kq_01P.js";import{c as K}from"./bem-DSWMYwqE.js";import{I as ae}from"./Icon-Cf0MfIiF.js";import{r as l}from"./index-Dko9tpwX.js";const Y={"prokodo-Snackbar":"prokodo-Snackbar","prokodo-Snackbar--success":"prokodo-Snackbar--success","prokodo-Snackbar--error":"prokodo-Snackbar--error","prokodo-Snackbar--warning":"prokodo-Snackbar--warning","prokodo-Snackbar--info":"prokodo-Snackbar--info","prokodo-Snackbar__message":"prokodo-Snackbar__message","prokodo-Snackbar__action":"prokodo-Snackbar__action","prokodo-Snackbar__close":"prokodo-Snackbar__close","prokodo-Snackbar--readonly":"prokodo-Snackbar--readonly","prokodo-SnackbarProvider":"prokodo-SnackbarProvider","prokodo-SnackbarProvider--is-top":"prokodo-SnackbarProvider--is-top","prokodo-SnackbarProvider--is-bottom":"prokodo-SnackbarProvider--is-bottom","prokodo-SnackbarProvider--is-center":"prokodo-SnackbarProvider--is-center","prokodo-SnackbarProvider--is-left":"prokodo-SnackbarProvider--is-left","prokodo-SnackbarProvider--is-right":"prokodo-SnackbarProvider--is-right","prokodo-SnackbarProvider__snackbar":"prokodo-SnackbarProvider__snackbar","prokodo-SnackbarProvider__snackbar--is-top":"prokodo-SnackbarProvider__snackbar--is-top","prokodo-SnackbarProvider__snackbar--is-bottom":"prokodo-SnackbarProvider__snackbar--is-bottom"};const O=K(Y,"Snackbar");function V({message:e,variant:u="default",anchorOrigin:S={vertical:"bottom",horizontal:"center"},action:g,closeable:h=true,elevation:y=10,className:_,onClose:c,readOnly:q,closeButtonProps:t,closeIconProps:o}){const n=S;return r.jsxs("div",{"aria-live":"polite",role:"status",style:{zIndex:y},className:O(void 0,{[u]:true,readonly:Boolean(q),[n.vertical]:true,[n.horizontal]:true},_),children:[r.jsx("span",{className:O("message"),children:e}),g!==void 0&&r.jsx("span",{className:O("action"),children:g}),h&&r.jsx("button",{"aria-label":"Close",type:"button",...t,className:O("close",void 0,t==null?void 0:t.className),onClick:a(s=>{var i;c==null?void 0:c("closeIcon");(i=t==null?void 0:t.onClick)==null?void 0:i.call(t,s)},"onClick"),children:r.jsx(ae,{"aria-hidden":"true",name:"Cancel01Icon",size:"md",...o})})]})}a(V,"SnackbarView");try{V.displayName="SnackbarView";V.__docgenInfo={"description":"","displayName":"SnackbarView","props":{"onClose":{"defaultValue":null,"description":"Hydration wrapper passes this when toast still interactive","name":"onClose","required":false,"type":{"name":"SnackbarCloseHandler"}},"readOnly":{"defaultValue":null,"description":"When server‑rendered we add readOnly","name":"readOnly","required":false,"type":{"name":"boolean"}},"className":{"defaultValue":null,"description":"Extra className on the root element.","name":"className","required":false,"type":{"name":"string"}},"variant":{"defaultValue":{value:"default"},"description":"Visual style variant.","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"default"'}]}},"action":{"defaultValue":null,"description":"Optional custom action (e.g., “UNDO” button).","name":"action","required":false,"type":{"name":"ReactNode"}},"anchorOrigin":{"defaultValue":{value:'{ vertical: "bottom", horizontal: "center" }'},"description":'Screen position. Default: { vertical: "bottom", horizontal: "center" }.',"name":"anchorOrigin","required":false,"type":{"name":"SnackbarAnchorOrigin"}},"closeButtonProps":{"defaultValue":null,"description":"Override props of close button.","name":"closeButtonProps","required":false,"type":{"name":"HTMLAttributes<HTMLButtonElement>"}},"message":{"defaultValue":null,"description":"Text or JSX to display.","name":"message","required":true,"type":{"name":"ReactNode"}},"autoHideDuration":{"defaultValue":null,"description":"Auto‑dismiss timeout in ms (0 = never). Default: 6000.","name":"autoHideDuration","required":false,"type":{"name":"number"}},"closeable":{"defaultValue":{value:"true"},"description":"Show close icon.","name":"closeable","required":false,"type":{"name":"boolean"}},"elevation":{"defaultValue":{value:"10"},"description":"z-index (useful with modals).","name":"elevation","required":false,"type":{"name":"number"}},"closeIconProps":{"defaultValue":null,"description":"Override props of close icon.","name":"closeIconProps","required":false,"type":{"name":"IconProps"}}}}}catch(e){}function re(e){if(!Boolean(e.open))return null;return r.jsx(V,{...e,readOnly:true})}a(re,"SnackbarServer");try{Snackbar.displayName="Snackbar";Snackbar.__docgenInfo={"description":"Server‑render *only* if `open` is true so first paint shows the toast.","displayName":"Snackbar","props":{"message":{"defaultValue":null,"description":"Text or JSX to display.","name":"message","required":true,"type":{"name":"ReactNode"}},"open":{"defaultValue":null,"description":"Whether the snackbar is open (controlled).","name":"open","required":false,"type":{"name":"boolean"}},"autoHideDuration":{"defaultValue":null,"description":"Auto‑dismiss timeout in ms (0 = never). Default: 6000.","name":"autoHideDuration","required":false,"type":{"name":"number"}},"variant":{"defaultValue":null,"description":"Visual style variant.","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"default"'}]}},"anchorOrigin":{"defaultValue":null,"description":'Screen position. Default: { vertical: "bottom", horizontal: "center" }.',"name":"anchorOrigin","required":false,"type":{"name":"SnackbarAnchorOrigin"}},"action":{"defaultValue":null,"description":"Optional custom action (e.g., “UNDO” button).","name":"action","required":false,"type":{"name":"ReactNode"}},"closeable":{"defaultValue":null,"description":"Show close icon.","name":"closeable","required":false,"type":{"name":"boolean"}},"elevation":{"defaultValue":null,"description":"z-index (useful with modals).","name":"elevation","required":false,"type":{"name":"number"}},"onClose":{"defaultValue":null,"description":"Callback fired on close.","name":"onClose","required":false,"type":{"name":"SnackbarCloseHandler"}},"className":{"defaultValue":null,"description":"Extra className on the root element.","name":"className","required":false,"type":{"name":"string"}},"closeButtonProps":{"defaultValue":null,"description":"Override props of close button.","name":"closeButtonProps","required":false,"type":{"name":"HTMLAttributes<HTMLButtonElement>"}},"closeIconProps":{"defaultValue":null,"description":"Override props of close icon.","name":"closeIconProps","required":false,"type":{"name":"IconProps"}}}}}catch(e){}const Z=G({name:"Snackbar",Server:re,loadLazy:a(()=>Q(()=>import("./Snackbar.lazy-pshtL_hE.js"),true?__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]):void 0,import.meta.url),"loadLazy")});const oe=G({name:"SnackbarProvider",Server:a(({children:e})=>r.jsx(r.Fragment,{children:e}),"Server"),loadLazy:a(()=>Q(()=>import("./SnackbarProvider.lazy-CS6f7Pug.js"),true?__vite__mapDeps([11,2,1,3,4,5,6,7,8,9,10]):void 0,import.meta.url),"loadLazy"),isInteractive:a(()=>true,"isInteractive")});const B=l.createContext({enqueue:a(()=>"","enqueue"),close:a(()=>{},"close")});const N=K(Y,"SnackbarProvider");function ne(){return l.useContext(B)}a(ne,"useSnackbar");function P({className:e,maxSnack:u=3,anchorOrigin:S={vertical:"bottom",horizontal:"center"},children:g}){const[h,y]=l.useState([]);const _=l.useCallback(o=>{const n=o.id??`snk_${crypto.randomUUID()}`;y(s=>{const i=[...s,{...o,id:n,anchorOrigin:o.anchorOrigin??S}];return i.length>u?i.slice(1):i});return n},[u,S]);const c=l.useCallback(o=>{y(n=>n.filter(s=>s.id!==o))},[]);const q=l.useMemo(()=>({enqueue:_,close:c}),[_,c]);const t=l.useMemo(()=>h.reduce((o,n)=>{var i,d;const s=`${(i=n.anchorOrigin)==null?void 0:i.vertical}-${(d=n.anchorOrigin)==null?void 0:d.horizontal}`;(o[s]??(o[s]=[])).push(n);return o},{}),[h]);return r.jsxs(B.Provider,{value:q,children:[g,Object.entries(t).map(([o,n])=>{var D;const{vertical:s,horizontal:i}=(D=n[0])==null?void 0:D.anchorOrigin;const d={[`is-${s}`]:true,[`is-${i}`]:true};return r.jsx("div",{className:N(void 0,d,e),children:n.map(x=>r.jsx(Z,{...x,open:true,className:N("snackbar",d,x.className),onClose:a(()=>c(x.id),"onClose")},x.id))},o)})]})}a(P,"SnackbarProvider");try{P.displayName="SnackbarProvider";P.__docgenInfo={"description":"","displayName":"SnackbarProvider","props":{"className":{"defaultValue":null,"description":"Optional class name for the provider wrapper.","name":"className","required":false,"type":{"name":"string"}},"maxSnack":{"defaultValue":{value:"3"},"description":"Max snackbars shown at once (oldest auto-closed).","name":"maxSnack","required":false,"type":{"name":"number"}},"anchorOrigin":{"defaultValue":{value:'{ vertical: "bottom", horizontal: "center" }'},"description":"Default anchor for every snackbar (overridable per payload).","name":"anchorOrigin","required":false,"type":{"name":"SnackbarAnchorOrigin"}},"children":{"defaultValue":null,"description":"Child components that can use useSnackbar hook.","name":"children","required":true,"type":{"name":"ReactNode"}}}}}catch(e){}const te={title:"prokodo/feedback/Snackbar",component:Z,parameters:{layout:"centered",docs:{description:{component:"Transient feedback toast. Wrapped in a **`SnackbarProvider`** so each story can also enqueue multiple messages."}}},tags:["autodocs"],decorators:[e=>r.jsx(oe,{maxSnack:4,children:r.jsx(e,{})})],argTypes:{message:{control:"text"},open:{control:"boolean"},autoHideDuration:{control:{type:"number",min:0,step:500}},variant:{control:"select",options:["default","success","error","warning","info"]},anchorOrigin:{table:{disable:true}},action:{table:{disable:true}},closeable:{control:"boolean"},elevation:{control:{type:"number",min:1,step:1}},className:{table:{disable:true}},onClose:{action:"closed",table:{disable:true}}}};const p={args:{open:true,message:"Saved successfully"}};const m={args:{open:true,message:"Changes applied",variant:"success",autoHideDuration:3e3}};const b={args:{open:true,message:"Something went wrong",variant:"error",closeable:true}};const k={args:{open:true,message:"Item deleted",variant:"info",action:r.jsx("button",{onClick:a(()=>alert("Undo!"),"onClick"),children:"UNDO"}),closeable:true}};const f={args:{open:true,message:"I appear top-left",anchorOrigin:{vertical:"top",horizontal:"left"}}};function se(){const{enqueue:e}=ne();return r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[r.jsx("button",{onClick:a(()=>e({message:"Default message",variant:"default"}),"onClick"),children:"Show default"}),r.jsx("button",{onClick:a(()=>e({message:"Success!",variant:"success",autoHideDuration:2500}),"onClick"),children:"Enqueue success"}),r.jsx("button",{onClick:a(()=>e({message:"Oops, an error occurred",variant:"error",closeable:true}),"onClick"),children:"Enqueue error (closeable)"})]})}a(se,"ProviderDemoComponent");const v={args:{open:false,message:""},render:a(()=>r.jsx(se,{}),"render"),parameters:{docs:{description:{story:"Demonstrates the `SnackbarProvider` queue: click the buttons to stack up to four snackbars."}}}};var C,I,j;p.parameters={...p.parameters,docs:{...(C=p.parameters)==null?void 0:C.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Saved successfully"\n  }\n}',...(j=(I=p.parameters)==null?void 0:I.docs)==null?void 0:j.source}}};var w,z,E;m.parameters={...m.parameters,docs:{...(w=m.parameters)==null?void 0:w.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Changes applied",\n    variant: "success",\n    autoHideDuration: 3000\n  }\n}',...(E=(z=m.parameters)==null?void 0:z.docs)==null?void 0:E.source}}};var H,T,A;b.parameters={...b.parameters,docs:{...(H=b.parameters)==null?void 0:H.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Something went wrong",\n    variant: "error",\n    closeable: true\n  }\n}',...(A=(T=b.parameters)==null?void 0:T.docs)==null?void 0:A.source}}};var L,M,R;k.parameters={...k.parameters,docs:{...(L=k.parameters)==null?void 0:L.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Item deleted",\n    variant: "info",\n    action: <button onClick={() => alert("Undo!")}>UNDO</button>,\n    closeable: true\n  }\n}',...(R=(M=k.parameters)==null?void 0:M.docs)==null?void 0:R.source}}};var U,$,W;f.parameters={...f.parameters,docs:{...(U=f.parameters)==null?void 0:U.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "I appear top-left",\n    anchorOrigin: {\n      vertical: "top",\n      horizontal: "left"\n    }\n  }\n}',...(W=($=f.parameters)==null?void 0:$.docs)==null?void 0:W.source}}};var J,X,F;v.parameters={...v.parameters,docs:{...(J=v.parameters)==null?void 0:J.docs,source:{originalSource:'{\n  args: {\n    open: false,\n    // not rendered\n    message: "" // not rendered\n  },\n  render: () => <ProviderDemoComponent />,\n  parameters: {\n    docs: {\n      description: {\n        story: "Demonstrates the `SnackbarProvider` queue: click the buttons to stack up to four snackbars."\n      }\n    }\n  }\n}',...(F=(X=v.parameters)==null?void 0:X.docs)==null?void 0:F.source}}};const ie=["Default","Success","ErrorWithCloseIcon","WithAction","TopLeft","ProviderDemo"];const ke=Object.freeze(Object.defineProperty({__proto__:null,Default:p,ErrorWithCloseIcon:b,ProviderDemo:v,Success:m,TopLeft:f,WithAction:k,__namedExportsOrder:ie,default:te},Symbol.toStringTag,{value:"Module"}));export{P as S,V as a,re as b,ke as c};
