const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Snackbar.lazy-CmY4b62L.js","./createLazyWrapper-CIVnaDo8.js","./jsx-runtime-CGXnEs--.js","./index-CBfA15Kp.js","./_commonjsHelpers-DRKe4gOT.js","./iframe-CjNzo2VI.js","./createIsland-Brc__KHp.js","./bem-DSWMYwqE.js","./SnackbarProvider.lazy-DVxgcZuQ.js"])))=>i.map(i=>d[i]);
var ee=Object.defineProperty;var a=(e,l)=>ee(e,"name",{value:l,configurable:true});import{j as r}from"./jsx-runtime-CGXnEs--.js";import{_ as F}from"./iframe-CjNzo2VI.js";import{c as Q}from"./createIsland-Brc__KHp.js";import{c as G}from"./bem-DSWMYwqE.js";import{r as c}from"./index-CBfA15Kp.js";const K={"prokodo-Snackbar":"prokodo-Snackbar","prokodo-Snackbar--success":"prokodo-Snackbar--success","prokodo-Snackbar--error":"prokodo-Snackbar--error","prokodo-Snackbar--warning":"prokodo-Snackbar--warning","prokodo-Snackbar--info":"prokodo-Snackbar--info","prokodo-Snackbar__message":"prokodo-Snackbar__message","prokodo-Snackbar__action":"prokodo-Snackbar__action","prokodo-Snackbar__close":"prokodo-Snackbar__close","prokodo-Snackbar--readonly":"prokodo-Snackbar--readonly","prokodo-SnackbarProvider":"prokodo-SnackbarProvider","prokodo-SnackbarProvider--is-top":"prokodo-SnackbarProvider--is-top","prokodo-SnackbarProvider--is-bottom":"prokodo-SnackbarProvider--is-bottom","prokodo-SnackbarProvider--is-left":"prokodo-SnackbarProvider--is-left","prokodo-SnackbarProvider--is-right":"prokodo-SnackbarProvider--is-right","prokodo-SnackbarProvider__snackbar":"prokodo-SnackbarProvider__snackbar","prokodo-SnackbarProvider__snackbar--is-top":"prokodo-SnackbarProvider__snackbar--is-top","prokodo-SnackbarProvider__snackbar--is-bottom":"prokodo-SnackbarProvider__snackbar--is-bottom","prokodo-SnackbarProvider__snackbar--is-left":"prokodo-SnackbarProvider__snackbar--is-left","prokodo-SnackbarProvider__snackbar--is-right":"prokodo-SnackbarProvider__snackbar--is-right"};const P=G(K,"Snackbar");function q({message:e,variant:l="default",anchorOrigin:v={vertical:"bottom",horizontal:"center"},action:S,closeable:g=true,elevation:h=10,className:_,onClose:i,readOnly:D}){const y=v;return r.jsxs("div",{"aria-live":"polite",role:"status",style:{zIndex:h},className:P(void 0,{[l]:true,readonly:Boolean(D),[y.vertical]:true,[y.horizontal]:true},_),children:[r.jsx("span",{className:P("message"),children:e}),S!==void 0&&r.jsx("span",{className:P("action"),children:S}),g&&r.jsx("button",{"aria-label":"Close",className:P("close"),type:"button",onClick:a(()=>i==null?void 0:i("closeIcon"),"onClick"),children:r.jsx("span",{"aria-hidden":"true",children:"×"})})]})}a(q,"SnackbarView");try{q.displayName="SnackbarView";q.__docgenInfo={"description":"","displayName":"SnackbarView","props":{"onClose":{"defaultValue":null,"description":"Hydration wrapper passes this when toast still interactive","name":"onClose","required":false,"type":{"name":"SnackbarCloseHandler"}},"readOnly":{"defaultValue":null,"description":"When server‑rendered we add readOnly","name":"readOnly","required":false,"type":{"name":"boolean"}},"className":{"defaultValue":null,"description":"Extra className on the root element","name":"className","required":false,"type":{"name":"string"}},"variant":{"defaultValue":{value:"default"},"description":"Visual style","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"default"'}]}},"action":{"defaultValue":null,"description":"Optional custom action (e.g. “UNDO” button)","name":"action","required":false,"type":{"name":"ReactNode"}},"anchorOrigin":{"defaultValue":{value:'{ vertical: "bottom", horizontal: "center" }'},"description":'Screen position. Default **{ vertical: "bottom", horizontal: "center" }**',"name":"anchorOrigin","required":false,"type":{"name":"SnackbarAnchorOrigin"}},"message":{"defaultValue":null,"description":"Text or JSX to display","name":"message","required":true,"type":{"name":"ReactNode"}},"autoHideDuration":{"defaultValue":null,"description":"Auto‑dismiss time‑out in **ms** (0 = never). Default **6000ms**","name":"autoHideDuration","required":false,"type":{"name":"number"}},"closeable":{"defaultValue":{value:"true"},"description":"Show × close icon","name":"closeable","required":false,"type":{"name":"boolean"}},"elevation":{"defaultValue":{value:"10"},"description":"z‑index (if you have modals etc.)","name":"elevation","required":false,"type":{"name":"number"}}}}}catch(e){}function ae(e){if(!Boolean(e.open))return null;return r.jsx(q,{...e,readOnly:true})}a(ae,"SnackbarServer");try{Snackbar.displayName="Snackbar";Snackbar.__docgenInfo={"description":"Server‑render *only* if `open` is true so first paint shows the toast.","displayName":"Snackbar","props":{"message":{"defaultValue":null,"description":"Text or JSX to display","name":"message","required":true,"type":{"name":"ReactNode"}},"open":{"defaultValue":null,"description":"Whether the snackbar is open – *controlled* prop.","name":"open","required":false,"type":{"name":"boolean"}},"autoHideDuration":{"defaultValue":null,"description":"Auto‑dismiss time‑out in **ms** (0 = never). Default **6000ms**","name":"autoHideDuration","required":false,"type":{"name":"number"}},"variant":{"defaultValue":null,"description":"Visual style","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"default"'}]}},"anchorOrigin":{"defaultValue":null,"description":'Screen position. Default **{ vertical: "bottom", horizontal: "center" }**',"name":"anchorOrigin","required":false,"type":{"name":"SnackbarAnchorOrigin"}},"action":{"defaultValue":null,"description":"Optional custom action (e.g. “UNDO” button)","name":"action","required":false,"type":{"name":"ReactNode"}},"closeable":{"defaultValue":null,"description":"Show × close icon","name":"closeable","required":false,"type":{"name":"boolean"}},"elevation":{"defaultValue":null,"description":"z‑index (if you have modals etc.)","name":"elevation","required":false,"type":{"name":"number"}},"onClose":{"defaultValue":null,"description":"Callback fired on close","name":"onClose","required":false,"type":{"name":"SnackbarCloseHandler"}},"className":{"defaultValue":null,"description":"Extra className on the root element","name":"className","required":false,"type":{"name":"string"}}}}}catch(e){}const Y=Q({name:"Snackbar",Server:ae,loadLazy:a(()=>F(()=>import("./Snackbar.lazy-CmY4b62L.js"),true?__vite__mapDeps([0,1,2,3,4,5,6,7]):void 0,import.meta.url),"loadLazy")});const re=Q({name:"SnackbarProvider",Server:a(({children:e})=>r.jsx(r.Fragment,{children:e}),"Server"),loadLazy:a(()=>F(()=>import("./SnackbarProvider.lazy-DVxgcZuQ.js"),true?__vite__mapDeps([8,2,1,3,4,5,6,7]):void 0,import.meta.url),"loadLazy"),isInteractive:a(()=>true,"isInteractive")});const Z=c.createContext({enqueue:a(()=>"","enqueue"),close:a(()=>{},"close")});const N=G(K,"SnackbarProvider");function oe(){return c.useContext(Z)}a(oe,"useSnackbar");function V({className:e,maxSnack:l=3,anchorOrigin:v={vertical:"bottom",horizontal:"center"},children:S}){const[g,h]=c.useState([]);const _=c.useCallback(o=>{const n=o.id??`snk_${crypto.randomUUID()}`;h(t=>{const s=[...t,{...o,id:n,anchorOrigin:o.anchorOrigin??v}];return s.length>l?s.slice(1):s});return n},[l,v]);const i=c.useCallback(o=>{h(n=>n.filter(t=>t.id!==o))},[]);const D=c.useMemo(()=>({enqueue:_,close:i}),[_,i]);const y=c.useMemo(()=>g.reduce((o,n)=>{var s,u;const t=`${(s=n.anchorOrigin)==null?void 0:s.vertical}-${(u=n.anchorOrigin)==null?void 0:u.horizontal}`;(o[t]??(o[t]=[])).push(n);return o},{}),[g]);return r.jsxs(Z.Provider,{value:D,children:[S,Object.entries(y).map(([o,n])=>{var O;const{vertical:t,horizontal:s}=(O=n[0])==null?void 0:O.anchorOrigin;const u={[`is-${t}`]:true,[`is-${s}`]:true};return r.jsx("div",{className:N(void 0,u,e),children:n.map(x=>r.jsx(Y,{...x,open:true,className:N("snackbar",u,x.className),onClose:a(()=>i(x.id),"onClose")},x.id))},o)})]})}a(V,"SnackbarProvider");try{V.displayName="SnackbarProvider";V.__docgenInfo={"description":"","displayName":"SnackbarProvider","props":{"className":{"defaultValue":null,"description":"","name":"className","required":false,"type":{"name":"string"}},"maxSnack":{"defaultValue":{value:"3"},"description":"Max snackbars shown at once (oldest auto-closed).","name":"maxSnack","required":false,"type":{"name":"number"}},"anchorOrigin":{"defaultValue":{value:'{ vertical: "bottom", horizontal: "center" }'},"description":"Default anchor for every snackbar (overridable per payload).","name":"anchorOrigin","required":false,"type":{"name":'{ vertical: "top" | "bottom"; horizontal: "center" | "left" | "right"; }'}}}}}catch(e){}const ne={title:"prokodo/feedback/Snackbar",component:Y,parameters:{layout:"centered",docs:{description:{component:"Transient feedback toast. Wrapped in a **`SnackbarProvider`** so each story can also enqueue multiple messages."}}},tags:["autodocs"],decorators:[e=>r.jsx(re,{maxSnack:4,children:r.jsx(e,{})})],argTypes:{message:{control:"text"},open:{control:"boolean"},autoHideDuration:{control:{type:"number",min:0,step:500}},variant:{control:"select",options:["default","success","error","warning","info"]},anchorOrigin:{table:{disable:true}},action:{table:{disable:true}},closeable:{control:"boolean"},elevation:{control:{type:"number",min:1,step:1}},className:{table:{disable:true}},onClose:{action:"closed",table:{disable:true}}}};const d={args:{open:true,message:"Saved successfully"}};const p={args:{open:true,message:"Changes applied",variant:"success",autoHideDuration:3e3}};const m={args:{open:true,message:"Something went wrong",variant:"error",closeable:true}};const b={args:{open:true,message:"Item deleted",variant:"info",action:r.jsx("button",{onClick:a(()=>alert("Undo!"),"onClick"),children:"UNDO"}),closeable:true}};const k={args:{open:true,message:"I appear top-left",anchorOrigin:{vertical:"top",horizontal:"left"}}};function te(){const{enqueue:e}=oe();return r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[r.jsx("button",{onClick:a(()=>e({message:"Default message",variant:"default"}),"onClick"),children:"Show default"}),r.jsx("button",{onClick:a(()=>e({message:"Success!",variant:"success",autoHideDuration:2500}),"onClick"),children:"Enqueue success"}),r.jsx("button",{onClick:a(()=>e({message:"Oops, an error occurred",variant:"error",closeable:true}),"onClick"),children:"Enqueue error (closeable)"})]})}a(te,"ProviderDemoComponent");const f={args:{open:false,message:""},render:a(()=>r.jsx(te,{}),"render"),parameters:{docs:{description:{story:"Demonstrates the `SnackbarProvider` queue: click the buttons to stack up to four snackbars."}}}};var C,j,w;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Saved successfully"\n  }\n}',...(w=(j=d.parameters)==null?void 0:j.docs)==null?void 0:w.source}}};var z,I,E;p.parameters={...p.parameters,docs:{...(z=p.parameters)==null?void 0:z.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Changes applied",\n    variant: "success",\n    autoHideDuration: 3000\n  }\n}',...(E=(I=p.parameters)==null?void 0:I.docs)==null?void 0:E.source}}};var H,T,A;m.parameters={...m.parameters,docs:{...(H=m.parameters)==null?void 0:H.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Something went wrong",\n    variant: "error",\n    closeable: true\n  }\n}',...(A=(T=m.parameters)==null?void 0:T.docs)==null?void 0:A.source}}};var U,$,R;b.parameters={...b.parameters,docs:{...(U=b.parameters)==null?void 0:U.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "Item deleted",\n    variant: "info",\n    action: <button onClick={() => alert("Undo!")}>UNDO</button>,\n    closeable: true\n  }\n}',...(R=($=b.parameters)==null?void 0:$.docs)==null?void 0:R.source}}};var W,L,M;k.parameters={...k.parameters,docs:{...(W=k.parameters)==null?void 0:W.docs,source:{originalSource:'{\n  args: {\n    open: true,\n    message: "I appear top-left",\n    anchorOrigin: {\n      vertical: "top",\n      horizontal: "left"\n    }\n  }\n}',...(M=(L=k.parameters)==null?void 0:L.docs)==null?void 0:M.source}}};var B,J,X;f.parameters={...f.parameters,docs:{...(B=f.parameters)==null?void 0:B.docs,source:{originalSource:'{\n  args: {\n    open: false,\n    // not rendered\n    message: "" // not rendered\n  },\n  render: () => <ProviderDemoComponent />,\n  parameters: {\n    docs: {\n      description: {\n        story: "Demonstrates the `SnackbarProvider` queue: click the buttons to stack up to four snackbars."\n      }\n    }\n  }\n}',...(X=(J=f.parameters)==null?void 0:J.docs)==null?void 0:X.source}}};const se=["Default","Success","ErrorWithCloseIcon","WithAction","TopLeft","ProviderDemo"];const me=Object.freeze(Object.defineProperty({__proto__:null,Default:d,ErrorWithCloseIcon:m,ProviderDemo:f,Success:p,TopLeft:k,WithAction:b,__namedExportsOrder:se,default:ne},Symbol.toStringTag,{value:"Module"}));export{V as S,q as a,ae as b,me as c};
