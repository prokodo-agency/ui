var ie=Object.defineProperty;var s=(e,r)=>ie(e,"name",{value:r,configurable:true});import{c as le}from"./createLazyWrapper-AC75M60Y.js";import{j as d}from"./jsx-runtime-CGXnEs--.js";import{r as a}from"./index-DGnhqvo7.js";import{c as ue}from"./bem-DSWMYwqE.js";import{b as ce}from"./validations-DJC0TP_C.js";import{s as me,a as fe}from"./Carousel-C8S199O-.js";import{B as J}from"./Button-DWTD_PtI.js";import{S as de}from"./Skeleton-DbV2ZLyJ.js";import{L as pe}from"./Lottie-xgo76JGV.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-BTrXp-vY.js";import"../sb-preview/runtime.js";import"./createIsland-fzL0F2Ul.js";import"./Link.server-BZ5NjJWg.js";import"./BaseLink.server-BRG_yKpR.js";import"./Icon-C9pyV2HS.js";function U(e,r){var m;if("addEventListener"in e){e.addEventListener("change",r);return()=>e.removeEventListener("change",r)}const n=e;(m=n.addListener)==null?void 0:m.call(n,r);return()=>{var C;return(C=n.removeListener)==null?void 0:C.call(n,r)}}s(U,"addMQChangeListener");function ye(e){const{fallback:r}=e;const[n,m]=a.useState(r);const C=a.useRef(null);const[S,L]=a.useState(0);a.useEffect(()=>{const k=Array.isArray(e.containerRules)&&e.containerRules.length>0;if(!k)return;const g=C.current;if(!g||typeof ResizeObserver==="undefined")return;const o=new ResizeObserver(B=>{var f,b;const y=((b=(f=B[0])==null?void 0:f.contentRect)==null?void 0:b.width)??0;L(y)});o.observe(g);return()=>o.disconnect()},[e.containerRules]);const q=a.useMemo(()=>JSON.stringify(e.valuesByQueries??[]),[e.valuesByQueries]);const A=a.useMemo(()=>JSON.stringify(e.valuesByBreakpoint??{}),[e.valuesByBreakpoint]);const P=a.useMemo(()=>JSON.stringify(e.breakpoints??{}),[e.breakpoints]);const D=a.useMemo(()=>JSON.stringify(e.containerRules??[]),[e.containerRules]);a.useEffect(()=>{if(typeof window==="undefined"||!("matchMedia"in window))return;const k=[];const g=e.valuesByQueries??[];const o=g.map(([i])=>window.matchMedia(i));o.forEach(i=>k.push(U(i,w)));const B=["xl","lg","md","sm","xs"];const y=e.breakpoints;const f=e.valuesByBreakpoint;const b=[];if(y&&f){for(const i of B){if(i in f&&y[i]!=null){const R=window.matchMedia(`(min-width:${y[i]}px)`);b.push({key:i,mql:R});k.push(U(R,w))}}}function w(){var R;const i=e.containerRules??[];if(i.length){const u=i.find(p=>{const V=p.min==null||S>=p.min;const M=p.max==null||S<p.max;return V&&M});if(u){m(u.value);return}}for(let u=0;u<g.length;u++){const p=o[u];if(p!=null&&p.matches===true){const V=(R=g[u])==null?void 0:R[1];m(V);return}}if(y&&f){for(const{key:u,mql:p}of b){if(p.matches&&u in f){m(f[u]);return}}}m(r)}s(w,"compute");w();return()=>k.forEach(i=>i())},[e.breakpoints,e.containerRules,e.valuesByBreakpoint,e.valuesByQueries,r,S,q,A,P,D]);return a.useMemo(()=>({value:n,ref:C}),[n])}s(ye,"useResponsiveValue");const I="NEXT";const F="PREV";const he=s((e,r)=>{var n;r.current=((n=e.targetTouches[0])==null?void 0:n.clientX)??0},"handleTouchStart");const ve=s((e,r)=>{var n;r.current=((n=e.targetTouches[0])==null?void 0:n.clientX)??0},"handleTouchMove");const Ne=s((e,r,n)=>{if(e.current-r.current>50){n("NEXT")}if(e.current-r.current<-50){n("PREV")}},"handleTouchEnd");const be=s((e,r)=>{r.current=e.clientX},"handleMouseDown");const Re=s((e,r,n,m)=>{n.current=e.clientX;if(r.current-n.current>50){m("NEXT")}if(r.current-n.current<-50){m("PREV")}},"handleMouseUp");const N=ue(me,"Carousel");function Ce(e){const{ref:r,autoplay:n,enableControl:m,itemsToShow:C=1,className:S,classNameControls:L,classNameButtons:q,classNameWrapper:A,classNameItem:P,classNameDots:D,classNameDot:k,classNameDotActive:g,responsive:o,onKeyDown:B,onMouseEnter:y,onMouseLeave:f,onTouchEnd:b,onTouchMove:w,onTouchStart:i,onMouseDown:R,onMouseUp:u,children:p,...V}=e;const M=a.useRef(null);const{value:G,ref:Y}=ye({fallback:(o==null?void 0:o.fallback)??C,breakpoints:o==null?void 0:o.breakpoints,valuesByBreakpoint:o==null?void 0:o.valuesByBreakpoint,valuesByQueries:o==null?void 0:o.valuesByQueries,containerRules:o==null?void 0:o.containerRules});const c=o?G:C;const Z=s(t=>{M.current=t;Y.current=t},"setHostRef");const X=a.useRef(0);const O=a.useRef(0);const Q=a.useRef(0);const ee=a.useRef(0);const[te,ne]=a.useState(true);const[E,x]=a.useState(c);const[T,j]=a.useState(false);const[$,z]=a.useState(Boolean(n));const[se,W]=a.useState(false);const _=a.Children.toArray(p);const h=_.length;const ae=[..._.slice(-c),..._,..._.slice(0,c)];a.useEffect(()=>{const t=setTimeout(()=>ne(false),1500);return()=>clearTimeout(t)},[]);const v=a.useCallback(t=>{if(T)return;j(true);const l=t===I?E+1:E-1;x(l);setTimeout(()=>{if(l>=h+c)x(c);else if(l<c)x(h);j(false)},300)},[E,h,c,T]);const K=a.useCallback(t=>{if(T)return;j(true);const l=t+c;x(l);setTimeout(()=>{if(l>=h+c)x(l-h);else if(l<c)x(h+l);j(false)},300)},[c,h,T]);a.useEffect(()=>{if(!ce(n)||n<=0)return;if(!$)return;const t=setInterval(()=>v(I),n);return()=>clearInterval(t)},[n,$,v]);a.useImperativeHandle(r,()=>({slidePrev:s(()=>v(F),"slidePrev"),slideNext:s(()=>v(I),"slideNext"),carouselContainer:M.current}));const re=s(()=>{const t=-E*(100/c);return`translateX(${t}%)`},"getTransformValue");if(h===0)return d.jsx(de,{height:"200px",variant:"rectangular",width:"100%"});return d.jsxs("div",{...V,ref:Z,role:"button",tabIndex:0,className:N(void 0,{"is-active":se},S),onKeyDown:s(t=>{B==null?void 0:B(t);switch(t.key){case"ArrowLeft":v("PREV");break;case"ArrowRight":v("NEXT");break}},"onKeyDown"),onMouseDown:s(t=>{R==null?void 0:R(t);be(t,Q);W(true)},"onMouseDown"),onMouseEnter:s(t=>{y==null?void 0:y(t);z(false)},"onMouseEnter"),onMouseLeave:s(t=>{f==null?void 0:f(t);z(true)},"onMouseLeave"),onMouseUp:s(t=>{u==null?void 0:u(t);Re(t,Q,ee,v);W(false)},"onMouseUp"),onTouchEnd:s(t=>{b==null?void 0:b(t);Ne(X,O,v)},"onTouchEnd"),onTouchMove:s(t=>{w==null?void 0:w(t);ve(t,O)},"onTouchMove"),onTouchStart:s(t=>{i==null?void 0:i(t);he(t,X)},"onTouchStart"),children:[d.jsx("div",{className:N("wrapper",void 0,A),style:{transform:re(),transition:T?"transform 0.3s ease-in-out":"none"},children:ae.map((t,l)=>d.jsx("div",{className:N("item",void 0,P),style:{width:`${100/c}%`},children:t},`cl-${l}`))}),d.jsx("div",{className:N("mobile__tutorial",{"is-hidden":!te}),children:d.jsx("div",{className:N("mobile__tutorial__animation"),children:d.jsx(pe,{animation:"https://lottie.host/7da0edc5-d79e-497c-bcce-ab9dd8e9458d/lahjQ7ICxg.lottie"})})}),d.jsxs("footer",{className:N("controls",void 0,L),children:[Boolean(m)&&d.jsx(J,{"aria-label":"previous",className:N("button",void 0,q),iconProps:{name:"ArrowLeft01Icon",size:"md",color:"white"},variant:"outlined",onClick:s(()=>v(F),"onClick")}),d.jsx("span",{className:N("dots",void 0,D),children:_.map((t,l)=>{const H=l===(E-c+h)%h;return d.jsx("button",{className:N("dots__dot",{"is-active":H},`${k} ${H?g??"":""}`),onClick:s(()=>K(l),"onClick"),onKeyDown:s(oe=>oe.key==="Enter"&&K(l),"onKeyDown")},`dot-${l}`)})}),Boolean(m)&&d.jsx(J,{"aria-label":"next",className:N("button",void 0,q),iconProps:{name:"ArrowRight01Icon",size:"md",color:"white"},variant:"outlined",onClick:s(()=>v(I),"onClick")})]})]})}s(Ce,"CarouselClient");try{Carouselclient.displayName="Carouselclient";Carouselclient.__docgenInfo={"description":"","displayName":"Carouselclient","props":{"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<CarouselRef>"}},"autoplay":{"defaultValue":null,"description":"","name":"autoplay","required":false,"type":{"name":"number"}},"enableControl":{"defaultValue":null,"description":"","name":"enableControl","required":false,"type":{"name":"boolean"}},"translateX":{"defaultValue":null,"description":"","name":"translateX","required":false,"type":{"name":"string"}},"itemStyle":{"defaultValue":null,"description":"","name":"itemStyle","required":false,"type":{"name":"CSSProperties"}},"itemsToShow":{"defaultValue":null,"description":"","name":"itemsToShow","required":false,"type":{"name":"number"}},"classNameControls":{"defaultValue":null,"description":"","name":"classNameControls","required":false,"type":{"name":"string"}},"classNameButtons":{"defaultValue":null,"description":"","name":"classNameButtons","required":false,"type":{"name":"string"}},"classNameWrapper":{"defaultValue":null,"description":"","name":"classNameWrapper","required":false,"type":{"name":"string"}},"classNameItem":{"defaultValue":null,"description":"","name":"classNameItem","required":false,"type":{"name":"string"}},"classNameDots":{"defaultValue":null,"description":"","name":"classNameDots","required":false,"type":{"name":"string"}},"classNameDot":{"defaultValue":null,"description":"","name":"classNameDot","required":false,"type":{"name":"string"}},"classNameDotActive":{"defaultValue":null,"description":"","name":"classNameDotActive","required":false,"type":{"name":"string"}},"responsive":{"defaultValue":null,"description":"","name":"responsive","required":false,"type":{"name":"CarouselResponsiveConfig"}}}}}catch(e){}const De=le({name:"Carousel",Client:Ce,Server:fe,hydrateOnVisible:false,isInteractive:s(()=>true,"isInteractive")});export{De as default};
