var We=Object.defineProperty;var Xe=(Vt,Kt,be)=>Kt in Vt?We(Vt,Kt,{enumerable:true,configurable:true,writable:true,value:be}):Vt[Kt]=be;var a=(Vt,Kt)=>We(Vt,"name",{value:Kt,configurable:true});var bt=(Vt,Kt,be)=>Xe(Vt,typeof Kt!=="symbol"?Kt+"":Kt,be);import{c as Ve,g as Qe}from"./_commonjsHelpers-DRKe4gOT.js";function Je(Vt,Kt){for(var be=0;be<Kt.length;be++){const Ne=Kt[be];if(typeof Ne!=="string"&&!Array.isArray(Ne)){for(const Ot in Ne){if(Ot!=="default"&&!(Ot in Vt)){const Be=Object.getOwnPropertyDescriptor(Ne,Ot);if(Be){Object.defineProperty(Vt,Ot,Be.get?Be:{enumerable:true,get:a(()=>Ne[Ot],"get")})}}}}}return Object.freeze(Object.defineProperty(Vt,Symbol.toStringTag,{value:"Module"}))}a(Je,"_mergeNamespaces");var Pe={exports:{}};/*! For license information please see quill.js.LICENSE.txt */Pe.exports;var Ze;function Ye(){if(Ze)return Pe.exports;Ze=1;(function(Vt,Kt){!function(be,Ne){Vt.exports=Ne()}(self,function(){return function(){var be={9698:function(J,_,n){n.d(_,{Ay:a(function(){return w},"Ay"),Ji:a(function(){return q},"Ji"),mG:a(function(){return f},"mG"),zo:a(function(){return m},"zo")});var c=n(6003),v=n(5232),S=n.n(v),y=n(3036),R=n(4850),p=n(5508);const B=class B extends c.BlockBlot{constructor(){super(...arguments);bt(this,"cache",{})}delta(){return null==this.cache.delta&&(this.cache.delta=f(this)),this.cache.delta}deleteAt(C,$){super.deleteAt(C,$),this.cache={}}formatAt(C,$,Z,st){$<=0||(this.scroll.query(Z,c.Scope.BLOCK)?C+$===this.length()&&this.format(Z,st):super.formatAt(C,Math.min($,this.length()-C-1),Z,st),this.cache={})}insertAt(C,$,Z){if(null!=Z)return super.insertAt(C,$,Z),void(this.cache={});if(0===$.length)return;const st=$.split("\n"),A=st.shift();A.length>0&&(C<this.length()-1||null==this.children.tail?super.insertAt(Math.min(C,this.length()-1),A):this.children.tail.insertAt(this.children.tail.length(),A),this.cache={});let O=this;st.reduce((z,M)=>(O=O.split(z,true),O.insertAt(0,M),M.length),C+A.length)}insertBefore(C,$){const{head:Z}=this.children;super.insertBefore(C,$),Z instanceof y.A&&Z.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(C,$){super.moveChildren(C,$),this.cache={}}optimize(C){super.optimize(C),this.cache={}}path(C){return super.path(C,true)}removeChild(C){super.removeChild(C),this.cache={}}split(C){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if($&&(0===C||C>=this.length()-1)){const st=this.clone();return 0===C?(this.parent.insertBefore(st,this),this):(this.parent.insertBefore(st,this.next),st)}const Z=super.split(C,$);return this.cache={},Z}};a(B,"c");let w=B;w.blotName="block",w.tagName="P",w.defaultChild=y.A,w.allowedChildren=[y.A,R.A,c.EmbedBlot,p.A];const g=class g extends c.EmbedBlot{attach(){super.attach(),this.attributes=new c.AttributorStore(this.domNode)}delta(){return new(S())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(j,C){const $=this.scroll.query(j,c.Scope.BLOCK_ATTRIBUTE);null!=$&&this.attributes.attribute($,C)}formatAt(j,C,$,Z){this.format($,Z)}insertAt(j,C,$){if(null!=$)return void super.insertAt(j,C,$);const Z=C.split("\n"),st=Z.pop(),A=Z.map(z=>{const M=this.scroll.create(w.blotName);return M.insertAt(0,z),M}),O=this.split(j);A.forEach(z=>{this.parent.insertBefore(z,O)}),st&&this.parent.insertBefore(this.scroll.create("text",st),O)}};a(g,"u");let m=g;function f(L){let j=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return L.descendants(c.LeafBlot).reduce((C,$)=>0===$.length()?C:C.insert($.value(),q($,{},j)),new(S())).insert("\n",q(L))}a(f,"h");function q(L){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==L?j:("formats"in L&&"function"==typeof L.formats&&(j={...j,...L.formats()},C&&delete j["code-token"]),null==L.parent||"scroll"===L.parent.statics.blotName||L.parent.statics.scope!==L.statics.scope?j:q(L.parent,j,C))}a(q,"d");m.scope=c.Scope.BLOCK_BLOT},3036:function(J,_,n){var c=n(6003);const S=class S extends c.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}};a(S,"i");let v=S;v.blotName="break",v.tagName="BR",_.A=v},580:function(J,_,n){var c=n(6003);const S=class S extends c.ContainerBlot{};a(S,"i");let v=S;_.A=v},4541:function(J,_,n){var c=n(6003),v=n(5508);const y=class y extends c.EmbedBlot{static value(){}constructor(p,w,m){super(p,w),this.selection=m,this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(p,w){if(0!==this.savedLength)return void super.format(p,w);let m=this,f=0;for(;null!=m&&m.statics.scope!==c.Scope.BLOCK_BLOT;)f+=m.offset(m.parent),m=m.parent;null!=m&&(this.savedLength=y.CONTENTS.length,m.optimize(),m.formatAt(f,y.CONTENTS.length,p,w),this.savedLength=0)}index(p,w){return p===this.textNode?0:super.index(p,w)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const p=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const w=this.prev instanceof v.A?this.prev:null,m=w?w.length():0,f=this.next instanceof v.A?this.next:null,q=f?f.text:"",{textNode:B}=this,g=B.data.split(y.CONTENTS).join("");let L;if(B.data=y.CONTENTS,w)L=w,(g||f)&&(w.insertAt(w.length(),g+q),f&&f.remove());else if(f)L=f,f.insertAt(0,g);else{const j=document.createTextNode(g);L=this.scroll.create(j),this.parent.insertBefore(L,this)}if(this.remove(),p){const j=a((Z,st)=>w&&Z===w.domNode?st:Z===B?m+st-1:f&&Z===f.domNode?m+g.length+st:null,"i"),C=j(p.start.node,p.start.offset),$=j(p.end.node,p.end.offset);if(null!==C&&null!==$)return{startNode:L.domNode,startOffset:C,endNode:L.domNode,endOffset:$}}return null}update(p,w){if(p.some(m=>"characterData"===m.type&&m.target===this.textNode)){const m=this.restore();m&&(w.range=m)}}optimize(p){super.optimize(p);let{parent:w}=this;for(;w;){if("A"===w.domNode.tagName){this.savedLength=y.CONTENTS.length,w.isolate(this.offset(w),this.length()).unwrap(),this.savedLength=0;break}w=w.parent}}value(){return""}};a(y,"s");bt(y,"blotName","cursor");bt(y,"className","ql-cursor");bt(y,"tagName","span");bt(y,"CONTENTS","\uFEFF");let S=y;_.A=S},746:function(J,_,n){var c=n(6003),v=n(5508);const S="\uFEFF";const R=class R extends c.EmbedBlot{constructor(w,m){super(w,m),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(f=>{this.contentNode.appendChild(f)}),this.leftGuard=document.createTextNode(S),this.rightGuard=document.createTextNode(S),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(w,m){return w===this.leftGuard?0:w===this.rightGuard?1:super.index(w,m)}restore(w){let m,f=null;const q=w.data.split(S).join("");if(w===this.leftGuard)if(this.prev instanceof v.A){const B=this.prev.length();this.prev.insertAt(B,q),f={startNode:this.prev.domNode,startOffset:B+q.length}}else m=document.createTextNode(q),this.parent.insertBefore(this.scroll.create(m),this),f={startNode:m,startOffset:q.length};else w===this.rightGuard&&(this.next instanceof v.A?(this.next.insertAt(0,q),f={startNode:this.next.domNode,startOffset:q.length}):(m=document.createTextNode(q),this.parent.insertBefore(this.scroll.create(m),this.next),f={startNode:m,startOffset:q.length}));return w.data=S,f}update(w,m){w.forEach(f=>{if("characterData"===f.type&&(f.target===this.leftGuard||f.target===this.rightGuard)){const q=this.restore(f.target);q&&(m.range=q)}})}};a(R,"o");let y=R;_.A=y},4850:function(J,_,n){var c=n(6003),v=n(3036),S=n(5508);const R=class R extends c.InlineBlot{static compare(w,m){const f=R.order.indexOf(w),q=R.order.indexOf(m);return f>=0||q>=0?f-q:w===m?0:w<m?-1:1}formatAt(w,m,f,q){if(R.compare(this.statics.blotName,f)<0&&this.scroll.query(f,c.Scope.BLOT)){const B=this.isolate(w,m);q&&B.wrap(f,q)}else super.formatAt(w,m,f,q)}optimize(w){if(super.optimize(w),this.parent instanceof R&&R.compare(this.statics.blotName,this.parent.statics.blotName)>0){const m=this.parent.isolate(this.offset(),this.length());this.moveChildren(m),m.wrap(this)}}};a(R,"o");bt(R,"allowedChildren",[R,v.A,c.EmbedBlot,S.A]);bt(R,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let y=R;_.A=y},5508:function(J,_,n){n.d(_,{A:a(function(){return v},"A"),X:a(function(){return y},"X")});var c=n(6003);const R=class R extends c.TextBlot{};a(R,"i");let v=R;const S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function y(p){return p.replace(/[&<>"']/g,w=>S[w])}a(y,"o")},3729:function(J,_,n){n.d(_,{default:a(function(){return at},"default")});var c=n(6142),v=n(9698),S=n(3036),y=n(580),R=n(4541),p=n(746),w=n(4850),m=n(6003),f=n(5232),q=n.n(f),B=n(5374);function g(U){return U instanceof v.Ay||U instanceof v.zo}a(g,"p");function L(U){return"function"==typeof U.updateContent}a(L,"g");const nt=class nt extends m.ScrollBlot{constructor(x,b,E){let{emitter:k}=E;super(x,b),this.emitter=k,this.batch=false,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",h=>this.handleDragStart(h))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const x=this.batch;this.batch=false,this.update(x)}emitMount(x){this.emitter.emit(B.A.events.SCROLL_BLOT_MOUNT,x)}emitUnmount(x){this.emitter.emit(B.A.events.SCROLL_BLOT_UNMOUNT,x)}emitEmbedUpdate(x,b){this.emitter.emit(B.A.events.SCROLL_EMBED_UPDATE,x,b)}deleteAt(x,b){const[E,k]=this.line(x),[h]=this.line(x+b);if(super.deleteAt(x,b),null!=h&&E!==h&&k>0){if(E instanceof v.zo||h instanceof v.zo)return void this.optimize();const r=h.children.head instanceof S.A?null:h.children.head;E.moveChildren(h,r),E.remove()}this.optimize()}enable(){let x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",x?"true":"false")}formatAt(x,b,E,k){super.formatAt(x,b,E,k),this.optimize()}insertAt(x,b,E){if(x>=this.length())if(null==E||null==this.scroll.query(b,m.Scope.BLOCK)){const k=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(k),null==E&&b.endsWith("\n")?k.insertAt(0,b.slice(0,-1),E):k.insertAt(0,b,E)}else{const k=this.scroll.create(b,E);this.appendChild(k)}else super.insertAt(x,b,E);this.optimize()}insertBefore(x,b){if(x.statics.scope===m.Scope.INLINE_BLOT){const E=this.scroll.create(this.statics.defaultChild.blotName);E.appendChild(x),super.insertBefore(E,b)}else super.insertBefore(x,b)}insertContents(x,b){const E=this.deltaToRenderBlocks(b.concat(new(q())().insert("\n"))),k=E.pop();if(null==k)return;this.batchStart();const h=E.shift();if(h){const u="block"===h.type&&(0===h.delta.length()||!this.descendant(v.zo,x)[0]&&x<this.length()),N="block"===h.type?h.delta:new(q())().insert({[h.key]:h.value});C(this,x,N);const t="block"===h.type?1:0,e=x+N.length()+t;u&&this.insertAt(e-1,"\n");const i=(0,v.Ji)(this.line(x)[0]),T=f.AttributeMap.diff(i,h.attributes)||{};Object.keys(T).forEach(D=>{this.formatAt(e-1,1,D,T[D])}),x=e}let[r,s]=this.children.find(x);E.length&&(r&&(r=r.split(s),s=0),E.forEach(u=>{if("block"===u.type)C(this.createBlock(u.attributes,r||void 0),0,u.delta);else{const N=this.create(u.key,u.value);this.insertBefore(N,r||void 0),Object.keys(u.attributes).forEach(t=>{N.format(t,u.attributes[t])})}})),"block"===k.type&&k.delta.length()&&C(this,r?r.offset(r.scroll)+s:this.length(),k.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(x){const b=this.path(x).pop();if(!b)return[null,-1];const[E,k]=b;return E instanceof m.LeafBlot?[E,k]:[null,-1]}line(x){return x===this.length()?this.line(x-1):this.descendant(g,x)}lines(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;const E=a((k,h,r)=>{let s=[],u=r;return k.children.forEachAt(h,r,(N,t,e)=>{g(N)?s.push(N):N instanceof m.ContainerBlot&&(s=s.concat(E(N,t,u))),u-=e}),s},"n");return E(this,x,b)}optimize(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(x,b),x.length>0&&this.emitter.emit(B.A.events.SCROLL_OPTIMIZE,x,b))}path(x){return super.path(x).slice(1)}remove(){}update(x){if(this.batch)return void(Array.isArray(x)&&(this.batch=this.batch.concat(x)));let b=B.A.sources.USER;"string"==typeof x&&(b=x),Array.isArray(x)||(x=this.observer.takeRecords()),(x=x.filter(E=>{let{target:k}=E;const h=this.find(k,true);return h&&!L(h)})).length>0&&this.emitter.emit(B.A.events.SCROLL_BEFORE_UPDATE,b,x),super.update(x.concat([])),x.length>0&&this.emitter.emit(B.A.events.SCROLL_UPDATE,b,x)}updateEmbedAt(x,b,E){const[k]=this.descendant(h=>h instanceof v.zo,x);k&&k.statics.blotName===b&&L(k)&&k.updateContent(E)}handleDragStart(x){x.preventDefault()}deltaToRenderBlocks(x){const b=[];let E=new(q());return x.forEach(k=>{const h=k==null?void 0:k.insert;if(h)if("string"==typeof h){const r=h.split("\n");r.slice(0,-1).forEach(u=>{E.insert(u,k.attributes),b.push({type:"block",delta:E,attributes:k.attributes??{}}),E=new(q())});const s=r[r.length-1];s&&E.insert(s,k.attributes)}else{const r=Object.keys(h)[0];if(!r)return;this.query(r,m.Scope.INLINE)?E.push(k):(E.length()&&b.push({type:"block",delta:E,attributes:{}}),E=new(q()),b.push({type:"blockEmbed",key:r,value:h[r],attributes:k.attributes??{}}))}}),E.length()&&b.push({type:"block",delta:E,attributes:{}}),b}createBlock(x,b){let E;const k={};Object.entries(x).forEach(s=>{let[u,N]=s;null!=this.query(u,m.Scope.BLOCK&m.Scope.BLOT)?E=u:k[u]=N});const h=this.create(E||this.statics.defaultChild.blotName,E?x[E]:void 0);this.insertBefore(h,b||void 0);const r=h.length();return Object.entries(k).forEach(s=>{let[u,N]=s;h.formatAt(0,r,u,N)}),h}};a(nt,"m");bt(nt,"blotName","scroll");bt(nt,"className","ql-editor");bt(nt,"tagName","DIV");bt(nt,"defaultChild",v.Ay);bt(nt,"allowedChildren",[v.Ay,v.zo,y.A]);let j=nt;function C(U,x,b){b.reduce((E,k)=>{const h=f.Op.length(k);let r=k.attributes||{};if(null!=k.insert){if("string"==typeof k.insert){const s=k.insert;U.insertAt(E,s);const[u]=U.descendant(m.LeafBlot,E),N=(0,v.Ji)(u);r=f.AttributeMap.diff(N,r)||{}}else if("object"==typeof k.insert){const s=Object.keys(k.insert)[0];if(null==s)return E;if(U.insertAt(E,s,k.insert[s]),null!=U.scroll.query(s,m.Scope.INLINE)){const[u]=U.descendant(m.LeafBlot,E),N=(0,v.Ji)(u);r=f.AttributeMap.diff(N,r)||{}}}}return Object.keys(r).forEach(s=>{U.formatAt(E,h,s,r[s])}),E+h},x)}a(C,"b");var $=j,Z=n(5508),st=n(584),A=n(4266);const ct=class ct extends A.A{constructor(b,E){super(b,E);bt(this,"lastRecorded",0);bt(this,"ignoreChange",false);bt(this,"stack",{undo:[],redo:[]});bt(this,"currentRange",null);this.quill.on(c.Ay.events.EDITOR_CHANGE,(k,h,r,s)=>{k===c.Ay.events.SELECTION_CHANGE?h&&s!==c.Ay.sources.SILENT&&(this.currentRange=h):k===c.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&s!==c.Ay.sources.USER?this.transform(h):this.record(h,r)),this.currentRange=M(this.currentRange,h))}),this.quill.keyboard.addBinding({key:"z",shortKey:true},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:true,shiftKey:true},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:true},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",k=>{"historyUndo"===k.inputType?(this.undo(),k.preventDefault()):"historyRedo"===k.inputType&&(this.redo(),k.preventDefault())})}change(b,E){if(0===this.stack[b].length)return;const k=this.stack[b].pop();if(!k)return;const h=this.quill.getContents(),r=k.delta.invert(h);this.stack[E].push({delta:r,range:M(k.range,r)}),this.lastRecorded=0,this.ignoreChange=true,this.quill.updateContents(k.delta,c.Ay.sources.USER),this.ignoreChange=false,this.restoreSelection(k)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(b,E){if(0===b.ops.length)return;this.stack.redo=[];let k=b.invert(E),h=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const s=this.stack.undo.pop();s&&(k=k.compose(s.delta),h=s.range)}else this.lastRecorded=r;0!==k.length()&&(this.stack.undo.push({delta:k,range:h}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(b){z(this.stack.undo,b),z(this.stack.redo,b)}undo(){this.change("undo","redo")}restoreSelection(b){if(b.range)this.quill.setSelection(b.range,c.Ay.sources.USER);else{const E=function(k,h){const r=h.reduce((u,N)=>u+(N.delete||0),0);let s=h.length()-r;return function(u,N){const t=N.ops[N.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(e=>null!=u.query(e,m.Scope.BLOCK)))}(k,h)&&(s-=1),s}(this.quill.scroll,b.delta);this.quill.setSelection(E,c.Ay.sources.USER)}}};a(ct,"N");bt(ct,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:false});let O=ct;function z(U,x){let b=x;for(let E=U.length-1;E>=0;E-=1){const k=U[E];U[E]={delta:b.transform(k.delta,true),range:k.range&&M(k.range,b)},b=k.delta.transform(b),0===U[E].delta.length()&&U.splice(E,1)}}a(z,"E");function M(U,x){if(!U)return U;const b=x.transformPosition(U.index);return{index:b,length:x.transformPosition(U.index+U.length)-b}}a(M,"w");var W=n(8123);const ht=class ht extends A.A{constructor(x,b){super(x,b),x.root.addEventListener("drop",E=>{var r;E.preventDefault();let k=null;if(document.caretRangeFromPoint)k=document.caretRangeFromPoint(E.clientX,E.clientY);else if(document.caretPositionFromPoint){const s=document.caretPositionFromPoint(E.clientX,E.clientY);k=document.createRange(),k.setStart(s.offsetNode,s.offset),k.setEnd(s.offsetNode,s.offset)}const h=k&&x.selection.normalizeNative(k);if(h){const s=x.selection.normalizedToRange(h);((r=E.dataTransfer)==null?void 0:r.files)&&this.upload(s,E.dataTransfer.files)}})}upload(x,b){const E=[];Array.from(b).forEach(k=>{var h;k&&((h=this.options.mimetypes)==null?void 0:h.includes(k.type))&&E.push(k)}),E.length>0&&this.options.handler.call(this,x,E)}};a(ht,"k");let tt=ht;tt.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(U,x){if(!this.quill.scroll.query("image"))return;const b=x.map(E=>new Promise(k=>{const h=new FileReader;h.onload=()=>{k(h.result)},h.readAsDataURL(E)}));Promise.all(b).then(E=>{const k=E.reduce((h,r)=>h.insert({image:r}),new(q())().retain(U.index).delete(U.length));this.quill.updateContents(k,B.A.sources.USER),this.quill.setSelection(U.index+E.length,B.A.sources.SILENT)})}};var et=tt;const dt=["insertText","insertReplacementText"];const pt=class pt extends A.A{constructor(x,b){super(x,b),x.root.addEventListener("beforeinput",E=>{this.handleBeforeInput(E)}),/Android/i.test(navigator.userAgent)||x.on(c.Ay.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(x){(0,W.Xo)({range:x,quill:this.quill})}replaceText(x){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===x.length)return false;if(b){const E=this.quill.getFormat(x.index,1);this.deleteRange(x),this.quill.updateContents(new(q())().retain(x.index).insert(b,E),c.Ay.sources.USER)}else this.deleteRange(x);return this.quill.setSelection(x.index+b.length,0,c.Ay.sources.SILENT),true}handleBeforeInput(x){if(this.quill.composition.isComposing||x.defaultPrevented||!dt.includes(x.inputType))return;const b=x.getTargetRanges?x.getTargetRanges()[0]:null;if(!b||true===b.collapsed)return;const E=function(r){var s;return"string"==typeof r.data?r.data:((s=r.dataTransfer)==null?void 0:s.types.includes("text/plain"))?r.dataTransfer.getData("text/plain"):null}(x);if(null==E)return;const k=this.quill.selection.normalizeNative(b),h=k?this.quill.selection.normalizedToRange(k):null;h&&this.replaceText(h,E)&&x.preventDefault()}handleCompositionStart(){const x=this.quill.getSelection();x&&this.replaceText(x)}};a(pt,"S");let mt=pt;var Y=mt;const G=/Mac/i.test(navigator.platform);const H=class H extends A.A{constructor(b,E){super(b,E);bt(this,"isListening",false);bt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(b,E){let{line:k,event:h}=E;if(!(k instanceof m.ParentBlot&&k.uiNode))return true;const r="rtl"===getComputedStyle(k.domNode).direction;return!!(r&&"ArrowRight"!==h.key||!r&&"ArrowLeft"!==h.key)||(this.quill.setSelection(b.index-1,b.length+(h.shiftKey?1:0),c.Ay.sources.USER),false)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",b=>{!b.defaultPrevented&&(E=>"ArrowLeft"===E.key||"ArrowRight"===E.key||"ArrowUp"===E.key||"ArrowDown"===E.key||"Home"===E.key||!(!G||"a"!==E.key||true!==E.ctrlKey))(b)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=true,document.addEventListener("selectionchange",()=>{this.isListening=false,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:true}))}handleSelectionChange(){const b=document.getSelection();if(!b)return;const E=b.getRangeAt(0);if(true!==E.collapsed||0!==E.startOffset)return;const k=this.quill.scroll.find(E.startContainer);if(!(k instanceof m.ParentBlot&&k.uiNode))return;const h=document.createRange();h.setStartAfter(k.uiNode),h.setEndAfter(k.uiNode),b.removeAllRanges(),b.addRange(h)}};a(H,"j");let it=H;var rt=it;c.Ay.register({"blots/block":v.Ay,"blots/block/embed":v.zo,"blots/break":S.A,"blots/container":y.A,"blots/cursor":R.A,"blots/embed":p.A,"blots/inline":w.A,"blots/scroll":$,"blots/text":Z.A,"modules/clipboard":st.Ay,"modules/history":O,"modules/keyboard":W.Ay,"modules/uploader":et,"modules/input":Y,"modules/uiNode":rt});var at=c.Ay},5374:function(J,_,n){var R;n.d(_,{A:a(function(){return y},"A")});var c=n(8920),v=n(7356);const S=(0,n(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(p=>{document.addEventListener(p,function(){for(var w=arguments.length,m=new Array(w),f=0;f<w;f++)m[f]=arguments[f];Array.from(document.querySelectorAll(".ql-container")).forEach(q=>{const B=v.A.get(q);B&&B.emitter&&B.emitter.handleDOM(...m)})})});var y=(R=class extends c{constructor(){super(),this.domListeners={},this.on("error",S.error)}emit(){for(var w=arguments.length,m=new Array(w),f=0;f<w;f++)m[f]=arguments[f];return S.log.call(S,...m),super.emit(...m)}handleDOM(w){for(var m=arguments.length,f=new Array(m>1?m-1:0),q=1;q<m;q++)f[q-1]=arguments[q];(this.domListeners[w.type]||[]).forEach(B=>{let{node:g,handler:L}=B;(w.target===g||g.contains(w.target))&&L(w,...f)})}listenDOM(w,m,f){this.domListeners[w]||(this.domListeners[w]=[]),this.domListeners[w].push({node:m,handler:f})}},a(R,"o"),bt(R,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),bt(R,"sources",{API:"api",SILENT:"silent",USER:"user"}),R)},7356:function(J,_){_.A=new WeakMap},6078:function(J,_){const n=["error","warn","log","info"];let c="warn";function v(y){if(c&&n.indexOf(y)<=n.indexOf(c)){for(var R=arguments.length,p=new Array(R>1?R-1:0),w=1;w<R;w++)p[w-1]=arguments[w];console[y](...p)}}a(v,"i");function S(y){return n.reduce((R,p)=>(R[p]=v.bind(console,p,y),R),{})}a(S,"s");S.level=y=>{c=y},v.level=S.level,_.A=S},4266:function(J,_){var n;_.A=(n=class{constructor(c){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=c,this.options=v}},bt(n,"DEFAULTS",{}),n)},6142:function(J,_,n){var b,E;n.d(_,{Ay:a(function(){return nt},"Ay")});var c=n(8347),v=n(6003),S=n(5232),y=n.n(S),R=n(3707),p=n(5123),w=n(9698),m=n(3036),f=n(4541),q=n(5508),B=n(8298);const g=/^[ -~]*$/;function L(h,r,s){if(0===h.length){const[ft]=$(s.pop());return r<=0?`</li></${ft}>`:`</li></${ft}>${L([],r-1,s)}`}const[{child:u,offset:N,length:t,indent:e,type:i},...T]=h,[D,Q]=$(i);if(e>r)return s.push(i),e===r+1?`<${D}><li${Q}>${j(u,N,t)}${L(T,e,s)}`:`<${D}><li>${L(h,r+1,s)}`;const ot=s[s.length-1];if(e===r&&i===ot)return`</li><li${Q}>${j(u,N,t)}${L(T,e,s)}`;const[lt]=$(s.pop());return`</li></${lt}>${L(h,r-1,s)}`}a(L,"g");function j(h,r,s){let u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in h&&"function"==typeof h.html)return h.html(r,s);if(h instanceof q.A)return(0,q.X)(h.value().slice(r,r+s)).replaceAll(" ","&nbsp;");if(h instanceof v.ParentBlot){if("list-container"===h.statics.blotName){const D=[];return h.children.forEachAt(r,s,(Q,ot,lt)=>{const ft="formats"in Q&&"function"==typeof Q.formats?Q.formats():{};D.push({child:Q,offset:ot,length:lt,indent:ft.indent||0,type:ft.list})}),L(D,-1,[])}const N=[];if(h.children.forEachAt(r,s,(D,Q,ot)=>{N.push(j(D,Q,ot))}),u||"list"===h.statics.blotName)return N.join("");const{outerHTML:t,innerHTML:e}=h.domNode,[i,T]=t.split(`>${e}<`);return"<table"===i?`<table style="border: 1px solid #000;">${N.join("")}<${T}`:`${i}>${N.join("")}<${T}`}return h.domNode instanceof Element?h.domNode.outerHTML:""}a(j,"m");function C(h,r){return Object.keys(r).reduce((s,u)=>{if(null==h[u])return s;const N=r[u];return N===h[u]?s[u]=N:Array.isArray(N)?N.indexOf(h[u])<0?s[u]=N.concat([h[u]]):s[u]=N:s[u]=[N,h[u]],s},{})}a(C,"b");function $(h){const r="ordered"===h?"ol":"ul";switch(h){case"checked":return[r,' data-list="checked"'];case"unchecked":return[r,' data-list="unchecked"'];default:return[r,""]}}a($,"y");function Z(h){return h.reduce((r,s)=>{if("string"==typeof s.insert){const u=s.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return r.insert(u,s.attributes)}return r.push(s)},new(y()))}a(Z,"v");function st(h,r){let{index:s,length:u}=h;return new B.Q(s+r,u)}a(st,"A");var A=(b=class{constructor(r){this.scroll=r,this.delta=this.getDelta()}applyDelta(r){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const u=Z(r),N=new(y());return function(t){const e=[];return t.forEach(i=>{"string"==typeof i.insert?i.insert.split("\n").forEach((T,D)=>{D&&e.push({insert:"\n",attributes:i.attributes}),T&&e.push({insert:T,attributes:i.attributes})}):e.push(i)}),e}(u.ops.slice()).reduce((t,e)=>{const i=S.Op.length(e);let T=e.attributes||{},D=false,Q=false;if(null!=e.insert){if(N.retain(i),"string"==typeof e.insert){const ft=e.insert;Q=!ft.endsWith("\n")&&(s<=t||!!this.scroll.descendant(w.zo,t)[0]),this.scroll.insertAt(t,ft);const[Et,wt]=this.scroll.line(t);let At=(0,c.A)({},(0,w.Ji)(Et));if(Et instanceof w.Ay){const[jt]=Et.descendant(v.LeafBlot,wt);jt&&(At=(0,c.A)(At,(0,w.Ji)(jt)))}T=S.AttributeMap.diff(At,T)||{}}else if("object"==typeof e.insert){const ft=Object.keys(e.insert)[0];if(null==ft)return t;const Et=null!=this.scroll.query(ft,v.Scope.INLINE);if(Et)(s<=t||this.scroll.descendant(w.zo,t)[0])&&(Q=true);else if(t>0){const[wt,At]=this.scroll.descendant(v.LeafBlot,t-1);wt instanceof q.A?"\n"!==wt.value()[At]&&(D=true):wt instanceof v.EmbedBlot&&wt.statics.scope===v.Scope.INLINE_BLOT&&(D=true)}if(this.scroll.insertAt(t,ft,e.insert[ft]),Et){const[wt]=this.scroll.descendant(v.LeafBlot,t);if(wt){const At=(0,c.A)({},(0,w.Ji)(wt));T=S.AttributeMap.diff(At,T)||{}}}}s+=i}else if(N.push(e),null!==e.retain&&"object"==typeof e.retain){const ft=Object.keys(e.retain)[0];if(null==ft)return t;this.scroll.updateEmbedAt(t,ft,e.retain[ft])}Object.keys(T).forEach(ft=>{this.scroll.formatAt(t,i,ft,T[ft])});const ot=D?1:0,lt=Q?1:0;return s+=ot+lt,N.retain(ot),N.delete(lt),t+i+ot+lt},0),N.reduce((t,e)=>"number"==typeof e.delete?(this.scroll.deleteAt(t,e.delete),t):t+S.Op.length(e),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(u)}deleteText(r,s){return this.scroll.deleteAt(r,s),this.update(new(y())().retain(r).delete(s))}formatLine(r,s){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(u).forEach(t=>{this.scroll.lines(r,Math.max(s,1)).forEach(e=>{e.format(t,u[t])})}),this.scroll.optimize();const N=new(y())().retain(r).retain(s,(0,R.A)(u));return this.update(N)}formatText(r,s){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(u).forEach(t=>{this.scroll.formatAt(r,s,t,u[t])});const N=new(y())().retain(r).retain(s,(0,R.A)(u));return this.update(N)}getContents(r,s){return this.delta.slice(r,r+s)}getDelta(){return this.scroll.lines().reduce((r,s)=>r.concat(s.delta()),new(y()))}getFormat(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=[],N=[];0===s?this.scroll.path(r).forEach(i=>{const[T]=i;T instanceof w.Ay?u.push(T):T instanceof v.LeafBlot&&N.push(T)}):(u=this.scroll.lines(r,s),N=this.scroll.descendants(v.LeafBlot,r,s));const[t,e]=[u,N].map(i=>{const T=i.shift();if(null==T)return{};let D=(0,w.Ji)(T);for(;Object.keys(D).length>0;){const Q=i.shift();if(null==Q)return D;D=C((0,w.Ji)(Q),D)}return D});return{...t,...e}}getHTML(r,s){const[u,N]=this.scroll.line(r);if(u){const t=u.length();return u.length()>=N+s&&(0!==N||s!==t)?j(u,N,s,true):j(this.scroll,r,s,true)}return""}getText(r,s){return this.getContents(r,s).filter(u=>"string"==typeof u.insert).map(u=>u.insert).join("")}insertContents(r,s){const u=Z(s),N=new(y())().retain(r).concat(u);return this.scroll.insertContents(r,u),this.update(N)}insertEmbed(r,s,u){return this.scroll.insertAt(r,s,u),this.update(new(y())().retain(r).insert({[s]:u}))}insertText(r,s){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(r,s),Object.keys(u).forEach(N=>{this.scroll.formatAt(r,s.length,N,u[N])}),this.update(new(y())().retain(r).insert(s,(0,R.A)(u)))}isBlank(){if(0===this.scroll.children.length)return true;if(this.scroll.children.length>1)return false;const r=this.scroll.children.head;if((r==null?void 0:r.statics.blotName)!==w.Ay.blotName)return false;const s=r;return!(s.children.length>1)&&s.children.head instanceof m.A}removeFormat(r,s){const u=this.getText(r,s),[N,t]=this.scroll.line(r+s);let e=0,i=new(y());null!=N&&(e=N.length()-t,i=N.delta().slice(t,t+e-1).insert("\n"));const T=this.getContents(r,s+e).diff(new(y())().insert(u).concat(i)),D=new(y())().retain(r).concat(T);return this.applyDelta(D)}update(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const N=this.delta;if(1===s.length&&"characterData"===s[0].type&&s[0].target.data.match(g)&&this.scroll.find(s[0].target)){const t=this.scroll.find(s[0].target),e=(0,w.Ji)(t),i=t.offset(this.scroll),T=s[0].oldValue.replace(f.A.CONTENTS,""),D=new(y())().insert(T),Q=new(y())().insert(t.value()),ot=u&&{oldRange:st(u.oldRange,-i),newRange:st(u.newRange,-i)};r=new(y())().retain(i).concat(D.diff(Q,ot)).reduce((lt,ft)=>ft.insert?lt.insert(ft.insert,e):lt.push(ft),new(y())),this.delta=N.compose(r)}else this.delta=this.getDelta(),r&&(0,p.A)(N.compose(r),this.delta)||(r=N.diff(this.delta,u));return r}},a(b,"x"),b),O=n(5374),z=n(7356),M=n(6078),W=n(4266),tt=n(746),et=(E=class{constructor(r,s){bt(this,"isComposing",false);this.scroll=r,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",r=>{this.isComposing||this.handleCompositionStart(r)}),this.scroll.domNode.addEventListener("compositionend",r=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(r)})})}handleCompositionStart(r){const s=r.target instanceof Node?this.scroll.find(r.target,true):null;!s||s instanceof tt.A||(this.emitter.emit(O.A.events.COMPOSITION_BEFORE_START,r),this.scroll.batchStart(),this.emitter.emit(O.A.events.COMPOSITION_START,r),this.isComposing=true)}handleCompositionEnd(r){this.emitter.emit(O.A.events.COMPOSITION_BEFORE_END,r),this.scroll.batchEnd(),this.emitter.emit(O.A.events.COMPOSITION_END,r),this.isComposing=false}},a(E,"_"),E),dt=n(9609);const mt=a(h=>{const r=h.getBoundingClientRect(),s="offsetWidth"in h&&Math.abs(r.width)/h.offsetWidth||1,u="offsetHeight"in h&&Math.abs(r.height)/h.offsetHeight||1;return{top:r.top,right:r.left+h.clientWidth*s,bottom:r.top+h.clientHeight*u,left:r.left}},"S"),Y=a(h=>{const r=parseInt(h,10);return Number.isNaN(r)?0:r},"O"),G=a((h,r,s,u,N,t)=>h<s&&r>u?0:h<s?-(s-h+N):r>u?r-h>u-s?h+N-s:r-u+t:0,"T");const it=["block","break","cursor","inline","scroll","text"];const rt=(0,M.A)("quill"),at=new v.Registry;v.ParentBlot.uiClass="ql-ui";const k=class k{static debug(r){true===r&&(r="log"),M.A.level(r)}static find(r){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return z.A.get(r)||at.find(r,s)}static import(r){return null==this.imports[r]&&rt.error(`Cannot import ${r}. Are you sure it was registered?`),this.imports[r]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const r=arguments.length<=0?void 0:arguments[0],s=!!(arguments.length<=1?void 0:arguments[1]),u="attrName"in r?r.attrName:r.blotName;"string"==typeof u?this.register(`formats/${u}`,r,s):Object.keys(r).forEach(N=>{this.register(N,r[N],s)})}else{const r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],u=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[r]||u||rt.warn(`Overwriting ${r} with`,s),this.imports[r]=s,(r.startsWith("blots/")||r.startsWith("formats/"))&&s&&"boolean"!=typeof s&&"abstract"!==s.blotName&&at.register(s),"function"==typeof s.register&&s.register(at)}}constructor(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(e,i){const T=ct(e);if(!T)throw new Error("Invalid Quill container");const D=!i.theme||i.theme===k.DEFAULTS.theme?dt.A:k.import(`themes/${i.theme}`);if(!D)throw new Error(`Invalid theme ${i.theme}. Did you register it?`);const{modules:Q,...ot}=k.DEFAULTS,{modules:lt,...ft}=D.DEFAULTS;let Et=ht(i.modules);null!=Et&&Et.toolbar&&Et.toolbar.constructor!==Object&&(Et={...Et,toolbar:{container:Et.toolbar}});const wt=(0,c.A)({},ht(Q),ht(lt),Et),At={...ot,...pt(ft),...pt(i)};let jt=i.registry;return jt?i.formats&&rt.warn('Ignoring "formats" option because "registry" is specified'):jt=i.formats?((Tt,It,Lt)=>{const _t=new v.Registry;return it.forEach(Bt=>{const Ut=It.query(Bt);Ut&&_t.register(Ut)}),Tt.forEach(Bt=>{let Ut=It.query(Bt);Ut||Lt.error(`Cannot register "${Bt}" specified in "formats" config. Are you sure it was registered?`);let Ct=0;for(;Ut;)if(_t.register(Ut),Ut="blotName"in Ut?Ut.requiredContainer??null:null,Ct+=1,Ct>100){Lt.error(`Cycle detected in registering blot requiredContainer: "${Bt}"`);break}}),_t})(i.formats,At.registry,rt):At.registry,{...At,registry:jt,container:T,theme:D,modules:Object.entries(wt).reduce((Tt,It)=>{let[Lt,_t]=It;if(!_t)return Tt;const Bt=k.import(`modules/${Lt}`);return null==Bt?(rt.error(`Cannot load ${Lt} module. Are you sure you registered it?`),Tt):{...Tt,[Lt]:(0,c.A)({},Bt.DEFAULTS||{},_t)}},{}),bounds:ct(At.bounds)}}(r,s),this.container=this.options.container,null==this.container)return void rt.error("Invalid Quill container",r);this.options.debug&&k.debug(this.options.debug);const u=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",z.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new O.A;const N=v.ScrollBlot.blotName,t=this.options.registry.query(N);if(!t||!("blotName"in t))throw new Error(`Cannot initialize Quill without "${N}" blot`);if(this.scroll=new t(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new A(this.scroll),this.selection=new B.A(this.scroll,this.emitter),this.composition=new et(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(O.A.events.EDITOR_CHANGE,e=>{e===O.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(O.A.events.SCROLL_UPDATE,(e,i)=>{const T=this.selection.lastRange,[D]=this.selection.getRange(),Q=T&&D?{oldRange:T,newRange:D}:void 0;H.call(this,()=>this.editor.update(null,i,Q),e)}),this.emitter.on(O.A.events.SCROLL_EMBED_UPDATE,(e,i)=>{const T=this.selection.lastRange,[D]=this.selection.getRange(),Q=T&&D?{oldRange:T,newRange:D}:void 0;H.call(this,()=>{const ot=new(y())().retain(e.offset(this)).retain({[e.statics.blotName]:i});return this.editor.update(ot,[],Q)},k.sources.USER)}),u){const e=this.clipboard.convert({html:`${u}<p><br></p>`,text:"\n"});this.setContents(e)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=false}addContainer(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof r){const u=r;(r=document.createElement("div")).classList.add(u)}return this.container.insertBefore(r,s),r}blur(){this.selection.setRange(null)}deleteText(r,s,u){return[r,s,,u]=U(r,s,u),H.call(this,()=>this.editor.deleteText(r,s),u,r,-1*s)}disable(){this.enable(false)}editReadOnly(r){this.allowReadOnlyEdits=true;const s=r();return this.allowReadOnlyEdits=false,s}enable(){let r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(r),this.container.classList.toggle("ql-disabled",!r)}focus(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),r.preventScroll||this.scrollSelectionIntoView()}format(r,s){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O.A.sources.API;return H.call(this,()=>{const N=this.getSelection(true);let t=new(y());if(null==N)return t;if(this.scroll.query(r,v.Scope.BLOCK))t=this.editor.formatLine(N.index,N.length,{[r]:s});else{if(0===N.length)return this.selection.format(r,s),t;t=this.editor.formatText(N.index,N.length,{[r]:s})}return this.setSelection(N,O.A.sources.SILENT),t},u)}formatLine(r,s,u,N,t){let e;return[r,s,e,t]=U(r,s,u,N,t),H.call(this,()=>this.editor.formatLine(r,s,e),t,r,0)}formatText(r,s,u,N,t){let e;return[r,s,e,t]=U(r,s,u,N,t),H.call(this,()=>this.editor.formatText(r,s,e),t,r,0)}getBounds(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=null;if(u="number"==typeof r?this.selection.getBounds(r,s):this.selection.getBounds(r.index,r.length),!u)return null;const N=this.container.getBoundingClientRect();return{bottom:u.bottom-N.top,height:u.height,left:u.left-N.left,right:u.right-N.left,top:u.top-N.top,width:u.width}}getContents(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-r;return[r,s]=U(r,s),this.editor.getContents(r,s)}getFormat(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(true),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof r?this.editor.getFormat(r,s):this.editor.getFormat(r.index,r.length)}getIndex(r){return r.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(r){return this.scroll.leaf(r)}getLine(r){return this.scroll.line(r)}getLines(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof r?this.scroll.lines(r.index,r.length):this.scroll.lines(r,s)}getModule(r){return this.theme.modules[r]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0;return"number"==typeof r&&(s=s??this.getLength()-r),[r,s]=U(r,s),this.editor.getHTML(r,s)}getText(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0;return"number"==typeof r&&(s=s??this.getLength()-r),[r,s]=U(r,s),this.editor.getText(r,s)}hasFocus(){return this.selection.hasFocus()}insertEmbed(r,s,u){let N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.sources.API;return H.call(this,()=>this.editor.insertEmbed(r,s,u),N,r)}insertText(r,s,u,N,t){let e;return[r,,e,t]=U(r,0,u,N,t),H.call(this,()=>this.editor.insertText(r,s,e),t,r,s.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(r,s,u){return[r,s,,u]=U(r,s,u),H.call(this,()=>this.editor.removeFormat(r,s),u,r)}scrollRectIntoView(r){((s,u)=>{var T,D,Q;const N=s.ownerDocument;let t=u,e=s;for(;e;){const ot=e===N.body,lt=ot?{top:0,right:((T=window.visualViewport)==null?void 0:T.width)??N.documentElement.clientWidth,bottom:((D=window.visualViewport)==null?void 0:D.height)??N.documentElement.clientHeight,left:0}:mt(e),ft=getComputedStyle(e),Et=G(t.left,t.right,lt.left,lt.right,Y(ft.scrollPaddingLeft),Y(ft.scrollPaddingRight)),wt=G(t.top,t.bottom,lt.top,lt.bottom,Y(ft.scrollPaddingTop),Y(ft.scrollPaddingBottom));if(Et||wt)if(ot)(Q=N.defaultView)==null?void 0:Q.scrollBy(Et,wt);else{const{scrollLeft:At,scrollTop:jt}=e;wt&&(e.scrollTop+=wt),Et&&(e.scrollLeft+=Et);const Tt=e.scrollLeft-At,It=e.scrollTop-jt;t={left:t.left-Tt,top:t.top-It,right:t.right-Tt,bottom:t.bottom-It}}e=ot||"fixed"===ft.position?null:(i=e).parentElement||i.getRootNode().host||null}var i})(this.root,r)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const r=this.selection.lastRange,s=r&&this.selection.getBounds(r.index,r.length);s&&this.scrollRectIntoView(s)}setContents(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.A.sources.API;return H.call(this,()=>{r=new(y())(r);const u=this.getLength(),N=this.editor.deleteText(0,u),t=this.editor.insertContents(0,r),e=this.editor.deleteText(this.getLength()-1,1);return N.compose(t).compose(e)},s)}setSelection(r,s,u){null==r?this.selection.setRange(null,s||k.sources.API):([r,s,,u]=U(r,s,u),this.selection.setRange(new B.Q(Math.max(0,r),s),u),u!==O.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.A.sources.API;const u=new(y())().insert(r);return this.setContents(u,s)}update(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.A.sources.USER;const s=this.scroll.update(r);return this.selection.update(r),s}updateContents(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.A.sources.API;return H.call(this,()=>(r=new(y())(r),this.editor.applyDelta(r)),s,true)}};a(k,"I");bt(k,"DEFAULTS",{bounds:null,modules:{clipboard:true,keyboard:true,history:true,uploader:true},placeholder:"",readOnly:false,registry:at,theme:"default"});bt(k,"events",O.A.events);bt(k,"sources",O.A.sources);bt(k,"version","2.0.3");bt(k,"imports",{delta:y(),parchment:v,"core/module":W.A,"core/theme":dt.A});let nt=k;function ct(h){return"string"==typeof h?document.querySelector(h):h}a(ct,"B");function ht(h){return Object.entries(h??{}).reduce((r,s)=>{let[u,N]=s;return{...r,[u]:true===N?{}:N}},{})}a(ht,"M");function pt(h){return Object.fromEntries(Object.entries(h).filter(r=>void 0!==r[1]))}a(pt,"U");function H(h,r,s,u){if(!this.isEnabled()&&r===O.A.sources.USER&&!this.allowReadOnlyEdits)return new(y());let N=null==s?null:this.getSelection();const t=this.editor.delta,e=h();if(null!=N&&(true===s&&(s=N.index),null==u?N=x(N,e,r):0!==u&&(N=x(N,s,u,r)),this.setSelection(N,O.A.sources.SILENT)),e.length()>0){const i=[O.A.events.TEXT_CHANGE,e,t,r];this.emitter.emit(O.A.events.EDITOR_CHANGE,...i),r!==O.A.sources.SILENT&&this.emitter.emit(...i)}return e}a(H,"D");function U(h,r,s,u,N){let t={};return"number"==typeof h.index&&"number"==typeof h.length?"number"!=typeof r?(N=u,u=s,s=r,r=h.length,h=h.index):(r=h.length,h=h.index):"number"!=typeof r&&(N=u,u=s,s=r,r=0),"object"==typeof s?(t=s,N=u):"string"==typeof s&&(null!=u?t[s]=u:N=s),[h,r,t,N=N||O.A.sources.API]}a(U,"P");function x(h,r,s,u){const N="number"==typeof s?s:0;if(null==h)return null;let t,e;return r&&"function"==typeof r.transformPosition?[t,e]=[h.index,h.index+h.length].map(i=>r.transformPosition(i,u!==O.A.sources.USER)):[t,e]=[h.index,h.index+h.length].map(i=>i<r||i===r&&u===O.A.sources.USER?i:N>=0?i+N:Math.max(r,i+N)),new B.Q(t,e-t)}a(x,"z")},8298:function(J,_,n){n.d(_,{Q:a(function(){return p},"Q")});var c=n(6003),v=n(5123),S=n(3707),y=n(5374);const R=(0,n(6078).A)("quill:selection");const m=class m{constructor(q){let B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=q,this.length=B}};a(m,"a");let p=m;function w(f,q){try{q.parentNode}catch(B){return false}return f.contains(q)}a(w,"c");_.A=class{constructor(f,q){this.emitter=q,this.scroll=f,this.composing=false,this.mouseDown=false,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new p(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,y.A.sources.USER),1)}),this.emitter.on(y.A.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const B=this.getNativeRange();null!=B&&B.start.node!==this.cursor.textNode&&this.emitter.once(y.A.events.SCROLL_UPDATE,(g,L)=>{try{this.root.contains(B.start.node)&&this.root.contains(B.end.node)&&this.setNativeRange(B.start.node,B.start.offset,B.end.node,B.end.offset);const j=L.some(C=>"characterData"===C.type||"childList"===C.type||"attributes"===C.type&&C.target===this.root);this.update(j?y.A.sources.SILENT:g)}catch(j){}})}),this.emitter.on(y.A.events.SCROLL_OPTIMIZE,(B,g)=>{if(g.range){const{startNode:L,startOffset:j,endNode:C,endOffset:$}=g.range;this.setNativeRange(L,j,C,$),this.update(y.A.sources.SILENT)}}),this.update(y.A.sources.SILENT)}handleComposition(){this.emitter.on(y.A.events.COMPOSITION_BEFORE_START,()=>{this.composing=true}),this.emitter.on(y.A.events.COMPOSITION_END,()=>{if(this.composing=false,this.cursor.parent){const f=this.cursor.restore();if(!f)return;setTimeout(()=>{this.setNativeRange(f.startNode,f.startOffset,f.endNode,f.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=true}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=false,this.update(y.A.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:true}),this.setRange(this.savedRange))}format(f,q){this.scroll.update();const B=this.getNativeRange();if(null!=B&&B.native.collapsed&&!this.scroll.query(f,c.Scope.BLOCK)){if(B.start.node!==this.cursor.textNode){const g=this.scroll.find(B.start.node,false);if(null==g)return;if(g instanceof c.LeafBlot){const L=g.split(B.start.offset);g.parent.insertBefore(this.cursor,L)}else g.insertBefore(this.cursor,B.start.node);this.cursor.attach()}this.cursor.format(f,q),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(f){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const B=this.scroll.length();let g;f=Math.min(f,B-1),q=Math.min(f+q,B-1)-f;let[L,j]=this.scroll.leaf(f);if(null==L)return null;if(q>0&&j===L.length()){const[st]=this.scroll.leaf(f+1);if(st){const[A]=this.scroll.line(f),[O]=this.scroll.line(f+1);A===O&&(L=st,j=0)}}[g,j]=L.position(j,true);const C=document.createRange();if(q>0)return C.setStart(g,j),[L,j]=this.scroll.leaf(f+q),null==L?null:([g,j]=L.position(j,true),C.setEnd(g,j),C.getBoundingClientRect());let $,Z="left";if(g instanceof Text){if(!g.data.length)return null;j<g.data.length?(C.setStart(g,j),C.setEnd(g,j+1)):(C.setStart(g,j-1),C.setEnd(g,j),Z="right"),$=C.getBoundingClientRect()}else{if(!(L.domNode instanceof Element))return null;$=L.domNode.getBoundingClientRect(),j>0&&(Z="right")}return{bottom:$.top+$.height,height:$.height,left:$[Z],right:$[Z],top:$.top,width:0}}getNativeRange(){const f=document.getSelection();if(null==f||f.rangeCount<=0)return null;const q=f.getRangeAt(0);if(null==q)return null;const B=this.normalizeNative(q);return R.info("getNativeRange",B),B}getRange(){const f=this.scroll.domNode;if("isConnected"in f&&!f.isConnected)return[null,null];const q=this.getNativeRange();return null==q?[null,null]:[this.normalizedToRange(q),q]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&w(this.root,document.activeElement)}normalizedToRange(f){const q=[[f.start.node,f.start.offset]];f.native.collapsed||q.push([f.end.node,f.end.offset]);const B=q.map(j=>{const[C,$]=j,Z=this.scroll.find(C,true),st=Z.offset(this.scroll);return 0===$?st:Z instanceof c.LeafBlot?st+Z.index(C,$):st+Z.length()}),g=Math.min(Math.max(...B),this.scroll.length()-1),L=Math.min(g,...B);return new p(L,g-L)}normalizeNative(f){if(!w(this.root,f.startContainer)||!f.collapsed&&!w(this.root,f.endContainer))return null;const q={start:{node:f.startContainer,offset:f.startOffset},end:{node:f.endContainer,offset:f.endOffset},native:f};return[q.start,q.end].forEach(B=>{let{node:g,offset:L}=B;for(;!(g instanceof Text)&&g.childNodes.length>0;)if(g.childNodes.length>L)g=g.childNodes[L],L=0;else{if(g.childNodes.length!==L)break;g=g.lastChild,L=g instanceof Text?g.data.length:g.childNodes.length>0?g.childNodes.length:g.childNodes.length+1}B.node=g,B.offset=L}),q}rangeToNative(f){const q=this.scroll.length(),B=a((g,L)=>{g=Math.min(q-1,g);const[j,C]=this.scroll.leaf(g);return j?j.position(C,L):[null,-1]},"n");return[...B(f.index,false),...B(f.index+f.length,true)]}setNativeRange(f,q){let B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q,L=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(R.info("setNativeRange",f,q,B,g),null!=f&&(null==this.root.parentNode||null==f.parentNode||null==B.parentNode))return;const j=document.getSelection();if(null!=j)if(null!=f){this.hasFocus()||this.root.focus({preventScroll:true});const{native:C}=this.getNativeRange()||{};if(null==C||L||f!==C.startContainer||q!==C.startOffset||B!==C.endContainer||g!==C.endOffset){f instanceof Element&&"BR"===f.tagName&&(q=Array.from(f.parentNode.childNodes).indexOf(f),f=f.parentNode),B instanceof Element&&"BR"===B.tagName&&(g=Array.from(B.parentNode.childNodes).indexOf(B),B=B.parentNode);const $=document.createRange();$.setStart(f,q),$.setEnd(B,g),j.removeAllRanges(),j.addRange($)}}else j.removeAllRanges(),this.root.blur()}setRange(f){let q=arguments.length>1&&void 0!==arguments[1]&&arguments[1],B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.A.sources.API;if("string"==typeof q&&(B=q,q=false),R.info("setRange",f),null!=f){const g=this.rangeToNative(f);this.setNativeRange(...g,q)}else this.setNativeRange(null);this.update(B)}update(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.A.sources.USER;const q=this.lastRange,[B,g]=this.getRange();if(this.lastRange=B,this.lastNative=g,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,v.A)(q,this.lastRange)){if(!this.composing&&null!=g&&g.native.collapsed&&g.start.node!==this.cursor.textNode){const j=this.cursor.restore();j&&this.setNativeRange(j.startNode,j.startOffset,j.endNode,j.endOffset)}const L=[y.A.events.SELECTION_CHANGE,(0,S.A)(this.lastRange),(0,S.A)(q),f];this.emitter.emit(y.A.events.EDITOR_CHANGE,...L),f!==y.A.sources.SILENT&&this.emitter.emit(...L)}}}},9609:function(J,_){const c=class c{constructor(S,y){bt(this,"modules",{});this.quill=S,this.options=y}init(){Object.keys(this.options.modules).forEach(S=>{null==this.modules[S]&&this.addModule(S)})}addModule(S){const y=this.quill.constructor.import(`modules/${S}`);return this.modules[S]=new y(this.quill,this.options.modules[S]||{}),this.modules[S]}};a(c,"n");bt(c,"DEFAULTS",{modules:{}});bt(c,"themes",{default:c});let n=c;_.A=n},8276:function(J,_,n){n.d(_,{Hu:a(function(){return R},"Hu"),gS:a(function(){return S},"gS"),qh:a(function(){return y},"qh")});var c=n(6003);const v={scope:c.Scope.BLOCK,whitelist:["right","center","justify"]},S=new c.Attributor("align","align",v),y=new c.ClassAttributor("align","ql-align",v),R=new c.StyleAttributor("align","text-align",v)},9541:function(J,_,n){n.d(_,{l:a(function(){return S},"l"),s:a(function(){return y},"s")});var c=n(6003),v=n(8638);const S=new c.ClassAttributor("background","ql-bg",{scope:c.Scope.INLINE}),y=new v.a2("background","background-color",{scope:c.Scope.INLINE})},9404:function(J,_,n){n.d(_,{Ay:a(function(){return f},"Ay"),Cy:a(function(){return q},"Cy"),EJ:a(function(){return m},"EJ")});var c=n(9698),v=n(3036),S=n(4541),y=n(4850),R=n(5508),p=n(580),w=n(6142);const B=class B extends p.A{static create(C){const $=super.create(C);return $.setAttribute("spellcheck","false"),$}code(C,$){return this.children.map(Z=>Z.length()<=1?"":Z.domNode.innerText).join("\n").slice(C,C+$)}html(C,$){return`<pre>
${(0,R.X)(this.code(C,$))}
</pre>`}};a(B,"u");let m=B;const g=class g extends c.Ay{static register(){w.Ay.register(m)}};a(g,"h");bt(g,"TAB","  ");let f=g;const L=class L extends y.A{};a(L,"d");let q=L;q.blotName="code",q.tagName="CODE",f.blotName="code-block",f.className="ql-code-block",f.tagName="DIV",m.blotName="code-block-container",m.className="ql-code-block-container",m.tagName="DIV",m.allowedChildren=[f],f.allowedChildren=[R.A,v.A,S.A],f.requiredContainer=m},8638:function(J,_,n){n.d(_,{JM:a(function(){return y},"JM"),a2:a(function(){return v},"a2"),g3:a(function(){return S},"g3")});var c=n(6003);const R=class R extends c.StyleAttributor{value(w){let m=super.value(w);return m.startsWith("rgb(")?(m=m.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${m.split(",").map(f=>`00${parseInt(f,10).toString(16)}`.slice(-2)).join("")}`):m}};a(R,"i");let v=R;const S=new c.ClassAttributor("color","ql-color",{scope:c.Scope.INLINE}),y=new v("color","color",{scope:c.Scope.INLINE})},7912:function(J,_,n){n.d(_,{Mc:a(function(){return S},"Mc"),VL:a(function(){return R},"VL"),sY:a(function(){return y},"sY")});var c=n(6003);const v={scope:c.Scope.BLOCK,whitelist:["rtl"]},S=new c.Attributor("direction","dir",v),y=new c.ClassAttributor("direction","ql-direction",v),R=new c.StyleAttributor("direction","direction",v)},6772:function(J,_,n){n.d(_,{q:a(function(){return S},"q"),z:a(function(){return R},"z")});var c=n(6003);const v={scope:c.Scope.INLINE,whitelist:["serif","monospace"]},S=new c.ClassAttributor("font","ql-font",v);const p=class p extends c.StyleAttributor{value(m){return super.value(m).replace(/["']/g,"")}};a(p,"o");let y=p;const R=new y("font","font-family",v)},664:function(J,_,n){n.d(_,{U:a(function(){return v},"U"),r:a(function(){return S},"r")});var c=n(6003);const v=new c.ClassAttributor("size","ql-size",{scope:c.Scope.INLINE,whitelist:["small","large","huge"]}),S=new c.StyleAttributor("size","font-size",{scope:c.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(J,_,n){n.d(_,{Ay:a(function(){return mt},"Ay"),hV:a(function(){return nt},"hV")});var c=n(6003),v=n(5232),S=n.n(v),y=n(9698),R=n(6078),p=n(4266),w=n(6142),m=n(8276),f=n(9541),q=n(9404),B=n(8638),g=n(7912),L=n(6772),j=n(664),C=n(8123);const $=/font-weight:\s*normal/,Z=["P","OL","UL"],st=a(H=>H&&Z.includes(H.tagName),"A"),A=/\bmso-list:[^;]*ignore/i,O=/\bmso-list:[^;]*\bl(\d+)/i,z=/\bmso-list:[^;]*\blevel(\d+)/i,M=[function(H){"urn:schemas-microsoft-com:office:word"===H.documentElement.getAttribute("xmlns:w")&&(U=>{var r,s;const x=Array.from(U.querySelectorAll("[style*=mso-list]")),b=[],E=[];x.forEach(u=>{(u.getAttribute("style")||"").match(A)?b.push(u):E.push(u)}),b.forEach(u=>{var N;return(N=u.parentNode)==null?void 0:N.removeChild(u)});const k=U.documentElement.innerHTML,h=E.map(u=>((N,t)=>{const e=N.getAttribute("style"),i=e==null?void 0:e.match(O);if(!i)return null;const T=Number(i[1]),D=e==null?void 0:e.match(z),Q=D?Number(D[1]):1,ot=new RegExp(`@list l${T}:level${Q}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),lt=t.match(ot);return{id:T,indent:Q,type:lt&&"bullet"===lt[1]?"bullet":"ordered",element:N}})(u,k)).filter(u=>u);for(;h.length;){const u=[];let N=h.shift();for(;N;)u.push(N),N=h.length&&((r=h[0])==null?void 0:r.element)===N.element.nextElementSibling&&h[0].id===N.id?h.shift():null;const t=document.createElement("ul");u.forEach(T=>{const D=document.createElement("li");D.setAttribute("data-list",T.type),T.indent>1&&D.setAttribute("class","ql-indent-"+(T.indent-1)),D.innerHTML=T.element.innerHTML,t.appendChild(D)});const e=(s=u[0])==null?void 0:s.element,{parentNode:i}=e??{};e&&(i==null?void 0:i.replaceChild(t,e)),u.slice(1).forEach(T=>{let{element:D}=T;i==null?void 0:i.removeChild(D)})}})(H)},function(H){H.querySelector('[id^="docs-internal-guid-"]')&&((U=>{Array.from(U.querySelectorAll('b[style*="font-weight"]')).filter(x=>{var b;return(b=x.getAttribute("style"))==null?void 0:b.match($)}).forEach(x=>{var E;const b=U.createDocumentFragment();b.append(...x.childNodes),(E=x.parentNode)==null?void 0:E.replaceChild(b,x)})})(H),(U=>{Array.from(U.querySelectorAll("br")).filter(x=>st(x.previousElementSibling)&&st(x.nextElementSibling)).forEach(x=>{var b;(b=x.parentNode)==null?void 0:b.removeChild(x)})})(H))}];const W=(0,R.A)("quill:clipboard"),tt=[[Node.TEXT_NODE,function(H,U,x){var E;let b=H.data;if("O:P"===((E=H.parentElement)==null?void 0:E.tagName))return U.insert(b.trim());if(!at(H)){if(0===b.trim().length&&b.includes("\n")&&!function(k,h){return k.previousElementSibling&&k.nextElementSibling&&!it(k.previousElementSibling,h)&&!it(k.nextElementSibling,h)}(H,x))return U;b=b.replace(/[^\S\u00a0]/g," "),b=b.replace(/ {2,}/g," "),(null==H.previousSibling&&null!=H.parentElement&&it(H.parentElement,x)||H.previousSibling instanceof Element&&it(H.previousSibling,x))&&(b=b.replace(/^ /,"")),(null==H.nextSibling&&null!=H.parentElement&&it(H.parentElement,x)||H.nextSibling instanceof Element&&it(H.nextSibling,x))&&(b=b.replace(/ $/,"")),b=b.replaceAll(""," ")}return U.insert(b)}],[Node.TEXT_NODE,ht],["br",function(H,U){return G(U,"\n")||U.insert("\n"),U}],[Node.ELEMENT_NODE,ht],[Node.ELEMENT_NODE,function(H,U,x){const b=x.query(H);if(null==b)return U;if(b.prototype instanceof c.EmbedBlot){const E={},k=b.value(H);if(null!=k)return E[b.blotName]=k,new(S())().insert(E,b.formats(H,x))}else if(b.prototype instanceof c.BlockBlot&&!G(U,"\n")&&U.insert("\n"),"blotName"in b&&"formats"in b&&"function"==typeof b.formats)return Y(U,b.blotName,b.formats(H,x),x);return U}],[Node.ELEMENT_NODE,function(H,U,x){const b=c.Attributor.keys(H),E=c.ClassAttributor.keys(H),k=c.StyleAttributor.keys(H),h={};return b.concat(E).concat(k).forEach(r=>{let s=x.query(r,c.Scope.ATTRIBUTE);null!=s&&(h[s.attrName]=s.value(H),h[s.attrName])||(s=et[r],null==s||s.attrName!==r&&s.keyName!==r||(h[s.attrName]=s.value(H)||void 0),s=dt[r],null==s||s.attrName!==r&&s.keyName!==r||(s=dt[r],h[s.attrName]=s.value(H)||void 0))}),Object.entries(h).reduce((r,s)=>{let[u,N]=s;return Y(r,u,N,x)},U)}],[Node.ELEMENT_NODE,function(H,U,x){var k;const b={},E=H.style||{};return"italic"===E.fontStyle&&(b.italic=true),"underline"===E.textDecoration&&(b.underline=true),"line-through"===E.textDecoration&&(b.strike=true),(((k=E.fontWeight)==null?void 0:k.startsWith("bold"))||parseInt(E.fontWeight,10)>=700)&&(b.bold=true),U=Object.entries(b).reduce((h,r)=>{let[s,u]=r;return Y(h,s,u,x)},U),parseFloat(E.textIndent||0)>0?new(S())().insert("	").concat(U):U}],["li",function(H,U,x){const b=x.query(H);if(null==b||"list"!==b.blotName||!G(U,"\n"))return U;let E=-1,k=H.parentNode;for(;null!=k;)["OL","UL"].includes(k.tagName)&&(E+=1),k=k.parentNode;return E<=0?U:U.reduce((h,r)=>r.insert?r.attributes&&"number"==typeof r.attributes.indent?h.push(r):h.insert(r.insert,{indent:E,...r.attributes||{}}):h,new(S()))}],["ol, ul",function(H,U,x){const b=H;let E="OL"===b.tagName?"ordered":"bullet";const k=b.getAttribute("data-checked");return k&&(E="true"===k?"checked":"unchecked"),Y(U,"list",E,x)}],["pre",function(H,U,x){const b=x.query("code-block");return Y(U,"code-block",!b||!("formats"in b)||"function"!=typeof b.formats||b.formats(H,x),x)}],["tr",function(H,U,x){var E,k;const b="TABLE"===((E=H.parentElement)==null?void 0:E.tagName)?H.parentElement:(k=H.parentElement)==null?void 0:k.parentElement;return null!=b?Y(U,"table",Array.from(b.querySelectorAll("tr")).indexOf(H)+1,x):U}],["b",ct("bold")],["i",ct("italic")],["strike",ct("strike")],["style",function(){return new(S())}]],et=[m.gS,g.Mc].reduce((H,U)=>(H[U.keyName]=U,H),{}),dt=[m.Hu,f.s,B.JM,g.VL,L.z,j.r].reduce((H,U)=>(H[U.keyName]=U,H),{});const pt=class pt extends p.A{constructor(U,x){super(U,x),this.quill.root.addEventListener("copy",b=>this.onCaptureCopy(b,false)),this.quill.root.addEventListener("cut",b=>this.onCaptureCopy(b,true)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],tt.concat(this.options.matchers??[]).forEach(b=>{let[E,k]=b;this.addMatcher(E,k)})}addMatcher(U,x){this.matchers.push([U,x])}convert(U){let{html:x,text:b}=U,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(E[q.Ay.blotName])return new(S())().insert(b||"",{[q.Ay.blotName]:E[q.Ay.blotName]});if(!x)return new(S())().insert(b||"",E);const k=this.convertHTML(x);return G(k,"\n")&&(null==k.ops[k.ops.length-1].attributes||E.table)?k.compose(new(S())().retain(k.length()-1).delete(1)):k}normalizeHTML(U){(x=>{x.documentElement&&M.forEach(b=>{b(x)})})(U)}convertHTML(U){const x=new DOMParser().parseFromString(U,"text/html");this.normalizeHTML(x);const b=x.body,E=new WeakMap,[k,h]=this.prepareMatching(b,E);return nt(this.quill.scroll,b,k,h,E)}dangerouslyPasteHTML(U,x){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.Ay.sources.API;if("string"==typeof U){const E=this.convert({html:U,text:""});this.quill.setContents(E,x),this.quill.setSelection(0,w.Ay.sources.SILENT)}else{const E=this.convert({html:x,text:""});this.quill.updateContents(new(S())().retain(U).concat(E),b),this.quill.setSelection(U+E.length(),w.Ay.sources.SILENT)}}onCaptureCopy(U){var h,r;let x=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(U.defaultPrevented)return;U.preventDefault();const[b]=this.quill.selection.getRange();if(null==b)return;const{html:E,text:k}=this.onCopy(b,x);(h=U.clipboardData)==null?void 0:h.setData("text/plain",k),(r=U.clipboardData)==null?void 0:r.setData("text/html",E),x&&(0,C.Xo)({range:b,quill:this.quill})}normalizeURIList(U){return U.split(/\r?\n/).filter(x=>"#"!==x[0]).join("\n")}onCapturePaste(U){var h,r,s,u,N;if(U.defaultPrevented||!this.quill.isEnabled())return;U.preventDefault();const x=this.quill.getSelection(true);if(null==x)return;const b=(h=U.clipboardData)==null?void 0:h.getData("text/html");let E=(r=U.clipboardData)==null?void 0:r.getData("text/plain");if(!b&&!E){const t=(s=U.clipboardData)==null?void 0:s.getData("text/uri-list");t&&(E=this.normalizeURIList(t))}const k=Array.from(((u=U.clipboardData)==null?void 0:u.files)||[]);if(!b&&k.length>0)this.quill.uploader.upload(x,k);else{if(b&&k.length>0){const t=new DOMParser().parseFromString(b,"text/html");if(1===t.body.childElementCount&&"IMG"===((N=t.body.firstElementChild)==null?void 0:N.tagName))return void this.quill.uploader.upload(x,k)}this.onPaste(x,{html:b,text:E})}}onCopy(U){const x=this.quill.getText(U);return{html:this.quill.getSemanticHTML(U),text:x}}onPaste(U,x){let{text:b,html:E}=x;const k=this.quill.getFormat(U.index),h=this.convert({text:b,html:E},k);W.log("onPaste",h,{text:b,html:E});const r=new(S())().retain(U.index).delete(U.length).concat(h);this.quill.updateContents(r,w.Ay.sources.USER),this.quill.setSelection(r.length()-U.length,w.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(U,x){const b=[],E=[];return this.matchers.forEach(k=>{const[h,r]=k;switch(h){case Node.TEXT_NODE:E.push(r);break;case Node.ELEMENT_NODE:b.push(r);break;default:Array.from(U.querySelectorAll(h)).forEach(s=>{if(x.has(s)){const u=x.get(s);u==null?void 0:u.push(r)}else x.set(s,[r])})}}),[b,E]}};a(pt,"S");bt(pt,"DEFAULTS",{matchers:[]});let mt=pt;function Y(H,U,x,b){return b.query(U)?H.reduce((E,k)=>{if(!k.insert)return E;if(k.attributes&&k.attributes[U])return E.push(k);const h=x?{[U]:x}:{};return E.insert(k.insert,{...h,...k.attributes})},new(S())):H}a(Y,"O");function G(H,U){let x="";for(let b=H.ops.length-1;b>=0&&x.length<U.length;--b){const E=H.ops[b];if("string"!=typeof E.insert)break;x=E.insert+x}return x.slice(-1*U.length)===U}a(G,"T");function it(H,U){if(!(H instanceof Element))return false;const x=U.query(H);return!(x&&x.prototype instanceof c.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(H.tagName.toLowerCase())}a(it,"j");const rt=new WeakMap;function at(H){return null!=H&&(rt.has(H)||("PRE"===H.tagName?rt.set(H,true):rt.set(H,at(H.parentNode))),rt.get(H))}a(at,"R");function nt(H,U,x,b,E){return U.nodeType===U.TEXT_NODE?b.reduce((k,h)=>h(U,k,H),new(S())):U.nodeType===U.ELEMENT_NODE?Array.from(U.childNodes||[]).reduce((k,h)=>{let r=nt(H,h,x,b,E);return h.nodeType===U.ELEMENT_NODE&&(r=x.reduce((s,u)=>u(h,s,H),r),r=(E.get(h)||[]).reduce((s,u)=>u(h,s,H),r)),k.concat(r)},new(S())):new(S())}a(nt,"I");function ct(H){return(U,x,b)=>Y(x,H,true,b)}a(ct,"B");function ht(H,U,x){if(!G(U,"\n")){if(it(H,x)&&(H.childNodes.length>0||H instanceof HTMLParagraphElement))return U.insert("\n");if(U.length()>0&&H.nextSibling){let b=H.nextSibling;for(;null!=b;){if(it(b,x))return U.insert("\n");const E=x.query(b);if(E&&E.prototype instanceof y.zo)return U.insert("\n");b=b.firstChild}}}return U}a(ht,"M")},8123:function(J,_,n){n.d(_,{Ay:a(function(){return B},"Ay"),Xo:a(function(){return Z},"Xo")});var c=n(5123),v=n(3707),S=n(5232),y=n.n(S),R=n(6003),p=n(6142),w=n(6078),m=n(4266);const f=(0,w.A)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";const st=class st extends m.A{static match(O,z){return!["altKey","ctrlKey","metaKey","shiftKey"].some(M=>!!z[M]!==O[M]&&null!==z[M])&&(z.key===O.key||z.key===O.which)}constructor(O,z){super(O,z),this.bindings={},Object.keys(this.options.bindings).forEach(M=>{this.options.bindings[M]&&this.addBinding(this.options.bindings[M])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:true},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:true},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:true,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:true,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:false},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:false},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:true,offset:0},this.handleBackspace),this.listen()}addBinding(O){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const W=function(tt){if("string"==typeof tt||"number"==typeof tt)tt={key:tt};else{if("object"!=typeof tt)return null;tt=(0,v.A)(tt)}return tt.shortKey&&(tt[q]=tt.shortKey,delete tt.shortKey),tt}(O);null!=W?("function"==typeof z&&(z={handler:z}),"function"==typeof M&&(M={handler:M}),(Array.isArray(W.key)?W.key:[W.key]).forEach(tt=>{const et={...W,key:tt,...z,...M};this.bindings[et.key]=this.bindings[et.key]||[],this.bindings[et.key].push(et)})):f.warn("Attempted to add invalid keyboard binding",W)}listen(){this.quill.root.addEventListener("keydown",O=>{if(O.defaultPrevented||O.isComposing)return;if(229===O.keyCode&&("Enter"===O.key||"Backspace"===O.key))return;const z=(this.bindings[O.key]||[]).concat(this.bindings[O.which]||[]).filter(nt=>st.match(O,nt));if(0===z.length)return;const M=p.Ay.find(O.target,true);if(M&&M.scroll!==this.quill.scroll)return;const W=this.quill.getSelection();if(null==W||!this.quill.hasFocus())return;const[tt,et]=this.quill.getLine(W.index),[dt,mt]=this.quill.getLeaf(W.index),[Y,G]=0===W.length?[dt,mt]:this.quill.getLeaf(W.index+W.length),it=dt instanceof R.TextBlot?dt.value().slice(0,mt):"",rt=Y instanceof R.TextBlot?Y.value().slice(G):"",at={collapsed:0===W.length,empty:0===W.length&&tt.length()<=1,format:this.quill.getFormat(W),line:tt,offset:et,prefix:it,suffix:rt,event:O};z.some(nt=>{if(null!=nt.collapsed&&nt.collapsed!==at.collapsed)return false;if(null!=nt.empty&&nt.empty!==at.empty)return false;if(null!=nt.offset&&nt.offset!==at.offset)return false;if(Array.isArray(nt.format)){if(nt.format.every(ct=>null==at.format[ct]))return false}else if("object"==typeof nt.format&&!Object.keys(nt.format).every(ct=>true===nt.format[ct]?null!=at.format[ct]:false===nt.format[ct]?null==at.format[ct]:(0,c.A)(nt.format[ct],at.format[ct])))return false;return!(null!=nt.prefix&&!nt.prefix.test(at.prefix)||null!=nt.suffix&&!nt.suffix.test(at.suffix)||true===nt.handler.call(this,W,at,nt))})&&O.preventDefault()})}handleBackspace(O,z){const M=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;if(0===O.index||this.quill.getLength()<=1)return;let W={};const[tt]=this.quill.getLine(O.index);let et=new(y())().retain(O.index-M).delete(M);if(0===z.offset){const[dt]=this.quill.getLine(O.index-1);if(dt&&!("block"===dt.statics.blotName&&dt.length()<=1)){const mt=tt.formats(),Y=this.quill.getFormat(O.index-1,1);if(W=S.AttributeMap.diff(mt,Y)||{},Object.keys(W).length>0){const G=new(y())().retain(O.index+tt.length()-2).retain(1,W);et=et.compose(G)}}}this.quill.updateContents(et,p.Ay.sources.USER),this.quill.focus()}handleDelete(O,z){const M=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(O.index>=this.quill.getLength()-M)return;let W={};const[tt]=this.quill.getLine(O.index);let et=new(y())().retain(O.index).delete(M);if(z.offset>=tt.length()-1){const[dt]=this.quill.getLine(O.index+1);if(dt){const mt=tt.formats(),Y=this.quill.getFormat(O.index,1);W=S.AttributeMap.diff(mt,Y)||{},Object.keys(W).length>0&&(et=et.retain(dt.length()-1).retain(1,W))}}this.quill.updateContents(et,p.Ay.sources.USER),this.quill.focus()}handleDeleteRange(O){Z({range:O,quill:this.quill}),this.quill.focus()}handleEnter(O,z){const M=Object.keys(z.format).reduce((tt,et)=>(this.quill.scroll.query(et,R.Scope.BLOCK)&&!Array.isArray(z.format[et])&&(tt[et]=z.format[et]),tt),{}),W=new(y())().retain(O.index).delete(O.length).insert("\n",M);this.quill.updateContents(W,p.Ay.sources.USER),this.quill.setSelection(O.index+1,p.Ay.sources.SILENT),this.quill.focus()}};a(st,"f");let B=st;const g={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(A,O){return!(!O.collapsed||0===O.offset)||(this.quill.format("indent","+1",p.Ay.sources.USER),false)}},outdent:{key:"Tab",shiftKey:true,format:["blockquote","indent","list"],handler(A,O){return!(!O.collapsed||0===O.offset)||(this.quill.format("indent","-1",p.Ay.sources.USER),false)}},"outdent backspace":{key:"Backspace",collapsed:true,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(A,O){null!=O.format.indent?this.quill.format("indent","-1",p.Ay.sources.USER):null!=O.format.list&&this.quill.format("list",false,p.Ay.sources.USER)}},"indent code-block":L(true),"outdent code-block":L(false),"remove tab":{key:"Tab",shiftKey:true,collapsed:true,prefix:/\t$/,handler(A){this.quill.deleteText(A.index-1,1,p.Ay.sources.USER)}},tab:{key:"Tab",handler(A,O){if(O.format.table)return true;this.quill.history.cutoff();const z=new(y())().retain(A.index).delete(A.length).insert("	");return this.quill.updateContents(z,p.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(A.index+1,p.Ay.sources.SILENT),false}},"blockquote empty enter":{key:"Enter",collapsed:true,format:["blockquote"],empty:true,handler(){this.quill.format("blockquote",false,p.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:true,format:["list"],empty:true,handler(A,O){const z={list:false};O.format.indent&&(z.indent=false),this.quill.formatLine(A.index,A.length,z,p.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:true,format:{list:"checked"},handler(A){const[O,z]=this.quill.getLine(A.index),M={...O.formats(),list:"checked"},W=new(y())().retain(A.index).insert("\n",M).retain(O.length()-z-1).retain(1,{list:"unchecked"});this.quill.updateContents(W,p.Ay.sources.USER),this.quill.setSelection(A.index+1,p.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:true,format:["header"],suffix:/^$/,handler(A,O){const[z,M]=this.quill.getLine(A.index),W=new(y())().retain(A.index).insert("\n",O.format).retain(z.length()-M-1).retain(1,{header:null});this.quill.updateContents(W,p.Ay.sources.USER),this.quill.setSelection(A.index+1,p.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:true,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:true,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(A){const O=this.quill.getModule("table");if(O){const[z,M,W,tt]=O.getTable(A),et=function(mt,Y,G,it){return null==Y.prev&&null==Y.next?null==G.prev&&null==G.next?0===it?-1:1:null==G.prev?-1:1:null==Y.prev?-1:null==Y.next?1:null}(0,M,W,tt);if(null==et)return;let dt=z.offset();if(et<0){const mt=new(y())().retain(dt).insert("\n");this.quill.updateContents(mt,p.Ay.sources.USER),this.quill.setSelection(A.index+1,A.length,p.Ay.sources.SILENT)}else if(et>0){dt+=z.length();const mt=new(y())().retain(dt).insert("\n");this.quill.updateContents(mt,p.Ay.sources.USER),this.quill.setSelection(dt,p.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(A,O){const{event:z,line:M}=O,W=M.offset(this.quill.scroll);z.shiftKey?this.quill.setSelection(W-1,p.Ay.sources.USER):this.quill.setSelection(W+M.length(),p.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:true,format:{"code-block":false,blockquote:false,table:false},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(A,O){if(null==this.quill.scroll.query("list"))return true;const{length:z}=O.prefix,[M,W]=this.quill.getLine(A.index);if(W>z)return true;let tt;switch(O.prefix.trim()){case"[]":case"[ ]":tt="unchecked";break;case"[x]":tt="checked";break;case"-":case"*":tt="bullet";break;default:tt="ordered"}this.quill.insertText(A.index," ",p.Ay.sources.USER),this.quill.history.cutoff();const et=new(y())().retain(A.index-W).delete(z+1).retain(M.length()-2-W).retain(1,{list:tt});return this.quill.updateContents(et,p.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(A.index-z,p.Ay.sources.SILENT),false}},"code exit":{key:"Enter",collapsed:true,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(A){const[O,z]=this.quill.getLine(A.index);let M=2,W=O;for(;null!=W&&W.length()<=1&&W.formats()["code-block"];)if(W=W.prev,M-=1,M<=0){const tt=new(y())().retain(A.index+O.length()-z-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(tt,p.Ay.sources.USER),this.quill.setSelection(A.index-1,p.Ay.sources.SILENT),false}return true}},"embed left":j("ArrowLeft",false),"embed left shift":j("ArrowLeft",true),"embed right":j("ArrowRight",false),"embed right shift":j("ArrowRight",true),"table down":$(false),"table up":$(true)}};function L(A){return{key:"Tab",shiftKey:!A,format:{"code-block":true},handler(O,z){let{event:M}=z;const W=this.quill.scroll.query("code-block"),{TAB:tt}=W;if(0===O.length&&!M.shiftKey)return this.quill.insertText(O.index,tt,p.Ay.sources.USER),void this.quill.setSelection(O.index+tt.length,p.Ay.sources.SILENT);const et=0===O.length?this.quill.getLines(O.index,1):this.quill.getLines(O);let{index:dt,length:mt}=O;et.forEach((Y,G)=>{A?(Y.insertAt(0,tt),0===G?dt+=tt.length:mt+=tt.length):Y.domNode.textContent.startsWith(tt)&&(Y.deleteAt(0,tt.length),0===G?dt-=tt.length:mt-=tt.length)}),this.quill.update(p.Ay.sources.USER),this.quill.setSelection(dt,mt,p.Ay.sources.SILENT)}}}a(L,"g");function j(A,O){return{key:A,shiftKey:O,altKey:null,["ArrowLeft"===A?"prefix":"suffix"]:/^$/,handler(z){let{index:M}=z;"ArrowRight"===A&&(M+=z.length+1);const[W]=this.quill.getLeaf(M);return!(W instanceof R.EmbedBlot&&("ArrowLeft"===A?O?this.quill.setSelection(z.index-1,z.length+1,p.Ay.sources.USER):this.quill.setSelection(z.index-1,p.Ay.sources.USER):O?this.quill.setSelection(z.index,z.length+1,p.Ay.sources.USER):this.quill.setSelection(z.index+z.length+1,p.Ay.sources.USER),1))}}}a(j,"m");function C(A){return{key:A[0],shortKey:true,handler(O,z){this.quill.format(A,!z.format[A],p.Ay.sources.USER)}}}a(C,"b");function $(A){return{key:A?"ArrowUp":"ArrowDown",collapsed:true,format:["table"],handler(O,z){const M=A?"prev":"next",W=z.line,tt=W.parent[M];if(null!=tt){if("table-row"===tt.statics.blotName){let et=tt.children.head,dt=W;for(;null!=dt.prev;)dt=dt.prev,et=et.next;const mt=et.offset(this.quill.scroll)+Math.min(z.offset,et.length()-1);this.quill.setSelection(mt,0,p.Ay.sources.USER)}}else{const et=W.table()[M];null!=et&&(A?this.quill.setSelection(et.offset(this.quill.scroll)+et.length()-1,0,p.Ay.sources.USER):this.quill.setSelection(et.offset(this.quill.scroll),0,p.Ay.sources.USER))}return false}}}a($,"y");function Z(A){let{quill:O,range:z}=A;const M=O.getLines(z);let W={};if(M.length>1){const tt=M[0].formats(),et=M[M.length-1].formats();W=S.AttributeMap.diff(et,tt)||{}}O.deleteText(z,p.Ay.sources.USER),Object.keys(W).length>0&&O.formatLine(z.index,1,W,p.Ay.sources.USER),O.setSelection(z.index,p.Ay.sources.SILENT)}a(Z,"v");B.DEFAULTS=g},8920:function(J){var _=Object.prototype.hasOwnProperty,n="~";function c(){}a(c,"r");function v(p,w,m){this.fn=p,this.context=w,this.once=m||false}a(v,"i");function S(p,w,m,f,q){if("function"!=typeof m)throw new TypeError("The listener must be a function");var B=new v(m,f||p,q),g=n?n+w:w;return p._events[g]?p._events[g].fn?p._events[g]=[p._events[g],B]:p._events[g].push(B):(p._events[g]=B,p._eventsCount++),p}a(S,"s");function y(p,w){0==--p._eventsCount?p._events=new c:delete p._events[w]}a(y,"o");function R(){this._events=new c,this._eventsCount=0}a(R,"l");Object.create&&(c.prototype=Object.create(null),new c().__proto__||(n=false)),R.prototype.eventNames=function(){var p,w,m=[];if(0===this._eventsCount)return m;for(w in p=this._events)_.call(p,w)&&m.push(n?w.slice(1):w);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},R.prototype.listeners=function(p){var w=n?n+p:p,m=this._events[w];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,q=m.length,B=new Array(q);f<q;f++)B[f]=m[f].fn;return B},R.prototype.listenerCount=function(p){var w=n?n+p:p,m=this._events[w];return m?m.fn?1:m.length:0},R.prototype.emit=function(p,w,m,f,q,B){var g=n?n+p:p;if(!this._events[g])return false;var L,j,C=this._events[g],$=arguments.length;if(C.fn){switch(C.once&&this.removeListener(p,C.fn,void 0,true),$){case 1:return C.fn.call(C.context),true;case 2:return C.fn.call(C.context,w),true;case 3:return C.fn.call(C.context,w,m),true;case 4:return C.fn.call(C.context,w,m,f),true;case 5:return C.fn.call(C.context,w,m,f,q),true;case 6:return C.fn.call(C.context,w,m,f,q,B),true}for(j=1,L=new Array($-1);j<$;j++)L[j-1]=arguments[j];C.fn.apply(C.context,L)}else{var Z,st=C.length;for(j=0;j<st;j++)switch(C[j].once&&this.removeListener(p,C[j].fn,void 0,true),$){case 1:C[j].fn.call(C[j].context);break;case 2:C[j].fn.call(C[j].context,w);break;case 3:C[j].fn.call(C[j].context,w,m);break;case 4:C[j].fn.call(C[j].context,w,m,f);break;default:if(!L)for(Z=1,L=new Array($-1);Z<$;Z++)L[Z-1]=arguments[Z];C[j].fn.apply(C[j].context,L)}}return true},R.prototype.on=function(p,w,m){return S(this,p,w,m,false)},R.prototype.once=function(p,w,m){return S(this,p,w,m,true)},R.prototype.removeListener=function(p,w,m,f){var q=n?n+p:p;if(!this._events[q])return this;if(!w)return y(this,q),this;var B=this._events[q];if(B.fn)B.fn!==w||f&&!B.once||m&&B.context!==m||y(this,q);else{for(var g=0,L=[],j=B.length;g<j;g++)(B[g].fn!==w||f&&!B[g].once||m&&B[g].context!==m)&&L.push(B[g]);L.length?this._events[q]=1===L.length?L[0]:L:y(this,q)}return this},R.prototype.removeAllListeners=function(p){var w;return p?(w=n?n+p:p,this._events[w]&&y(this,w)):(this._events=new c,this._eventsCount=0),this},R.prototype.off=R.prototype.removeListener,R.prototype.addListener=R.prototype.on,R.prefixed=n,R.EventEmitter=R,J.exports=R},5090:function(J){var _=-1,n=1,c=0;function v(A,O,z,M,W){if(A===O)return A?[[c,A]]:[];if(null!=z){var tt=function(G,it,rt){var at="number"==typeof rt?{index:rt,length:0}:rt.oldRange,nt="number"==typeof rt?null:rt.newRange,ct=G.length,ht=it.length;if(0===at.length&&(null===nt||0===nt.length)){var pt=at.index,H=G.slice(0,pt),U=G.slice(pt),x=nt?nt.index:null,b=pt+ht-ct;if((null===x||x===b)&&!(b<0||b>ht)){var E=it.slice(0,b);if((r=it.slice(b))===U){var k=Math.min(pt,b);if((u=H.slice(0,k))===(t=E.slice(0,k)))return Z(u,H.slice(k),E.slice(k),U)}}if(null===x||x===pt){var h=pt,r=(E=it.slice(0,h),it.slice(h));if(E===H){var s=Math.min(ct-h,ht-h);if((N=U.slice(U.length-s))===(e=r.slice(r.length-s)))return Z(H,U.slice(0,U.length-s),r.slice(0,r.length-s),N)}}}if(at.length>0&&nt&&0===nt.length){var u=G.slice(0,at.index),N=G.slice(at.index+at.length);if(!(ht<(k=u.length)+(s=N.length))){var t=it.slice(0,k),e=it.slice(ht-s);if(u===t&&N===e)return Z(u,G.slice(k,ct-s),it.slice(k,ht-s),N)}}return null}(A,O,z);if(tt)return tt}var et=y(A,O),dt=A.substring(0,et);et=p(A=A.substring(et),O=O.substring(et));var mt=A.substring(A.length-et),Y=function(G,it){var rt;if(!G)return[[n,it]];if(!it)return[[_,G]];var at=G.length>it.length?G:it,nt=G.length>it.length?it:G,ct=at.indexOf(nt);if(-1!==ct)return rt=[[n,at.substring(0,ct)],[c,nt],[n,at.substring(ct+nt.length)]],G.length>it.length&&(rt[0][0]=rt[2][0]=_),rt;if(1===nt.length)return[[_,G],[n,it]];var ht=function(h,r){var s=h.length>r.length?h:r,u=h.length>r.length?r:h;if(s.length<4||2*u.length<s.length)return null;function N(lt,ft,Et){for(var wt,At,jt,Tt,It=lt.substring(Et,Et+Math.floor(lt.length/4)),Lt=-1,_t="";-1!==(Lt=ft.indexOf(It,Lt+1));){var Bt=y(lt.substring(Et),ft.substring(Lt)),Ut=p(lt.substring(0,Et),ft.substring(0,Lt));_t.length<Ut+Bt&&(_t=ft.substring(Lt-Ut,Lt)+ft.substring(Lt,Lt+Bt),wt=lt.substring(0,Et-Ut),At=lt.substring(Et+Bt),jt=ft.substring(0,Lt-Ut),Tt=ft.substring(Lt+Bt))}return 2*_t.length>=lt.length?[wt,At,jt,Tt,_t]:null}a(N,"i");var t,e,i,T,D,Q=N(s,u,Math.ceil(s.length/4)),ot=N(s,u,Math.ceil(s.length/2));return Q||ot?(t=ot?Q&&Q[4].length>ot[4].length?Q:ot:Q,h.length>r.length?(e=t[0],i=t[1],T=t[2],D=t[3]):(T=t[0],D=t[1],e=t[2],i=t[3]),[e,i,T,D,t[4]]):null}(G,it);if(ht){var pt=ht[0],H=ht[1],U=ht[2],x=ht[3],b=ht[4],E=v(pt,U),k=v(H,x);return E.concat([[c,b]],k)}return function(h,r){for(var s=h.length,u=r.length,N=Math.ceil((s+u)/2),t=N,e=2*N,i=new Array(e),T=new Array(e),D=0;D<e;D++)i[D]=-1,T[D]=-1;i[t+1]=0,T[t+1]=0;for(var Q=s-u,ot=Q%2!=0,lt=0,ft=0,Et=0,wt=0,At=0;At<N;At++){for(var jt=-At+lt;jt<=At-ft;jt+=2){for(var Tt=t+jt,It=(Ct=jt===-At||jt!==At&&i[Tt-1]<i[Tt+1]?i[Tt+1]:i[Tt-1]+1)-jt;Ct<s&&It<u&&h.charAt(Ct)===r.charAt(It);)Ct++,It++;if(i[Tt]=Ct,Ct>s)ft+=2;else if(It>u)lt+=2;else if(ot&&(Bt=t+Q-jt)>=0&&Bt<e&&-1!==T[Bt]&&Ct>=(_t=s-T[Bt]))return S(h,r,Ct,It)}for(var Lt=-At+Et;Lt<=At-wt;Lt+=2){for(var _t,Bt=t+Lt,Ut=(_t=Lt===-At||Lt!==At&&T[Bt-1]<T[Bt+1]?T[Bt+1]:T[Bt-1]+1)-Lt;_t<s&&Ut<u&&h.charAt(s-_t-1)===r.charAt(u-Ut-1);)_t++,Ut++;if(T[Bt]=_t,_t>s)wt+=2;else if(Ut>u)Et+=2;else if(!ot){var Ct;if((Tt=t+Q-Lt)>=0&&Tt<e&&-1!==i[Tt]){if(It=t+(Ct=i[Tt])-Tt,Ct>=(_t=s-_t))return S(h,r,Ct,It)}}}}return[[_,h],[n,r]]}(G,it)}(A=A.substring(0,A.length-et),O=O.substring(0,O.length-et));return dt&&Y.unshift([c,dt]),mt&&Y.push([c,mt]),g(Y,W),M&&function(G){for(var it=false,rt=[],at=0,nt=null,ct=0,ht=0,pt=0,H=0,U=0;ct<G.length;)G[ct][0]==c?(rt[at++]=ct,ht=H,pt=U,H=0,U=0,nt=G[ct][1]):(G[ct][0]==n?H+=G[ct][1].length:U+=G[ct][1].length,nt&&nt.length<=Math.max(ht,pt)&&nt.length<=Math.max(H,U)&&(G.splice(rt[at-1],0,[_,nt]),G[rt[at-1]+1][0]=n,at--,ct=--at>0?rt[at-1]:-1,ht=0,pt=0,H=0,U=0,nt=null,it=true)),ct++;for(it&&g(G),function(h){function r(ft,Et){if(!ft||!Et)return 6;var wt=ft.charAt(ft.length-1),At=Et.charAt(0),jt=wt.match(w),Tt=At.match(w),It=jt&&wt.match(m),Lt=Tt&&At.match(m),_t=It&&wt.match(f),Bt=Lt&&At.match(f),Ut=_t&&ft.match(q),Ct=Bt&&Et.match(B);return Ut||Ct?5:_t||Bt?4:jt&&!It&&Lt?3:It||Lt?2:jt||Tt?1:0}a(r,"e");for(var s=1;s<h.length-1;){if(h[s-1][0]==c&&h[s+1][0]==c){var u=h[s-1][1],N=h[s][1],t=h[s+1][1],e=p(u,N);if(e){var i=N.substring(N.length-e);u=u.substring(0,u.length-e),N=i+N.substring(0,N.length-e),t=i+t}for(var T=u,D=N,Q=t,ot=r(u,N)+r(N,t);N.charAt(0)===t.charAt(0);){u+=N.charAt(0),N=N.substring(1)+t.charAt(0),t=t.substring(1);var lt=r(u,N)+r(N,t);lt>=ot&&(ot=lt,T=u,D=N,Q=t)}h[s-1][1]!=T&&(T?h[s-1][1]=T:(h.splice(s-1,1),s--),h[s][1]=D,Q?h[s+1][1]=Q:(h.splice(s+1,1),s--))}s++}}(G),ct=1;ct<G.length;){if(G[ct-1][0]==_&&G[ct][0]==n){var x=G[ct-1][1],b=G[ct][1],E=R(x,b),k=R(b,x);E>=k?(E>=x.length/2||E>=b.length/2)&&(G.splice(ct,0,[c,b.substring(0,E)]),G[ct-1][1]=x.substring(0,x.length-E),G[ct+1][1]=b.substring(E),ct++):(k>=x.length/2||k>=b.length/2)&&(G.splice(ct,0,[c,x.substring(0,k)]),G[ct-1][0]=n,G[ct-1][1]=b.substring(0,b.length-k),G[ct+1][0]=_,G[ct+1][1]=x.substring(k),ct++),ct++}ct++}}(Y),Y}a(v,"i");function S(A,O,z,M){var W=A.substring(0,z),tt=O.substring(0,M),et=A.substring(z),dt=O.substring(M),mt=v(W,tt),Y=v(et,dt);return mt.concat(Y)}a(S,"s");function y(A,O){if(!A||!O||A.charAt(0)!==O.charAt(0))return 0;for(var z=0,M=Math.min(A.length,O.length),W=M,tt=0;z<W;)A.substring(tt,W)==O.substring(tt,W)?tt=z=W:M=W,W=Math.floor((M-z)/2+z);return L(A.charCodeAt(W-1))&&W--,W}a(y,"o");function R(A,O){var z=A.length,M=O.length;if(0==z||0==M)return 0;z>M?A=A.substring(z-M):z<M&&(O=O.substring(0,z));var W=Math.min(z,M);if(A==O)return W;for(var tt=0,et=1;;){var dt=A.substring(W-et),mt=O.indexOf(dt);if(-1==mt)return tt;et+=mt,0!=mt&&A.substring(W-et)!=O.substring(0,et)||(tt=et,et++)}}a(R,"l");function p(A,O){if(!A||!O||A.slice(-1)!==O.slice(-1))return 0;for(var z=0,M=Math.min(A.length,O.length),W=M,tt=0;z<W;)A.substring(A.length-W,A.length-tt)==O.substring(O.length-W,O.length-tt)?tt=z=W:M=W,W=Math.floor((M-z)/2+z);return j(A.charCodeAt(A.length-W))&&W--,W}a(p,"a");var w=/[^a-zA-Z0-9]/,m=/\s/,f=/[\r\n]/,q=/\n\r?\n$/,B=/^\r?\n\r?\n/;function g(A,O){A.push([c,""]);for(var z,M=0,W=0,tt=0,et="",dt="";M<A.length;)if(M<A.length-1&&!A[M][1])A.splice(M,1);else switch(A[M][0]){case n:tt++,dt+=A[M][1],M++;break;case _:W++,et+=A[M][1],M++;break;case c:var mt=M-tt-W-1;if(O){if(mt>=0&&$(A[mt][1])){var Y=A[mt][1].slice(-1);if(A[mt][1]=A[mt][1].slice(0,-1),et=Y+et,dt=Y+dt,!A[mt][1]){A.splice(mt,1),M--;var G=mt-1;A[G]&&A[G][0]===n&&(tt++,dt=A[G][1]+dt,G--),A[G]&&A[G][0]===_&&(W++,et=A[G][1]+et,G--),mt=G}}C(A[M][1])&&(Y=A[M][1].charAt(0),A[M][1]=A[M][1].slice(1),et+=Y,dt+=Y)}if(M<A.length-1&&!A[M][1]){A.splice(M,1);break}if(et.length>0||dt.length>0){et.length>0&&dt.length>0&&(0!==(z=y(dt,et))&&(mt>=0?A[mt][1]+=dt.substring(0,z):(A.splice(0,0,[c,dt.substring(0,z)]),M++),dt=dt.substring(z),et=et.substring(z)),0!==(z=p(dt,et))&&(A[M][1]=dt.substring(dt.length-z)+A[M][1],dt=dt.substring(0,dt.length-z),et=et.substring(0,et.length-z)));var it=tt+W;0===et.length&&0===dt.length?(A.splice(M-it,it),M-=it):0===et.length?(A.splice(M-it,it,[n,dt]),M=M-it+1):0===dt.length?(A.splice(M-it,it,[_,et]),M=M-it+1):(A.splice(M-it,it,[_,et],[n,dt]),M=M-it+2)}0!==M&&A[M-1][0]===c?(A[M-1][1]+=A[M][1],A.splice(M,1)):M++,tt=0,W=0,et="",dt=""}""===A[A.length-1][1]&&A.pop();var rt=false;for(M=1;M<A.length-1;)A[M-1][0]===c&&A[M+1][0]===c&&(A[M][1].substring(A[M][1].length-A[M-1][1].length)===A[M-1][1]?(A[M][1]=A[M-1][1]+A[M][1].substring(0,A[M][1].length-A[M-1][1].length),A[M+1][1]=A[M-1][1]+A[M+1][1],A.splice(M-1,1),rt=true):A[M][1].substring(0,A[M+1][1].length)==A[M+1][1]&&(A[M-1][1]+=A[M+1][1],A[M][1]=A[M][1].substring(A[M+1][1].length)+A[M+1][1],A.splice(M+1,1),rt=true)),M++;rt&&g(A,O)}a(g,"p");function L(A){return A>=55296&&A<=56319}a(L,"g");function j(A){return A>=56320&&A<=57343}a(j,"m");function C(A){return j(A.charCodeAt(0))}a(C,"b");function $(A){return L(A.charCodeAt(A.length-1))}a($,"y");function Z(A,O,z,M){return $(A)||C(M)?null:function(W){for(var tt=[],et=0;et<W.length;et++)W[et][1].length>0&&tt.push(W[et]);return tt}([[c,A],[_,O],[n,z],[c,M]])}a(Z,"v");function st(A,O,z,M){return v(A,O,z,M,true)}a(st,"A");st.INSERT=n,st.DELETE=_,st.EQUAL=c,J.exports=st},9629:function(J,_,n){J=n.nmd(J);var c="__lodash_hash_undefined__",v=9007199254740991,S="[object Arguments]",y="[object Boolean]",R="[object Date]",p="[object Function]",w="[object GeneratorFunction]",m="[object Map]",f="[object Number]",q="[object Object]",B="[object Promise]",g="[object RegExp]",L="[object Set]",j="[object String]",C="[object Symbol]",$="[object WeakMap]",Z="[object ArrayBuffer]",st="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",z="[object Int8Array]",M="[object Int16Array]",W="[object Int32Array]",tt="[object Uint8Array]",et="[object Uint8ClampedArray]",dt="[object Uint16Array]",mt="[object Uint32Array]",Y=/\w*$/,G=/^\[object .+?Constructor\]$/,it=/^(?:0|[1-9]\d*)$/,rt={};rt[S]=rt["[object Array]"]=rt[Z]=rt[st]=rt[y]=rt[R]=rt[A]=rt[O]=rt[z]=rt[M]=rt[W]=rt[m]=rt[f]=rt[q]=rt[g]=rt[L]=rt[j]=rt[C]=rt[tt]=rt[et]=rt[dt]=rt[mt]=true,rt["[object Error]"]=rt[p]=rt[$]=false;var at="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,nt="object"==typeof self&&self&&self.Object===Object&&self,ct=at||nt||Function("return this")(),ht=_&&!_.nodeType&&_,pt=ht&&J&&!J.nodeType&&J,H=pt&&pt.exports===ht;function U(F,d){return F.set(d[0],d[1]),F}a(U,"P");function x(F,d){return F.add(d),F}a(x,"z");function b(F,d,I,K){var ut=-1,St=F?F.length:0;for(K;++ut<St;)I=d(I,F[ut],ut,F);return I}a(b,"F");function E(F){var d=false;if(null!=F&&"function"!=typeof F.toString)try{d=!!(F+"")}catch(I){}return d}a(E,"H");function k(F){var d=-1,I=Array(F.size);return F.forEach(function(K,ut){I[++d]=[ut,K]}),I}a(k,"$");function h(F,d){return function(I){return F(d(I))}}a(h,"V");function r(F){var d=-1,I=Array(F.size);return F.forEach(function(K){I[++d]=K}),I}a(r,"K");var s,u=Array.prototype,N=Function.prototype,t=Object.prototype,e=ct["__core-js_shared__"],i=(s=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",T=N.toString,D=t.hasOwnProperty,Q=t.toString,ot=RegExp("^"+T.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=H?ct.Buffer:void 0,ft=ct.Symbol,Et=ct.Uint8Array,wt=h(Object.getPrototypeOf,Object),At=Object.create,jt=t.propertyIsEnumerable,Tt=u.splice,It=Object.getOwnPropertySymbols,Lt=lt?lt.isBuffer:void 0,_t=h(Object.keys,Object),Bt=ae(ct,"DataView"),Ut=ae(ct,"Map"),Ct=ae(ct,"Promise"),Oe=ae(ct,"Set"),Re=ae(ct,"WeakMap"),qe=ae(Object,"create"),Ue=se(Bt),De=se(Ut),Ie=se(Ct),he=se(Oe),ie=se(Re),Yt=ft?ft.prototype:void 0,de=Yt?Yt.valueOf:void 0;function oe(F){var d=-1,I=F?F.length:0;for(this.clear();++d<I;){var K=F[d];this.set(K[0],K[1])}}a(oe,"kt");function Wt(F){var d=-1,I=F?F.length:0;for(this.clear();++d<I;){var K=F[d];this.set(K[0],K[1])}}a(Wt,"_t");function ee(F){var d=-1,I=F?F.length:0;for(this.clear();++d<I;){var K=F[d];this.set(K[0],K[1])}}a(ee,"Lt");function le(F){this.__data__=new Wt(F)}a(le,"St");function ke(F,d,I){var K=F[d];D.call(F,d)&&ge(K,I)&&(void 0!==I||d in F)||(F[d]=I)}a(ke,"Ot");function me(F,d){for(var I=F.length;I--;)if(ge(F[I][0],d))return I;return-1}a(me,"Tt");function Te(F,d,I,K,ut,St,Nt){var xt;if(K&&(xt=St?K(F,ut,St,Nt):K(F)),void 0!==xt)return xt;if(!ue(F))return F;var Dt=ce(F);if(Dt){if(xt=function(vt){var kt=vt.length,Rt=vt.constructor(kt);return kt&&"string"==typeof vt[0]&&D.call(vt,"index")&&(Rt.index=vt.index,Rt.input=vt.input),Rt}(F),!d)return function(vt,kt){var Rt=-1,Ht=vt.length;for(kt||(kt=Array(Ht));++Rt<Ht;)kt[Rt]=vt[Rt];return kt}(F,xt)}else{var Mt=fe(F),Pt=Mt==p||Mt==w;if(Ae(F))return function(vt,kt){if(kt)return vt.slice();var Rt=new vt.constructor(vt.length);return vt.copy(Rt),Rt}(F,d);if(Mt==q||Mt==S||Pt&&!St){if(E(F))return St?F:{};if(xt=function(vt){return"function"!=typeof vt.constructor||pe(vt)?{}:ue(kt=wt(vt))?At(kt):{};var kt}(Pt?{}:F),!d)return function(vt,kt){return ye(vt,re(vt),kt)}(F,function(vt,kt){return vt&&ye(kt,we(kt),vt)}(xt,F))}else{if(!rt[Mt])return St?F:{};xt=function(vt,kt,Rt,Ht){var Qt,Zt=vt.constructor;switch(kt){case Z:return je(vt);case y:case R:return new Zt(+vt);case st:return function(gt,o){var l=o?je(gt.buffer):gt.buffer;return new gt.constructor(l,gt.byteOffset,gt.byteLength)}(vt,Ht);case A:case O:case z:case M:case W:case tt:case et:case dt:case mt:return function(gt,o){var l=o?je(gt.buffer):gt.buffer;return new gt.constructor(l,gt.byteOffset,gt.length)}(vt,Ht);case m:return function(gt,o,l){return b(o?l(k(gt),true):k(gt),U,new gt.constructor)}(vt,Ht,Rt);case f:case j:return new Zt(vt);case g:return function(gt){var o=new gt.constructor(gt.source,Y.exec(gt));return o.lastIndex=gt.lastIndex,o}(vt);case L:return function(gt,o,l){return b(o?l(r(gt),true):r(gt),x,new gt.constructor)}(vt,Ht,Rt);case C:return Qt=vt,de?Object(de.call(Qt)):{}}}(F,Mt,Te,d)}}Nt||(Nt=new le);var zt=Nt.get(F);if(zt)return zt;if(Nt.set(F,xt),!Dt)var Ft=I?function(vt){return function(kt,Rt,Ht){var Qt=Rt(kt);return ce(kt)?Qt:function(Zt,gt){for(var o=-1,l=gt.length,P=Zt.length;++o<l;)Zt[P+o]=gt[o];return Zt}(Qt,Ht(kt))}(vt,we,re)}(F):we(F);return function(vt,kt){for(var Rt=-1,Ht=vt?vt.length:0;++Rt<Ht&&false!==kt(vt[Rt],Rt););}(Ft||F,function(vt,kt){Ft&&(vt=F[kt=vt]),ke(xt,kt,Te(vt,d,I,K,kt,F,Nt))}),xt}a(Te,"jt");function je(F){var d=new F.constructor(F.byteLength);return new Et(d).set(new Et(F)),d}a(je,"Ct");function ye(F,d,I,K){I||(I={});for(var ut=-1,St=d.length;++ut<St;){var Nt=d[ut],xt=void 0;ke(I,Nt,void 0===xt?F[Nt]:xt)}return I}a(ye,"Rt");function te(F,d){var I,K,ut=F.__data__;return("string"==(K=typeof(I=d))||"number"==K||"symbol"==K||"boolean"==K?"__proto__"!==I:null===I)?ut["string"==typeof d?"string":"hash"]:ut.map}a(te,"It");function ae(F,d){var I=function(K,ut){return null==K?void 0:K[ut]}(F,d);return function(K){return!(!ue(K)||(ut=K,i&&i in ut))&&(Ee(K)||E(K)?ot:G).test(se(K));var ut}(I)?I:void 0}a(ae,"Bt");oe.prototype.clear=function(){this.__data__=qe?qe(null):{}},oe.prototype.delete=function(F){return this.has(F)&&delete this.__data__[F]},oe.prototype.get=function(F){var d=this.__data__;if(qe){var I=d[F];return I===c?void 0:I}return D.call(d,F)?d[F]:void 0},oe.prototype.has=function(F){var d=this.__data__;return qe?void 0!==d[F]:D.call(d,F)},oe.prototype.set=function(F,d){return this.__data__[F]=qe&&void 0===d?c:d,this},Wt.prototype.clear=function(){this.__data__=[]},Wt.prototype.delete=function(F){var d=this.__data__,I=me(d,F);return!(I<0||(I==d.length-1?d.pop():Tt.call(d,I,1),0))},Wt.prototype.get=function(F){var d=this.__data__,I=me(d,F);return I<0?void 0:d[I][1]},Wt.prototype.has=function(F){return me(this.__data__,F)>-1},Wt.prototype.set=function(F,d){var I=this.__data__,K=me(I,F);return K<0?I.push([F,d]):I[K][1]=d,this},ee.prototype.clear=function(){this.__data__={hash:new oe,map:new(Ut||Wt),string:new oe}},ee.prototype.delete=function(F){return te(this,F).delete(F)},ee.prototype.get=function(F){return te(this,F).get(F)},ee.prototype.has=function(F){return te(this,F).has(F)},ee.prototype.set=function(F,d){return te(this,F).set(F,d),this},le.prototype.clear=function(){this.__data__=new Wt},le.prototype.delete=function(F){return this.__data__.delete(F)},le.prototype.get=function(F){return this.__data__.get(F)},le.prototype.has=function(F){return this.__data__.has(F)},le.prototype.set=function(F,d){var I=this.__data__;if(I instanceof Wt){var K=I.__data__;if(!Ut||K.length<199)return K.push([F,d]),this;I=this.__data__=new ee(K)}return I.set(F,d),this};var re=It?h(It,Object):function(){return[]},fe=a(function(F){return Q.call(F)},"Ut");function ne(F,d){return!!(d=null==d?v:d)&&("number"==typeof F||it.test(F))&&F>-1&&F%1==0&&F<d}a(ne,"Dt");function pe(F){var d=F&&F.constructor;return F===("function"==typeof d&&d.prototype||t)}a(pe,"Pt");function se(F){if(null!=F){try{return T.call(F)}catch(d){}try{return F+""}catch(d){}}return""}a(se,"zt");function ge(F,d){return F===d||F!=F&&d!=d}a(ge,"Ft");(Bt&&fe(new Bt(new ArrayBuffer(1)))!=st||Ut&&fe(new Ut)!=m||Ct&&fe(Ct.resolve())!=B||Oe&&fe(new Oe)!=L||Re&&fe(new Re)!=$)&&(fe=a(function(F){var d=Q.call(F),I=d==q?F.constructor:void 0,K=I?se(I):void 0;if(K)switch(K){case Ue:return st;case De:return m;case Ie:return B;case he:return L;case ie:return $}return d},"Ut"));var ce=Array.isArray;function ve(F){return null!=F&&function(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=v}(F.length)&&!Ee(F)}a(ve,"$t");var Ae=Lt||function(){return false};function Ee(F){var d=ue(F)?Q.call(F):"";return d==p||d==w}a(Ee,"Kt");function ue(F){var d=typeof F;return!!F&&("object"==d||"function"==d)}a(ue,"Wt");function we(F){return ve(F)?function(d,I){var K=ce(d)||function(xt){return function(Dt){return function(Mt){return!!Mt&&"object"==typeof Mt}(Dt)&&ve(Dt)}(xt)&&D.call(xt,"callee")&&(!jt.call(xt,"callee")||Q.call(xt)==S)}(d)?function(xt,Dt){for(var Mt=-1,Pt=Array(xt);++Mt<xt;)Pt[Mt]=Dt(Mt);return Pt}(d.length,String):[],ut=K.length,St=!!ut;for(var Nt in d)!D.call(d,Nt)||St&&("length"==Nt||ne(Nt,ut))||K.push(Nt);return K}(F):function(d){if(!pe(d))return _t(d);var I=[];for(var K in Object(d))D.call(d,K)&&"constructor"!=K&&I.push(K);return I}(F)}a(we,"Zt");J.exports=function(F){return Te(F,true,true)}},4162:function(J,_,n){J=n.nmd(J);var c="__lodash_hash_undefined__",v=1,S=2,y=9007199254740991,R="[object Arguments]",p="[object Array]",w="[object AsyncFunction]",m="[object Boolean]",f="[object Date]",q="[object Error]",B="[object Function]",g="[object GeneratorFunction]",L="[object Map]",j="[object Number]",C="[object Null]",$="[object Object]",Z="[object Promise]",st="[object Proxy]",A="[object RegExp]",O="[object Set]",z="[object String]",M="[object Undefined]",W="[object WeakMap]",tt="[object ArrayBuffer]",et="[object DataView]",dt=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=true,Y[R]=Y[p]=Y[tt]=Y[m]=Y[et]=Y[f]=Y[q]=Y[B]=Y[L]=Y[j]=Y[$]=Y[A]=Y[O]=Y[z]=Y[W]=false;var G="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,it="object"==typeof self&&self&&self.Object===Object&&self,rt=G||it||Function("return this")(),at=_&&!_.nodeType&&_,nt=at&&J&&!J.nodeType&&J,ct=nt&&nt.exports===at,ht=ct&&G.process,pt=function(){try{return ht&&ht.binding&&ht.binding("util")}catch(d){}}(),H=pt&&pt.isTypedArray;function U(d,I){for(var K=-1,ut=null==d?0:d.length;++K<ut;)if(I(d[K],K,d))return true;return false}a(U,"P");function x(d){var I=-1,K=Array(d.size);return d.forEach(function(ut,St){K[++I]=[St,ut]}),K}a(x,"z");function b(d){var I=-1,K=Array(d.size);return d.forEach(function(ut){K[++I]=ut}),K}a(b,"F");var E,k,h,r=Array.prototype,s=Function.prototype,u=Object.prototype,N=rt["__core-js_shared__"],t=s.toString,e=u.hasOwnProperty,i=(E=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",T=u.toString,D=RegExp("^"+t.call(e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=ct?rt.Buffer:void 0,ot=rt.Symbol,lt=rt.Uint8Array,ft=u.propertyIsEnumerable,Et=r.splice,wt=ot?ot.toStringTag:void 0,At=Object.getOwnPropertySymbols,jt=Q?Q.isBuffer:void 0,Tt=(k=Object.keys,h=Object,function(d){return k(h(d))}),It=te(rt,"DataView"),Lt=te(rt,"Map"),_t=te(rt,"Promise"),Bt=te(rt,"Set"),Ut=te(rt,"WeakMap"),Ct=te(Object,"create"),Oe=ne(It),Re=ne(Lt),qe=ne(_t),Ue=ne(Bt),De=ne(Ut),Ie=ot?ot.prototype:void 0,he=Ie?Ie.valueOf:void 0;function ie(d){var I=-1,K=null==d?0:d.length;for(this.clear();++I<K;){var ut=d[I];this.set(ut[0],ut[1])}}a(ie,"Et");function Yt(d){var I=-1,K=null==d?0:d.length;for(this.clear();++I<K;){var ut=d[I];this.set(ut[0],ut[1])}}a(Yt,"wt");function de(d){var I=-1,K=null==d?0:d.length;for(this.clear();++I<K;){var ut=d[I];this.set(ut[0],ut[1])}}a(de,"qt");function oe(d){var I=-1,K=null==d?0:d.length;for(this.__data__=new de;++I<K;)this.add(d[I])}a(oe,"kt");function Wt(d){var I=this.__data__=new Yt(d);this.size=I.size}a(Wt,"_t");function ee(d,I){for(var K=d.length;K--;)if(pe(d[K][0],I))return K;return-1}a(ee,"Lt");function le(d){return null==d?void 0===d?M:C:wt&&wt in Object(d)?function(I){var K=e.call(I,wt),ut=I[wt];try{I[wt]=void 0;var St=true}catch(xt){}var Nt=T.call(I);return St&&(K?I[wt]=ut:delete I[wt]),Nt}(d):function(I){return T.call(I)}(d)}a(le,"St");function ke(d){return ue(d)&&le(d)==R}a(ke,"Ot");function me(d,I,K,ut,St){return d===I||(null==d||null==I||!ue(d)&&!ue(I)?d!=d&&I!=I:function(Nt,xt,Dt,Mt,Pt,zt){var Ft=ge(Nt),vt=ge(xt),kt=Ft?p:re(Nt),Rt=vt?p:re(xt),Ht=(kt=kt==R?$:kt)==$,Qt=(Rt=Rt==R?$:Rt)==$,Zt=kt==Rt;if(Zt&&ce(Nt)){if(!ce(xt))return false;Ft=true,Ht=false}if(Zt&&!Ht)return zt||(zt=new Wt),Ft||we(Nt)?Te(Nt,xt,Dt,Mt,Pt,zt):function(V,X,yt,qt,Gt,$t,Xt){switch(yt){case et:if(V.byteLength!=X.byteLength||V.byteOffset!=X.byteOffset)return false;V=V.buffer,X=X.buffer;case tt:return!(V.byteLength!=X.byteLength||!$t(new lt(V),new lt(X)));case m:case f:case j:return pe(+V,+X);case q:return V.name==X.name&&V.message==X.message;case A:case z:return V==X+"";case L:var Jt=x;case O:var Le=qt&v;if(Jt||(Jt=b),V.size!=X.size&&!Le)return false;var Se=Xt.get(V);if(Se)return Se==X;qt|=S,Xt.set(V,X);var xe=Te(Jt(V),Jt(X),qt,Gt,$t,Xt);return Xt.delete(V),xe;case"[object Symbol]":if(he)return he.call(V)==he.call(X)}return false}(Nt,xt,kt,Dt,Mt,Pt,zt);if(!(Dt&v)){var gt=Ht&&e.call(Nt,"__wrapped__"),o=Qt&&e.call(xt,"__wrapped__");if(gt||o){var l=gt?Nt.value():Nt,P=o?xt.value():xt;return zt||(zt=new Wt),Pt(l,P,Dt,Mt,zt)}}return!!Zt&&(zt||(zt=new Wt),function(V,X,yt,qt,Gt,$t){var Xt=yt&v,Jt=je(V),Le=Jt.length;if(Le!=je(X).length&&!Xt)return false;for(var Se=Le;Se--;){var xe=Jt[Se];if(!(Xt?xe in X:e.call(X,xe)))return false}var ze=$t.get(V);if(ze&&$t.get(X))return ze==X;var Ce=true;$t.set(V,X),$t.set(X,V);for(var Me=Xt;++Se<Le;){var _e=V[xe=Jt[Se]],Fe=X[xe];if(qt)var Ke=Xt?qt(Fe,_e,xe,X,V,$t):qt(_e,Fe,xe,V,X,$t);if(!(void 0===Ke?_e===Fe||Gt(_e,Fe,yt,qt,$t):Ke)){Ce=false;break}Me||(Me="constructor"==xe)}if(Ce&&!Me){var He=V.constructor,$e=X.constructor;He==$e||!("constructor"in V)||!("constructor"in X)||"function"==typeof He&&He instanceof He&&"function"==typeof $e&&$e instanceof $e||(Ce=false)}return $t.delete(V),$t.delete(X),Ce}(Nt,xt,Dt,Mt,Pt,zt))}(d,I,K,ut,me,St))}a(me,"Tt");function Te(d,I,K,ut,St,Nt){var xt=K&v,Dt=d.length,Mt=I.length;if(Dt!=Mt&&!(xt&&Mt>Dt))return false;var Pt=Nt.get(d);if(Pt&&Nt.get(I))return Pt==I;var zt=-1,Ft=true,vt=K&S?new oe:void 0;for(Nt.set(d,I),Nt.set(I,d);++zt<Dt;){var kt=d[zt],Rt=I[zt];if(ut)var Ht=xt?ut(Rt,kt,zt,I,d,Nt):ut(kt,Rt,zt,d,I,Nt);if(void 0!==Ht){if(Ht)continue;Ft=false;break}if(vt){if(!U(I,function(Qt,Zt){if(gt=Zt,!vt.has(gt)&&(kt===Qt||St(kt,Qt,K,ut,Nt)))return vt.push(Zt);var gt})){Ft=false;break}}else if(kt!==Rt&&!St(kt,Rt,K,ut,Nt)){Ft=false;break}}return Nt.delete(d),Nt.delete(I),Ft}a(Te,"jt");function je(d){return function(I,K,ut){var St=K(I);return ge(I)?St:function(Nt,xt){for(var Dt=-1,Mt=xt.length,Pt=Nt.length;++Dt<Mt;)Nt[Pt+Dt]=xt[Dt];return Nt}(St,ut(I))}(d,F,ae)}a(je,"Ct");function ye(d,I){var K,ut,St=d.__data__;return("string"==(ut=typeof(K=I))||"number"==ut||"symbol"==ut||"boolean"==ut?"__proto__"!==K:null===K)?St["string"==typeof I?"string":"hash"]:St.map}a(ye,"Rt");function te(d,I){var K=function(ut,St){return null==ut?void 0:ut[St]}(d,I);return function(ut){return!(!Ee(ut)||function(St){return!!i&&i in St}(ut))&&(ve(ut)?D:dt).test(ne(ut))}(K)?K:void 0}a(te,"It");ie.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},ie.prototype.delete=function(d){var I=this.has(d)&&delete this.__data__[d];return this.size-=I?1:0,I},ie.prototype.get=function(d){var I=this.__data__;if(Ct){var K=I[d];return K===c?void 0:K}return e.call(I,d)?I[d]:void 0},ie.prototype.has=function(d){var I=this.__data__;return Ct?void 0!==I[d]:e.call(I,d)},ie.prototype.set=function(d,I){var K=this.__data__;return this.size+=this.has(d)?0:1,K[d]=Ct&&void 0===I?c:I,this},Yt.prototype.clear=function(){this.__data__=[],this.size=0},Yt.prototype.delete=function(d){var I=this.__data__,K=ee(I,d);return!(K<0||(K==I.length-1?I.pop():Et.call(I,K,1),--this.size,0))},Yt.prototype.get=function(d){var I=this.__data__,K=ee(I,d);return K<0?void 0:I[K][1]},Yt.prototype.has=function(d){return ee(this.__data__,d)>-1},Yt.prototype.set=function(d,I){var K=this.__data__,ut=ee(K,d);return ut<0?(++this.size,K.push([d,I])):K[ut][1]=I,this},de.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(Lt||Yt),string:new ie}},de.prototype.delete=function(d){var I=ye(this,d).delete(d);return this.size-=I?1:0,I},de.prototype.get=function(d){return ye(this,d).get(d)},de.prototype.has=function(d){return ye(this,d).has(d)},de.prototype.set=function(d,I){var K=ye(this,d),ut=K.size;return K.set(d,I),this.size+=K.size==ut?0:1,this},oe.prototype.add=oe.prototype.push=function(d){return this.__data__.set(d,c),this},oe.prototype.has=function(d){return this.__data__.has(d)},Wt.prototype.clear=function(){this.__data__=new Yt,this.size=0},Wt.prototype.delete=function(d){var I=this.__data__,K=I.delete(d);return this.size=I.size,K},Wt.prototype.get=function(d){return this.__data__.get(d)},Wt.prototype.has=function(d){return this.__data__.has(d)},Wt.prototype.set=function(d,I){var K=this.__data__;if(K instanceof Yt){var ut=K.__data__;if(!Lt||ut.length<199)return ut.push([d,I]),this.size=++K.size,this;K=this.__data__=new de(ut)}return K.set(d,I),this.size=K.size,this};var ae=At?function(d){return null==d?[]:(d=Object(d),function(I,K){for(var ut=-1,St=null==I?0:I.length,Nt=0,xt=[];++ut<St;){var Dt=I[ut];Mt=Dt,ft.call(d,Mt)&&(xt[Nt++]=Dt)}var Mt;return xt}(At(d)))}:function(){return[]},re=le;function fe(d,I){return!!(I=null==I?y:I)&&("number"==typeof d||mt.test(d))&&d>-1&&d%1==0&&d<I}a(fe,"Ut");function ne(d){if(null!=d){try{return t.call(d)}catch(I){}try{return d+""}catch(I){}}return""}a(ne,"Dt");function pe(d,I){return d===I||d!=d&&I!=I}a(pe,"Pt");(It&&re(new It(new ArrayBuffer(1)))!=et||Lt&&re(new Lt)!=L||_t&&re(_t.resolve())!=Z||Bt&&re(new Bt)!=O||Ut&&re(new Ut)!=W)&&(re=a(function(d){var I=le(d),K=I==$?d.constructor:void 0,ut=K?ne(K):"";if(ut)switch(ut){case Oe:return et;case Re:return L;case qe:return Z;case Ue:return O;case De:return W}return I},"Mt"));var se=ke(function(){return arguments}())?ke:function(d){return ue(d)&&e.call(d,"callee")&&!ft.call(d,"callee")},ge=Array.isArray,ce=jt||function(){return false};function ve(d){if(!Ee(d))return false;var I=le(d);return I==B||I==g||I==w||I==st}a(ve,"$t");function Ae(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=y}a(Ae,"Vt");function Ee(d){var I=typeof d;return null!=d&&("object"==I||"function"==I)}a(Ee,"Kt");function ue(d){return null!=d&&"object"==typeof d}a(ue,"Wt");var we=H?function(d){return function(I){return d(I)}}(H):function(d){return ue(d)&&Ae(d.length)&&!!Y[le(d)]};function F(d){return null!=(I=d)&&Ae(I.length)&&!ve(I)?function(K,ut){var St=ge(K),Nt=!St&&se(K),xt=!St&&!Nt&&ce(K),Dt=!St&&!Nt&&!xt&&we(K),Mt=St||Nt||xt||Dt,Pt=Mt?function(vt,kt){for(var Rt=-1,Ht=Array(vt);++Rt<vt;)Ht[Rt]=kt(Rt);return Ht}(K.length,String):[],zt=Pt.length;for(var Ft in K)!e.call(K,Ft)||Mt&&("length"==Ft||xt&&("offset"==Ft||"parent"==Ft)||Dt&&("buffer"==Ft||"byteLength"==Ft||"byteOffset"==Ft)||fe(Ft,zt))||Pt.push(Ft);return Pt}(d):function(K){if(St=(ut=K)&&ut.constructor,ut!==("function"==typeof St&&St.prototype||u))return Tt(K);var ut,St,Nt=[];for(var xt in Object(K))e.call(K,xt)&&"constructor"!=xt&&Nt.push(xt);return Nt}(d);var I}a(F,"Gt");J.exports=function(d,I){return me(d,I)}},1270:function(J,_,n){Object.defineProperty(_,"__esModule",{value:true});const c=n(9629),v=n(4162);var S;!function(y){y.compose=function(R={},p={},w=false){"object"!=typeof R&&(R={}),"object"!=typeof p&&(p={});let m=c(p);w||(m=Object.keys(m).reduce((f,q)=>(null!=m[q]&&(f[q]=m[q]),f),{}));for(const f in R)void 0!==R[f]&&void 0===p[f]&&(m[f]=R[f]);return Object.keys(m).length>0?m:void 0},y.diff=function(R={},p={}){"object"!=typeof R&&(R={}),"object"!=typeof p&&(p={});const w=Object.keys(R).concat(Object.keys(p)).reduce((m,f)=>(v(R[f],p[f])||(m[f]=void 0===p[f]?null:p[f]),m),{});return Object.keys(w).length>0?w:void 0},y.invert=function(R={},p={}){R=R||{};const w=Object.keys(p).reduce((m,f)=>(p[f]!==R[f]&&void 0!==R[f]&&(m[f]=p[f]),m),{});return Object.keys(R).reduce((m,f)=>(R[f]!==p[f]&&void 0===p[f]&&(m[f]=null),m),w)},y.transform=function(R,p,w=false){if("object"!=typeof R)return p;if("object"!=typeof p)return;if(!w)return p;const m=Object.keys(p).reduce((f,q)=>(void 0===R[q]&&(f[q]=p[q]),f),{});return Object.keys(m).length>0?m:void 0}}(S||(S={})),_.default=S},5232:function(J,_,n){Object.defineProperty(_,"__esModule",{value:true}),_.AttributeMap=_.OpIterator=_.Op=void 0;const c=n(5090),v=n(9629),S=n(4162),y=n(1270);_.AttributeMap=y.default;const R=n(4123);_.Op=R.default;const p=n(7033);_.OpIterator=p.default;const w=String.fromCharCode(0),m=a((B,g)=>{if("object"!=typeof B||null===B)throw new Error("cannot retain a "+typeof B);if("object"!=typeof g||null===g)throw new Error("cannot retain a "+typeof g);const L=Object.keys(B)[0];if(!L||L!==Object.keys(g)[0])throw new Error(`embed types not matched: ${L} != ${Object.keys(g)[0]}`);return[L,B[L],g[L]]},"u");const q=class q{constructor(g){Array.isArray(g)?this.ops=g:null!=g&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}static registerEmbed(g,L){this.handlers[g]=L}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const L=this.handlers[g];if(!L)throw new Error(`no handlers for embed type "${g}"`);return L}insert(g,L){const j={};return"string"==typeof g&&0===g.length?this:(j.insert=g,null!=L&&"object"==typeof L&&Object.keys(L).length>0&&(j.attributes=L),this.push(j))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,L){if("number"==typeof g&&g<=0)return this;const j={retain:g};return null!=L&&"object"==typeof L&&Object.keys(L).length>0&&(j.attributes=L),this.push(j)}push(g){let L=this.ops.length,j=this.ops[L-1];if(g=v(g),"object"==typeof j){if("number"==typeof g.delete&&"number"==typeof j.delete)return this.ops[L-1]={delete:j.delete+g.delete},this;if("number"==typeof j.delete&&null!=g.insert&&(L-=1,j=this.ops[L-1],"object"!=typeof j))return this.ops.unshift(g),this;if(S(g.attributes,j.attributes)){if("string"==typeof g.insert&&"string"==typeof j.insert)return this.ops[L-1]={insert:j.insert+g.insert},"object"==typeof g.attributes&&(this.ops[L-1].attributes=g.attributes),this;if("number"==typeof g.retain&&"number"==typeof j.retain)return this.ops[L-1]={retain:j.retain+g.retain},"object"==typeof g.attributes&&(this.ops[L-1].attributes=g.attributes),this}}return L===this.ops.length?this.ops.push(g):this.ops.splice(L,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&"number"==typeof g.retain&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const L=[],j=[];return this.forEach(C=>{(g(C)?L:j).push(C)}),[L,j]}reduce(g,L){return this.ops.reduce(g,L)}changeLength(){return this.reduce((g,L)=>L.insert?g+R.default.length(L):L.delete?g-L.delete:g,0)}length(){return this.reduce((g,L)=>g+R.default.length(L),0)}slice(g=0,L=1/0){const j=[],C=new p.default(this.ops);let $=0;for(;$<L&&C.hasNext();){let Z;$<g?Z=C.next(g-$):(Z=C.next(L-$),j.push(Z)),$+=R.default.length(Z)}return new q(j)}compose(g){const L=new p.default(this.ops),j=new p.default(g.ops),C=[],$=j.peek();if(null!=$&&"number"==typeof $.retain&&null==$.attributes){let st=$.retain;for(;"insert"===L.peekType()&&L.peekLength()<=st;)st-=L.peekLength(),C.push(L.next());$.retain-st>0&&j.next($.retain-st)}const Z=new q(C);for(;L.hasNext()||j.hasNext();)if("insert"===j.peekType())Z.push(j.next());else if("delete"===L.peekType())Z.push(L.next());else{const st=Math.min(L.peekLength(),j.peekLength()),A=L.next(st),O=j.next(st);if(O.retain){const z={};if("number"==typeof A.retain)z.retain="number"==typeof O.retain?st:O.retain;else if("number"==typeof O.retain)null==A.retain?z.insert=A.insert:z.retain=A.retain;else{const W=null==A.retain?"insert":"retain",[tt,et,dt]=m(A[W],O.retain),mt=q.getHandler(tt);z[W]={[tt]:mt.compose(et,dt,"retain"===W)}}const M=y.default.compose(A.attributes,O.attributes,"number"==typeof A.retain);if(M&&(z.attributes=M),Z.push(z),!j.hasNext()&&S(Z.ops[Z.ops.length-1],z)){const W=new q(L.rest());return Z.concat(W).chop()}}else"number"==typeof O.delete&&("number"==typeof A.retain||"object"==typeof A.retain&&null!==A.retain)&&Z.push(O)}return Z.chop()}concat(g){const L=new q(this.ops.slice());return g.ops.length>0&&(L.push(g.ops[0]),L.ops=L.ops.concat(g.ops.slice(1))),L}diff(g,L){if(this.ops===g.ops)return new q;const j=[this,g].map(A=>A.map(O=>{if(null!=O.insert)return"string"==typeof O.insert?O.insert:w;throw new Error("diff() called "+(A===g?"on":"with")+" non-document")}).join("")),C=new q,$=c(j[0],j[1],L,true),Z=new p.default(this.ops),st=new p.default(g.ops);return $.forEach(A=>{let O=A[1].length;for(;O>0;){let z=0;switch(A[0]){case c.INSERT:z=Math.min(st.peekLength(),O),C.push(st.next(z));break;case c.DELETE:z=Math.min(O,Z.peekLength()),Z.next(z),C.delete(z);break;case c.EQUAL:z=Math.min(Z.peekLength(),st.peekLength(),O);const M=Z.next(z),W=st.next(z);S(M.insert,W.insert)?C.retain(z,y.default.diff(M.attributes,W.attributes)):C.push(W).delete(z)}O-=z}}),C.chop()}eachLine(g,L="\n"){const j=new p.default(this.ops);let C=new q,$=0;for(;j.hasNext();){if("insert"!==j.peekType())return;const Z=j.peek(),st=R.default.length(Z)-j.peekLength(),A="string"==typeof Z.insert?Z.insert.indexOf(L,st)-st:-1;if(A<0)C.push(j.next());else if(A>0)C.push(j.next(A));else{if(false===g(C,j.next(1).attributes||{},$))return;$+=1,C=new q}}C.length()>0&&g(C,{},$)}invert(g){const L=new q;return this.reduce((j,C)=>{if(C.insert)L.delete(R.default.length(C));else{if("number"==typeof C.retain&&null==C.attributes)return L.retain(C.retain),j+C.retain;if(C.delete||"number"==typeof C.retain){const $=C.delete||C.retain;return g.slice(j,j+$).forEach(Z=>{C.delete?L.push(Z):C.retain&&C.attributes&&L.retain(R.default.length(Z),y.default.invert(C.attributes,Z.attributes))}),j+$}if("object"==typeof C.retain&&null!==C.retain){const $=g.slice(j,j+1),Z=new p.default($.ops).next(),[st,A,O]=m(C.retain,Z.insert),z=q.getHandler(st);return L.retain({[st]:z.invert(A,O)},y.default.invert(C.attributes,Z.attributes)),j+1}}return j},0),L.chop()}transform(g,L=false){if(L=!!L,"number"==typeof g)return this.transformPosition(g,L);const j=g,C=new p.default(this.ops),$=new p.default(j.ops),Z=new q;for(;C.hasNext()||$.hasNext();)if("insert"!==C.peekType()||!L&&"insert"===$.peekType())if("insert"===$.peekType())Z.push($.next());else{const st=Math.min(C.peekLength(),$.peekLength()),A=C.next(st),O=$.next(st);if(A.delete)continue;if(O.delete)Z.push(O);else{const z=A.retain,M=O.retain;let W="object"==typeof M&&null!==M?M:st;if("object"==typeof z&&null!==z&&"object"==typeof M&&null!==M){const tt=Object.keys(z)[0];if(tt===Object.keys(M)[0]){const et=q.getHandler(tt);et&&(W={[tt]:et.transform(z[tt],M[tt],L)})}}Z.retain(W,y.default.transform(A.attributes,O.attributes,L))}}else Z.retain(R.default.length(C.next()));return Z.chop()}transformPosition(g,L=false){L=!!L;const j=new p.default(this.ops);let C=0;for(;j.hasNext()&&C<=g;){const $=j.peekLength(),Z=j.peekType();j.next(),"delete"!==Z?("insert"===Z&&(C<g||!L)&&(g+=$),C+=$):g-=Math.min($,g-C)}return g}};a(q,"h");let f=q;f.Op=R.default,f.OpIterator=p.default,f.AttributeMap=y.default,f.handlers={},_.default=f,J.exports=f,J.exports.default=f},4123:function(J,_){var n;Object.defineProperty(_,"__esModule",{value:true}),function(c){c.length=function(v){return"number"==typeof v.delete?v.delete:"number"==typeof v.retain?v.retain:"object"==typeof v.retain&&null!==v.retain?1:"string"==typeof v.insert?v.insert.length:1}}(n||(n={})),_.default=n},7033:function(J,_,n){Object.defineProperty(_,"__esModule",{value:true});const c=n(4123);_.default=class{constructor(v){this.ops=v,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(v){v||(v=1/0);const S=this.ops[this.index];if(S){const y=this.offset,R=c.default.length(S);if(v>=R-y?(v=R-y,this.index+=1,this.offset=0):this.offset+=v,"number"==typeof S.delete)return{delete:v};{const p={};return S.attributes&&(p.attributes=S.attributes),"number"==typeof S.retain?p.retain=v:"object"==typeof S.retain&&null!==S.retain?p.retain=S.retain:"string"==typeof S.insert?p.insert=S.insert.substr(y,v):p.insert=S.insert,p}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?c.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const v=this.ops[this.index];return v?"number"==typeof v.delete?"delete":"number"==typeof v.retain||"object"==typeof v.retain&&null!==v.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const v=this.offset,S=this.index,y=this.next(),R=this.ops.slice(this.index);return this.offset=v,this.index=S,[y].concat(R)}}return[]}}},8820:function(J,_,n){n.d(_,{A:a(function(){return R},"A")});var c=n(8138),v=a(function(p,w){for(var m=p.length;m--;)if((0,c.A)(p[m][0],w))return m;return-1},"i"),S=Array.prototype.splice;function y(p){var w=-1,m=null==p?0:p.length;for(this.clear();++w<m;){var f=p[w];this.set(f[0],f[1])}}a(y,"o");y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(p){var w=this.__data__,m=v(w,p);return!(m<0||(m==w.length-1?w.pop():S.call(w,m,1),--this.size,0))},y.prototype.get=function(p){var w=this.__data__,m=v(w,p);return m<0?void 0:w[m][1]},y.prototype.has=function(p){return v(this.__data__,p)>-1},y.prototype.set=function(p,w){var m=this.__data__,f=v(m,p);return f<0?(++this.size,m.push([p,w])):m[f][1]=w,this};var R=y},2461:function(J,_,n){var c=n(2281),v=n(5507),S=(0,c.A)(v.A,"Map");_.A=S},3558:function(J,_,n){n.d(_,{A:a(function(){return q},"A")});var c=(0,n(2281).A)(Object,"create"),v=Object.prototype.hasOwnProperty,S=Object.prototype.hasOwnProperty;function y(B){var g=-1,L=null==B?0:B.length;for(this.clear();++g<L;){var j=B[g];this.set(j[0],j[1])}}a(y,"o");y.prototype.clear=function(){this.__data__=c?c(null):{},this.size=0},y.prototype.delete=function(B){var g=this.has(B)&&delete this.__data__[B];return this.size-=g?1:0,g},y.prototype.get=function(B){var g=this.__data__;if(c){var L=g[B];return"__lodash_hash_undefined__"===L?void 0:L}return v.call(g,B)?g[B]:void 0},y.prototype.has=function(B){var g=this.__data__;return c?void 0!==g[B]:S.call(g,B)},y.prototype.set=function(B,g){var L=this.__data__;return this.size+=this.has(B)?0:1,L[B]=c&&void 0===g?"__lodash_hash_undefined__":g,this};var R=y,p=n(8820),w=n(2461),m=a(function(B,g){var L,j,C=B.__data__;return("string"==(j=typeof(L=g))||"number"==j||"symbol"==j||"boolean"==j?"__proto__"!==L:null===L)?C["string"==typeof g?"string":"hash"]:C.map},"u");function f(B){var g=-1,L=null==B?0:B.length;for(this.clear();++g<L;){var j=B[g];this.set(j[0],j[1])}}a(f,"h");f.prototype.clear=function(){this.size=0,this.__data__={hash:new R,map:new(w.A||p.A),string:new R}},f.prototype.delete=function(B){var g=m(this,B).delete(B);return this.size-=g?1:0,g},f.prototype.get=function(B){return m(this,B).get(B)},f.prototype.has=function(B){return m(this,B).has(B)},f.prototype.set=function(B,g){var L=m(this,B),j=L.size;return L.set(B,g),this.size+=L.size==j?0:1,this};var q=f},2673:function(J,_,n){n.d(_,{A:a(function(){return R},"A")});var c=n(8820),v=n(2461),S=n(3558);function y(p){var w=this.__data__=new c.A(p);this.size=w.size}a(y,"o");y.prototype.clear=function(){this.__data__=new c.A,this.size=0},y.prototype.delete=function(p){var w=this.__data__,m=w.delete(p);return this.size=w.size,m},y.prototype.get=function(p){return this.__data__.get(p)},y.prototype.has=function(p){return this.__data__.has(p)},y.prototype.set=function(p,w){var m=this.__data__;if(m instanceof c.A){var f=m.__data__;if(!v.A||f.length<199)return f.push([p,w]),this.size=++m.size,this;m=this.__data__=new S.A(f)}return m.set(p,w),this.size=m.size,this};var R=y},439:function(J,_,n){var c=n(5507).A.Symbol;_.A=c},7218:function(J,_,n){var c=n(5507).A.Uint8Array;_.A=c},6753:function(J,_,n){n.d(_,{A:a(function(){return w},"A")});var c=n(8412),v=n(723),S=n(776),y=n(3767),R=n(5755),p=Object.prototype.hasOwnProperty,w=a(function(m,f){var q=(0,v.A)(m),B=!q&&(0,c.A)(m),g=!q&&!B&&(0,S.A)(m),L=!q&&!B&&!g&&(0,R.A)(m),j=q||B||g||L,C=j?function(st,A){for(var O=-1,z=Array(st);++O<st;)z[O]=A(O);return z}(m.length,String):[],$=C.length;for(var Z in m)!f&&!p.call(m,Z)||j&&("length"==Z||g&&("offset"==Z||"parent"==Z)||L&&("buffer"==Z||"byteLength"==Z||"byteOffset"==Z)||(0,y.A)(Z,$))||C.push(Z);return C},"c")},802:function(J,_){_.A=function(n,c){for(var v=-1,S=c.length,y=n.length;++v<S;)n[y+v]=c[v];return n}},6437:function(J,_,n){var c=n(6770),v=n(8138),S=Object.prototype.hasOwnProperty;_.A=function(y,R,p){var w=y[R];S.call(y,R)&&(0,v.A)(w,p)&&(void 0!==p||R in y)||(0,c.A)(y,R,p)}},6770:function(J,_,n){var c=n(7889);_.A=function(v,S,y){"__proto__"==S&&c.A?(0,c.A)(v,S,{configurable:true,enumerable:true,value:y,writable:true}):v[S]=y}},1381:function(J,_,n){var c=n(802),v=n(723);_.A=function(S,y,R){var p=y(S);return(0,v.A)(S)?p:(0,c.A)(p,R(S))}},2159:function(J,_,n){n.d(_,{A:a(function(){return m},"A")});var c=n(439),v=Object.prototype,S=v.hasOwnProperty,y=v.toString,R=c.A?c.A.toStringTag:void 0,p=Object.prototype.toString,w=c.A?c.A.toStringTag:void 0,m=a(function(f){return null==f?void 0===f?"[object Undefined]":"[object Null]":w&&w in Object(f)?function(q){var B=S.call(q,R),g=q[R];try{q[R]=void 0;var L=true}catch(C){}var j=y.call(q);return L&&(B?q[R]=g:delete q[R]),j}(f):function(q){return p.call(q)}(f)},"u")},5771:function(J,_){_.A=function(n){return function(c){return n(c)}}},2899:function(J,_,n){var c=n(7218);_.A=function(v){var S=new v.constructor(v.byteLength);return new c.A(S).set(new c.A(v)),S}},3812:function(J,_,n){var c=n(5507),v=Kt&&!Kt.nodeType&&Kt,S=v&&true&&Vt&&!Vt.nodeType&&Vt,y=S&&S.exports===v?c.A.Buffer:void 0,R=y?y.allocUnsafe:void 0;_.A=function(p,w){if(w)return p.slice();var m=p.length,f=R?R(m):new p.constructor(m);return p.copy(f),f}},1827:function(J,_,n){var c=n(2899);_.A=function(v,S){var y=S?(0,c.A)(v.buffer):v.buffer;return new v.constructor(y,v.byteOffset,v.length)}},4405:function(J,_){_.A=function(n,c){var v=-1,S=n.length;for(c||(c=Array(S));++v<S;)c[v]=n[v];return c}},9601:function(J,_,n){var c=n(6437),v=n(6770);_.A=function(S,y,R,p){var w=!R;R||(R={});for(var m=-1,f=y.length;++m<f;){var q=y[m],B=p?p(R[q],S[q],q,R,S):void 0;void 0===B&&(B=S[q]),w?(0,v.A)(R,q,B):(0,c.A)(R,q,B)}return R}},7889:function(J,_,n){var c=n(2281),v=function(){try{var S=(0,c.A)(Object,"defineProperty");return S({},"",{}),S}catch(y){}}();_.A=v},9646:function(J,_){var n="object"==typeof Ve&&Ve&&Ve.Object===Object&&Ve;_.A=n},2816:function(J,_,n){var c=n(1381),v=n(9844),S=n(3169);_.A=function(y){return(0,c.A)(y,S.A,v.A)}},2281:function(J,_,n){n.d(_,{A:a(function(){return j},"A")});var c,v=n(7572),S=n(5507).A["__core-js_shared__"],y=(c=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",R=n(659),p=n(1543),w=/^\[object .+?Constructor\]$/,m=Function.prototype,f=Object.prototype,q=m.toString,B=f.hasOwnProperty,g=RegExp("^"+q.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=a(function(C){return!(!(0,R.A)(C)||($=C,y&&y in $))&&((0,v.A)(C)?g:w).test((0,p.A)(C));var $},"g"),j=a(function(C,$){var Z=function(st,A){return null==st?void 0:st[A]}(C,$);return L(Z)?Z:void 0},"m")},8769:function(J,_,n){var c=(0,n(2217).A)(Object.getPrototypeOf,Object);_.A=c},9844:function(J,_,n){n.d(_,{A:a(function(){return y},"A")});var c=n(6935),v=Object.prototype.propertyIsEnumerable,S=Object.getOwnPropertySymbols,y=S?function(R){return null==R?[]:(R=Object(R),function(p,w){for(var m=-1,f=null==p?0:p.length,q=0,B=[];++m<f;){var g=p[m];w(g,m,p)&&(B[q++]=g)}return B}(S(R),function(p){return v.call(R,p)}))}:c.A},7995:function(J,_,n){n.d(_,{A:a(function(){return z},"A")});var c=n(2281),v=n(5507),S=(0,c.A)(v.A,"DataView"),y=n(2461),R=(0,c.A)(v.A,"Promise"),p=(0,c.A)(v.A,"Set"),w=(0,c.A)(v.A,"WeakMap"),m=n(2159),f=n(1543),q="[object Map]",B="[object Promise]",g="[object Set]",L="[object WeakMap]",j="[object DataView]",C=(0,f.A)(S),$=(0,f.A)(y.A),Z=(0,f.A)(R),st=(0,f.A)(p),A=(0,f.A)(w),O=m.A;(S&&O(new S(new ArrayBuffer(1)))!=j||y.A&&O(new y.A)!=q||R&&O(R.resolve())!=B||p&&O(new p)!=g||w&&O(new w)!=L)&&(O=a(function(M){var W=(0,m.A)(M),tt="[object Object]"==W?M.constructor:void 0,et=tt?(0,f.A)(tt):"";if(et)switch(et){case C:return j;case $:return q;case Z:return B;case st:return g;case A:return L}return W},"N"));var z=O},1683:function(J,_,n){n.d(_,{A:a(function(){return p},"A")});var c=n(659),v=Object.create,S=function(){function w(){}a(w,"t");return function(m){if(!(0,c.A)(m))return{};if(v)return v(m);w.prototype=m;var f=new w;return w.prototype=void 0,f}}(),y=n(8769),R=n(501),p=a(function(w){return"function"!=typeof w.constructor||(0,R.A)(w)?{}:S((0,y.A)(w))},"a")},3767:function(J,_){var n=/^(?:0|[1-9]\d*)$/;_.A=function(c,v){var S=typeof c;return!!(v=null==v?9007199254740991:v)&&("number"==S||"symbol"!=S&&n.test(c))&&c>-1&&c%1==0&&c<v}},501:function(J,_){var n=Object.prototype;_.A=function(c){var v=c&&c.constructor;return c===("function"==typeof v&&v.prototype||n)}},8795:function(J,_,n){var c=n(9646),v=Kt&&!Kt.nodeType&&Kt,S=v&&true&&Vt&&!Vt.nodeType&&Vt,y=S&&S.exports===v&&c.A.process,R=function(){try{return S&&S.require&&S.require("util").types||y&&y.binding&&y.binding("util")}catch(p){}}();_.A=R},2217:function(J,_){_.A=function(n,c){return function(v){return n(c(v))}}},5507:function(J,_,n){var c=n(9646),v="object"==typeof self&&self&&self.Object===Object&&self,S=c.A||v||Function("return this")();_.A=S},1543:function(J,_){var n=Function.prototype.toString;_.A=function(c){if(null!=c){try{return n.call(c)}catch(v){}try{return c+""}catch(v){}}return""}},3707:function(J,_,n){n.d(_,{A:a(function(){return ct},"A")});var c=n(2673),v=n(6437);n(9601);n(3169);n(2624);var S=n(3812);n(4405);var y=n(9844),R=n(802),p=n(8769),w=n(6935);Object.getOwnPropertySymbols?function(ht){for(var pt=[];ht;)(0,R.A)(pt,(0,y.A)(ht)),ht=(0,p.A)(ht);return pt}:w.A;var m=n(2816);n(1381);var f=n(7995),q=Object.prototype.hasOwnProperty,B=n(2899),g=/\w*$/,L=n(439),j=L.A?L.A.prototype:void 0,C=j?j.valueOf:void 0,$=n(1827),Z=a(function(ht,pt,H){var U,x,b,E=ht.constructor;switch(pt){case"[object ArrayBuffer]":return(0,B.A)(ht);case"[object Boolean]":case"[object Date]":return new E(+ht);case"[object DataView]":return function(k,h){var r=(0,B.A)(k.buffer);return new k.constructor(r,k.byteOffset,k.byteLength)}(ht);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,$.A)(ht,H);case"[object Map]":case"[object Set]":return new E;case"[object Number]":case"[object String]":return new E(ht);case"[object RegExp]":return(b=new(x=ht).constructor(x.source,g.exec(x))).lastIndex=x.lastIndex,b;case"[object Symbol]":return U=ht,C?Object(C.call(U)):{}}},"k"),st=n(1683),A=n(723),O=n(776),z=n(7948),M=n(5771),W=n(8795),tt=W.A&&W.A.isMap,et=tt?(0,M.A)(tt):function(ht){return(0,z.A)(ht)&&"[object Map]"==(0,f.A)(ht)},dt=n(659),mt=W.A&&W.A.isSet,Y=mt?(0,M.A)(mt):function(ht){return(0,z.A)(ht)&&"[object Set]"==(0,f.A)(ht)},G="[object Arguments]",it="[object Function]",rt="[object Object]",at={};at[G]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object DataView]"]=at["[object Boolean]"]=at["[object Date]"]=at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Map]"]=at["[object Number]"]=at[rt]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object Symbol]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=true,at["[object Error]"]=at[it]=at["[object WeakMap]"]=false;var nt=a(function ht(pt,H,U,x,b,E){var k,h=1&H;if(void 0!==k)return k;if(!(0,dt.A)(pt))return pt;var r=(0,A.A)(pt);if(r){if(k=function(i){var T=i.length,D=new i.constructor(T);return T&&"string"==typeof i[0]&&q.call(i,"index")&&(D.index=i.index,D.input=i.input),D}(pt),!h);}else{var s=(0,f.A)(pt),u=s==it||"[object GeneratorFunction]"==s;if((0,O.A)(pt))return(0,S.A)(pt,h);if(s==rt||s==G||u&&!b){if(k=u?{}:(0,st.A)(pt),!h);}else{if(!at[s])return b?pt:{};k=Z(pt,s,h)}}E||(E=new c.A);var N=E.get(pt);if(N)return N;E.set(pt,k),Y(pt)?pt.forEach(function(i){k.add(ht(i,H,U,i,pt,E))}):et(pt)&&pt.forEach(function(i,T){k.set(T,ht(i,H,U,T,pt,E))});var t=m.A,e=r?void 0:t(pt);return function(i,T){for(var D=-1,Q=null==i?0:i.length;++D<Q&&false!==T(i[D],D,i););}(e||pt,function(i,T){e&&(i=pt[T=i]),(0,v.A)(k,T,ht(i,H,U,T,pt,E))}),k},"t"),ct=a(function(ht){return nt(ht,5)},"H")},8138:function(J,_){_.A=function(n,c){return n===c||n!=n&&c!=c}},8412:function(J,_,n){n.d(_,{A:a(function(){return m},"A")});var c=n(2159),v=n(7948),S=a(function(f){return(0,v.A)(f)&&"[object Arguments]"==(0,c.A)(f)},"s"),y=Object.prototype,R=y.hasOwnProperty,p=y.propertyIsEnumerable,w=S(function(){return arguments}())?S:function(f){return(0,v.A)(f)&&R.call(f,"callee")&&!p.call(f,"callee")},m=w},723:function(J,_){var n=Array.isArray;_.A=n},3628:function(J,_,n){var c=n(7572),v=n(1628);_.A=function(S){return null!=S&&(0,v.A)(S.length)&&!(0,c.A)(S)}},776:function(J,_,n){n.d(_,{A:a(function(){return R},"A")});var c=n(5507),v=Kt&&!Kt.nodeType&&Kt,S=v&&true&&Vt&&!Vt.nodeType&&Vt,y=S&&S.exports===v?c.A.Buffer:void 0,R=(y?y.isBuffer:void 0)||function(){return false}},5123:function(J,_,n){n.d(_,{A:a(function(){return mt},"A")});var c=n(2673),v=n(3558);function S(Y){var G=-1,it=null==Y?0:Y.length;for(this.__data__=new v.A;++G<it;)this.add(Y[G])}a(S,"s");S.prototype.add=S.prototype.push=function(Y){return this.__data__.set(Y,"__lodash_hash_undefined__"),this},S.prototype.has=function(Y){return this.__data__.has(Y)};var y=S,R=a(function(Y,G){for(var it=-1,rt=null==Y?0:Y.length;++it<rt;)if(G(Y[it],it,Y))return true;return false},"l"),p=a(function(Y,G,it,rt,at,nt){var ct=1&it,ht=Y.length,pt=G.length;if(ht!=pt&&!(ct&&pt>ht))return false;var H=nt.get(Y),U=nt.get(G);if(H&&U)return H==G&&U==Y;var x=-1,b=true,E=2&it?new y:void 0;for(nt.set(Y,G),nt.set(G,Y);++x<ht;){var k=Y[x],h=G[x];if(rt)var r=ct?rt(h,k,x,G,Y,nt):rt(k,h,x,Y,G,nt);if(void 0!==r){if(r)continue;b=false;break}if(E){if(!R(G,function(s,u){if(N=u,!E.has(N)&&(k===s||at(k,s,it,rt,nt)))return E.push(u);var N})){b=false;break}}else if(k!==h&&!at(k,h,it,rt,nt)){b=false;break}}return nt.delete(Y),nt.delete(G),b},"a"),w=n(439),m=n(7218),f=n(8138),q=a(function(Y){var G=-1,it=Array(Y.size);return Y.forEach(function(rt,at){it[++G]=[at,rt]}),it},"d"),B=a(function(Y){var G=-1,it=Array(Y.size);return Y.forEach(function(rt){it[++G]=rt}),it},"f"),g=w.A?w.A.prototype:void 0,L=g?g.valueOf:void 0,j=n(2816),C=Object.prototype.hasOwnProperty,$=n(7995),Z=n(723),st=n(776),A=n(5755),O="[object Arguments]",z="[object Array]",M="[object Object]",W=Object.prototype.hasOwnProperty,tt=a(function(Y,G,it,rt,at,nt){var ct=(0,Z.A)(Y),ht=(0,Z.A)(G),pt=ct?z:(0,$.A)(Y),H=ht?z:(0,$.A)(G),U=(pt=pt==O?M:pt)==M,x=(H=H==O?M:H)==M,b=pt==H;if(b&&(0,st.A)(Y)){if(!(0,st.A)(G))return false;ct=true,U=false}if(b&&!U)return nt||(nt=new c.A),ct||(0,A.A)(Y)?p(Y,G,it,rt,at,nt):function(s,u,N,t,e,i,T){switch(N){case"[object DataView]":if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return false;s=s.buffer,u=u.buffer;case"[object ArrayBuffer]":return!(s.byteLength!=u.byteLength||!i(new m.A(s),new m.A(u)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,f.A)(+s,+u);case"[object Error]":return s.name==u.name&&s.message==u.message;case"[object RegExp]":case"[object String]":return s==u+"";case"[object Map]":var D=q;case"[object Set]":var Q=1&t;if(D||(D=B),s.size!=u.size&&!Q)return false;var ot=T.get(s);if(ot)return ot==u;t|=2,T.set(s,u);var lt=p(D(s),D(u),t,e,i,T);return T.delete(s),lt;case"[object Symbol]":if(L)return L.call(s)==L.call(u)}return false}(Y,G,pt,it,rt,at,nt);if(!(1&it)){var E=U&&W.call(Y,"__wrapped__"),k=x&&W.call(G,"__wrapped__");if(E||k){var h=E?Y.value():Y,r=k?G.value():G;return nt||(nt=new c.A),at(h,r,it,rt,nt)}}return!!b&&(nt||(nt=new c.A),function(s,u,N,t,e,i){var T=1&N,D=(0,j.A)(s),Q=D.length;if(Q!=(0,j.A)(u).length&&!T)return false;for(var ot=Q;ot--;){var lt=D[ot];if(!(T?lt in u:C.call(u,lt)))return false}var ft=i.get(s),Et=i.get(u);if(ft&&Et)return ft==u&&Et==s;var wt=true;i.set(s,u),i.set(u,s);for(var At=T;++ot<Q;){var jt=s[lt=D[ot]],Tt=u[lt];if(t)var It=T?t(Tt,jt,lt,u,s,i):t(jt,Tt,lt,s,u,i);if(!(void 0===It?jt===Tt||e(jt,Tt,N,t,i):It)){wt=false;break}At||(At="constructor"==lt)}if(wt&&!At){var Lt=s.constructor,_t=u.constructor;Lt==_t||!("constructor"in s)||!("constructor"in u)||"function"==typeof Lt&&Lt instanceof Lt&&"function"==typeof _t&&_t instanceof _t||(wt=false)}return i.delete(s),i.delete(u),wt}(Y,G,it,rt,at,nt))},"k"),et=n(7948),dt=a(function Y(G,it,rt,at,nt){return G===it||(null==G||null==it||!(0,et.A)(G)&&!(0,et.A)(it)?G!=G&&it!=it:tt(G,it,rt,at,Y,nt))},"t"),mt=a(function(Y,G){return dt(Y,G)},"S")},7572:function(J,_,n){var c=n(2159),v=n(659);_.A=function(S){if(!(0,v.A)(S))return false;var y=(0,c.A)(S);return"[object Function]"==y||"[object GeneratorFunction]"==y||"[object AsyncFunction]"==y||"[object Proxy]"==y}},1628:function(J,_){_.A=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},659:function(J,_){_.A=function(n){var c=typeof n;return null!=n&&("object"==c||"function"==c)}},7948:function(J,_){_.A=function(n){return null!=n&&"object"==typeof n}},5755:function(J,_,n){n.d(_,{A:a(function(){return m},"A")});var c=n(2159),v=n(1628),S=n(7948),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=true,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=false;var R=n(5771),p=n(8795),w=p.A&&p.A.isTypedArray,m=w?(0,R.A)(w):function(f){return(0,S.A)(f)&&(0,v.A)(f.length)&&!!y[(0,c.A)(f)]}},3169:function(J,_,n){n.d(_,{A:a(function(){return p},"A")});var c=n(6753),v=n(501),S=(0,n(2217).A)(Object.keys,Object),y=Object.prototype.hasOwnProperty,R=n(3628),p=a(function(w){return(0,R.A)(w)?(0,c.A)(w):function(m){if(!(0,v.A)(m))return S(m);var f=[];for(var q in Object(m))y.call(m,q)&&"constructor"!=q&&f.push(q);return f}(w)},"a")},2624:function(J,_,n){n.d(_,{A:a(function(){return w},"A")});var c=n(6753),v=n(659),S=n(501),y=Object.prototype.hasOwnProperty,R=a(function(m){if(!(0,v.A)(m))return function(g){var L=[];if(null!=g)for(var j in Object(g))L.push(j);return L}(m);var f=(0,S.A)(m),q=[];for(var B in m)("constructor"!=B||!f&&y.call(m,B))&&q.push(B);return q},"l"),p=n(3628),w=a(function(m){return(0,p.A)(m)?(0,c.A)(m,true):R(m)},"c")},8347:function(J,_,n){n.d(_,{A:a(function(){return k},"A")});var c,v,S,y,R=n(2673),p=n(6770),w=n(8138),m=a(function(h,r,s){(void 0!==s&&!(0,w.A)(h[r],s)||void 0===s&&!(r in h))&&(0,p.A)(h,r,s)},"u"),f=a(function(h,r,s){for(var u=-1,N=Object(h),t=s(h),e=t.length;e--;){var i=t[++u];if(false===r(N[i],i,N))break}return h},"h"),q=n(3812),B=n(1827),g=n(4405),L=n(1683),j=n(8412),C=n(723),$=n(3628),Z=n(7948),st=n(776),A=n(7572),O=n(659),z=n(2159),M=n(8769),W=Function.prototype,tt=Object.prototype,et=W.toString,dt=tt.hasOwnProperty,mt=et.call(Object),Y=n(5755),G=a(function(h,r){if(("constructor"!==r||"function"!=typeof h[r])&&"__proto__"!=r)return h[r]},"T"),it=n(9601),rt=n(2624),at=a(function(h,r,s,u,N,t,e){var i,T=G(h,s),D=G(r,s),Q=e.get(D);if(Q)m(h,s,Q);else{var ot=void 0,lt=void 0===ot;if(lt){var ft=(0,C.A)(D),Et=!ft&&(0,st.A)(D),wt=!ft&&!Et&&(0,Y.A)(D);ot=D,ft||Et||wt?(0,C.A)(T)?ot=T:(i=T,(0,Z.A)(i)&&(0,$.A)(i)?ot=(0,g.A)(T):Et?(lt=false,ot=(0,q.A)(D,true)):wt?(lt=false,ot=(0,B.A)(D,true)):ot=[]):function(At){if(!(0,Z.A)(At)||"[object Object]"!=(0,z.A)(At))return false;var jt=(0,M.A)(At);if(null===jt)return true;var Tt=dt.call(jt,"constructor")&&jt.constructor;return"function"==typeof Tt&&Tt instanceof Tt&&et.call(Tt)==mt}(D)||(0,j.A)(D)?(ot=T,(0,j.A)(T)?ot=function(At){return(0,it.A)(At,(0,rt.A)(At))}(T):(0,O.A)(T)&&!(0,A.A)(T)||(ot=(0,L.A)(D))):lt=false}lt&&(e.set(D,ot),N(ot,D,u,t,e),e.delete(D)),m(h,s,ot)}},"R"),nt=a(function h(r,s,u,N,t){r!==s&&f(s,function(e,i){if(t||(t=new R.A),(0,O.A)(e))at(r,s,i,u,h,N,t);else{var T=void 0;void 0===T&&(T=e),m(r,i,T)}},rt.A)},"t"),ct=a(function(h){return h},"B"),ht=Math.max,pt=n(7889),H=pt.A?function(h,r){return(0,pt.A)(h,"toString",{configurable:true,enumerable:false,value:(s=r,function(){return s}),writable:true});var s}:ct,U=Date.now,x=(c=H,v=0,S=0,function(){var h=U(),r=16-(h-S);if(S=h,r>0){if(++v>=800)return arguments[0]}else v=0;return c.apply(void 0,arguments)}),b=a(function(h,r){return x(function(s,u,N){return u=ht(void 0===u?s.length-1:u,0),function(){for(var t=arguments,e=-1,i=ht(t.length-u,0),T=Array(i);++e<i;)T[e]=t[u+e];e=-1;for(var D=Array(u+1);++e<u;)D[e]=t[e];return D[u]=N(T),function(Q,ot,lt){switch(lt.length){case 0:return Q.call(ot);case 1:return Q.call(ot,lt[0]);case 2:return Q.call(ot,lt[0],lt[1]);case 3:return Q.call(ot,lt[0],lt[1],lt[2])}return Q.apply(ot,lt)}(s,this,D)}}(h,r,ct),h+"")},"F"),E=n(3767),k=(y=a(function(h,r,s){nt(h,r,s)},"o"),b(function(h,r){var s=-1,u=r.length,N=u>1?r[u-1]:void 0,t=u>2?r[2]:void 0;for(N=y.length>3&&"function"==typeof N?(u--,N):void 0,t&&function(i,T,D){if(!(0,O.A)(D))return false;var Q=typeof T;return!!("number"==Q?(0,$.A)(D)&&(0,E.A)(T,D.length):"string"==Q&&T in D)&&(0,w.A)(D[T],i)}(r[0],r[1],t)&&(N=u<3?void 0:N,u=1),h=Object(h);++s<u;){var e=r[s];e&&y(h,e,s)}return h}))},6935:function(J,_){_.A=function(){return[]}},6003:function(J,_,n){var nt,ct,ht,pt,H,U,b,E,k,h,r,s,u;n.r(_),n.d(_,{Attributor:a(function(){return v},"Attributor"),AttributorStore:a(function(){return q},"AttributorStore"),BlockBlot:a(function(){return M},"BlockBlot"),ClassAttributor:a(function(){return w},"ClassAttributor"),ContainerBlot:a(function(){return tt},"ContainerBlot"),EmbedBlot:a(function(){return et},"EmbedBlot"),InlineBlot:a(function(){return O},"InlineBlot"),LeafBlot:a(function(){return j},"LeafBlot"),ParentBlot:a(function(){return st},"ParentBlot"),Registry:a(function(){return R},"Registry"),Scope:a(function(){return c},"Scope"),ScrollBlot:a(function(){return Y},"ScrollBlot"),StyleAttributor:a(function(){return f},"StyleAttributor"),TextBlot:a(function(){return it},"TextBlot")});var c=(N=>(N[N.TYPE=3]="TYPE",N[N.LEVEL=12]="LEVEL",N[N.ATTRIBUTE=13]="ATTRIBUTE",N[N.BLOT=14]="BLOT",N[N.INLINE=7]="INLINE",N[N.BLOCK=11]="BLOCK",N[N.BLOCK_BLOT=10]="BLOCK_BLOT",N[N.INLINE_BLOT=6]="INLINE_BLOT",N[N.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",N[N.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",N[N.ANY=15]="ANY",N))(c||{});const rt=class rt{constructor(t,e,i={}){this.attrName=t,this.keyName=e;const T=c.TYPE&c.ATTRIBUTE;this.scope=null!=i.scope?i.scope&c.LEVEL|T:c.ATTRIBUTE,null!=i.whitelist&&(this.whitelist=i.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),true)}canAdd(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}};a(rt,"i");let v=rt;const at=class at extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}};a(at,"s");let S=at;const y=(nt=class{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=false){if(null==t)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let i=null;try{i=t.parentNode}catch{return null}return this.find(i,e)}return null}create(t,e,i){const T=this.query(e);if(null==T)throw new S(`Unable to create ${e} blot`);const D=T,Q=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:D.create(i),ot=new D(t,Q,i);return nt.blots.set(ot.domNode,ot),ot}find(t,e=false){return nt.find(t,e)}query(t,e=c.ANY){let i;return"string"==typeof t?i=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?i=this.types.text:"number"==typeof t?t&c.LEVEL&c.BLOCK?i=this.types.block:t&c.LEVEL&c.INLINE&&(i=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(T=>(i=this.classes[T],!!i)),i=i||this.tags[t.tagName]),null==i?null:"scope"in i&&e&c.LEVEL&i.scope&&e&c.TYPE&i.scope?i:null}register(...t){return t.map(e=>{const i="blotName"in e,T="attrName"in e;if(!i&&!T)throw new S("Invalid definition");if(i&&"abstract"===e.blotName)throw new S("Cannot register abstract class");const D=i?e.blotName:T?e.attrName:void 0;return this.types[D]=e,T?"string"==typeof e.keyName&&(this.attributes[e.keyName]=e):i&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(Q=>Q.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(Q=>{(null==this.tags[Q]||null==e.className)&&(this.tags[Q]=e)}))),e})}},a(nt,"t"),nt);y.blots=new WeakMap;let R=y;function p(N,t){return(N.getAttribute("class")||"").split(/\s+/).filter(e=>0===e.indexOf(`${t}-`))}a(p,"a");const w=(ct=class extends v{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(`${this.keyName}-${e}`),true)}remove(t){p(t,this.keyName).forEach(e=>{t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")}value(t){const e=(p(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}},a(ct,"c"),ct);function m(N){const t=N.split("-"),e=t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return t[0]+e}a(m,"u");const f=(ht=class extends v{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return!!this.canAdd(t,e)&&(t.style[m(this.keyName)]=e,true)}remove(t){t.style[m(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[m(this.keyName)];return this.canAdd(t,e)?e:""}},a(ht,"h"),ht),q=(pt=class{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=R.find(this.domNode);if(null==t)return;const e=v.keys(this.domNode),i=w.keys(this.domNode),T=f.keys(this.domNode);e.concat(i).concat(T).forEach(D=>{const Q=t.scroll.query(D,c.ATTRIBUTE);Q instanceof v&&(this.attributes[Q.attrName]=Q)})}copy(t){Object.keys(this.attributes).forEach(e=>{const i=this.attributes[e].value(this.domNode);t.format(e,i)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}},a(pt,"d"),pt),B=(H=class{constructor(t,e){this.scroll=t,this.domNode=e,R.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(null==this.tagName)throw new S("Blot definition missing tagName");let e,i;return Array.isArray(this.tagName)?("string"==typeof t?(i=t.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):"number"==typeof t&&(i=t),e="number"==typeof i?document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?document.createElement(i):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(false);return this.scroll.create(t)}detach(){null!=this.parent&&this.parent.removeChild(this),R.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,i,T){const D=this.isolate(t,e);if(null!=this.scroll.query(i,c.BLOT)&&T)D.wrap(i,T);else if(null!=this.scroll.query(i,c.ATTRIBUTE)){const Q=this.scroll.create(this.statics.scope);D.wrap(Q),Q.format(i,T)}}insertAt(t,e,i){const T=null==i?this.scroll.create("text",e):this.scroll.create(e,i),D=this.split(t);this.parent.insertBefore(T,D||void 0)}isolate(t,e){const i=this.split(t);if(null==i)throw new Error("Attempt to isolate at end");return i.split(e),i}length(){return 1}offset(t=this.parent){return null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const i="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(t,e){return 0===t?this:this.next}update(t,e){}wrap(t,e){const i="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(i,this.next||void 0),"function"!=typeof i.appendChild)throw new S(`Cannot wrap ${t}`);return i.appendChild(this),i}},a(H,"f"),H);B.blotName="abstract";let g=B;const L=(U=class extends g{static value(t){return true}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||true}}},a(U,"g"),U);L.scope=c.INLINE_BLOT;const j=L;const x=class x{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let i=e();for(;i&&t>0;)t-=1,i=e();return i}contains(t){const e=this.iterator();let i=e();for(;i;){if(i===t)return true;i=e()}return false}indexOf(t){const e=this.iterator();let i=e(),T=0;for(;i;){if(i===t)return T;T+=1,i=e()}return-1}insertBefore(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,i=this.head;for(;null!=i;){if(i===t)return e;e+=i.length(),i=i.next}return-1}remove(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return null!=t&&(t=t.next),e}}find(t,e=false){const i=this.iterator();let T=i();for(;T;){const D=T.length();if(t<D||e&&t===D&&(null==T.next||0!==T.next.length()))return[T,t];t-=D,T=i()}return[null,0]}forEach(t){const e=this.iterator();let i=e();for(;i;)t(i),i=e()}forEachAt(t,e,i){if(e<=0)return;const[T,D]=this.find(t);let Q=t-D;const ot=this.iterator(T);let lt=ot();for(;lt&&Q<t+e;){const ft=lt.length();t>Q?i(lt,t-Q,Math.min(e,Q+ft-t)):i(lt,0,Math.min(ft,t+e-Q)),Q+=ft,lt=ot()}}map(t){return this.reduce((e,i)=>(e.push(t(i)),e),[])}reduce(t,e){const i=this.iterator();let T=i();for(;T;)e=t(e,T),T=i();return e}};a(x,"b");let C=x;function $(N,t){const e=t.find(N);if(e)return e;try{return t.create(N)}catch{const i=t.create(c.INLINE);return Array.from(N.childNodes).forEach(T=>{i.domNode.appendChild(T)}),N.parentNode&&N.parentNode.replaceChild(i.domNode,N),i.attach(),i}}a($,"y");const Z=(b=class extends g{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,b.uiClass&&this.uiNode.classList.add(b.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new C,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=$(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof S)return;throw e}})}deleteAt(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(i,T,D)=>{i.deleteAt(T,D)})}descendant(t,e=0){const[i,T]=this.children.find(e);return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,T]:i instanceof b?i.descendant(t,T):[null,-1]}descendants(t,e=0,i=Number.MAX_VALUE){let T=[],D=i;return this.children.forEachAt(e,i,(Q,ot,lt)=>{(null==t.blotName&&t(Q)||null!=t.blotName&&Q instanceof t)&&T.push(Q),Q instanceof b&&(T=T.concat(Q.descendants(t,ot,D))),D-=lt}),T}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=false;this.children.forEach(e=>{t||this.statics.allowedChildren.some(i=>e instanceof i)||(e.statics.scope===c.BLOCK_BLOT?(null!=e.next&&this.splitAfter(e),null!=e.prev&&this.splitAfter(e.prev),e.parent.unwrap(),t=true):e instanceof b?e.unwrap():e.remove())})}formatAt(t,e,i,T){this.children.forEachAt(t,e,(D,Q,ot)=>{D.formatAt(Q,ot,i,T)})}insertAt(t,e,i){const[T,D]=this.children.find(t);if(T)T.insertAt(D,e,i);else{const Q=null==i?this.scroll.create("text",e):this.scroll.create(e,i);this.appendChild(Q)}}insertBefore(t,e){null!=t.parent&&t.parent.children.remove(t);let i=null;this.children.insertBefore(t,e||null),t.parent=this,null!=e&&(i=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(t.domNode,i),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(i=>{t.insertBefore(i,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=false){const[i,T]=this.children.find(t,e),D=[[this,t]];return i instanceof b?D.concat(i.path(T,e)):(null!=i&&D.push([i,T]),D)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const i="string"==typeof t?this.scroll.create(t,e):t;return i instanceof b&&this.moveChildren(i),super.replaceWith(i)}split(t,e=false){if(!e){if(0===t)return this;if(t===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(t,this.length(),(T,D,Q)=>{const ot=T.split(D,e);null!=ot&&i.appendChild(ot)}),i}splitAfter(t){const e=this.clone();for(;null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const i=[],T=[];t.forEach(D=>{D.target===this.domNode&&"childList"===D.type&&(i.push(...D.addedNodes),T.push(...D.removedNodes))}),T.forEach(D=>{if(null!=D.parentNode&&"IFRAME"!==D.tagName&&document.body.compareDocumentPosition(D)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const Q=this.scroll.find(D);null!=Q&&(null==Q.domNode.parentNode||Q.domNode.parentNode===this.domNode)&&Q.detach()}),i.filter(D=>D.parentNode===this.domNode&&D!==this.uiNode).sort((D,Q)=>D===Q?0:D.compareDocumentPosition(Q)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(D=>{let Q=null;null!=D.nextSibling&&(Q=this.scroll.find(D.nextSibling));const ot=$(D,this.scroll);(ot.next!==Q||null==ot.next)&&(null!=ot.parent&&ot.parent.removeChild(this),this.insertBefore(ot,Q||void 0))}),this.enforceAllowedChildren()}},a(b,"t"),b);Z.uiClass="";const st=Z,A=(E=class extends st{static create(t){return super.create(t)}static formats(t,e){const i=e.query(E.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return true;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new q(this.domNode)}format(t,e){if(t!==this.statics.blotName||e){const i=this.scroll.query(t,c.INLINE);if(null==i)return;i instanceof v?this.attributes.attribute(i,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}else this.children.forEach(i=>{i instanceof E||(i=i.wrap(E.blotName,true)),this.attributes.copy(i)}),this.unwrap()}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,T){null!=this.formats()[i]||this.scroll.query(i,c.ATTRIBUTE)?this.isolate(t,e).format(i,T):super.formatAt(t,e,i,T)}optimize(t){super.optimize(t);const e=this.formats();if(0===Object.keys(e).length)return this.unwrap();const i=this.next;i instanceof E&&i.prev===this&&function(T,D){if(Object.keys(T).length!==Object.keys(D).length)return false;for(const Q in T)if(T[Q]!==D[Q])return false;return true}(e,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some(i=>i.target===this.domNode&&"attributes"===i.type)&&this.attributes.build()}wrap(t,e){const i=super.wrap(t,e);return i instanceof E&&this.attributes.move(i),i}},a(E,"t"),E);A.allowedChildren=[A,j],A.blotName="inline",A.scope=c.INLINE_BLOT,A.tagName="SPAN";const O=A,z=(k=class extends st{static create(t){return super.create(t)}static formats(t,e){const i=e.query(k.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return true;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new q(this.domNode)}format(t,e){const i=this.scroll.query(t,c.BLOCK);null!=i&&(i instanceof v?this.attributes.attribute(i,e):t!==this.statics.blotName||e?e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e):this.replaceWith(k.blotName))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,T){null!=this.scroll.query(i,c.BLOCK)?this.format(i,T):super.formatAt(t,e,i,T)}insertAt(t,e,i){if(null==i||null!=this.scroll.query(e,c.INLINE))super.insertAt(t,e,i);else{const T=this.split(t);if(null==T)throw new Error("Attempt to insertAt after block boundaries");{const D=this.scroll.create(e,i);T.parent.insertBefore(D,T)}}}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some(i=>i.target===this.domNode&&"attributes"===i.type)&&this.attributes.build()}},a(k,"t"),k);z.blotName="block",z.scope=c.BLOCK_BLOT,z.tagName="P",z.allowedChildren=[O,z,j];const M=z,W=(h=class extends st{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,i,T){super.formatAt(t,e,i,T),this.enforceAllowedChildren()}insertAt(t,e,i){super.insertAt(t,e,i),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}},a(h,"q"),h);W.blotName="container",W.scope=c.BLOCK_BLOT;const tt=W,et=(r=class extends j{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,i,T){0===t&&e===this.length()?this.format(i,T):super.formatAt(t,e,i,T)}formats(){return this.statics.formats(this.domNode,this.scroll)}},a(r,"_"),r),dt={attributes:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true},mt=(s=class extends st{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,dt),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=false){const i=this.registry.find(t,e);return i?i.scroll===this?i:e?this.find(i.scroll.domNode.parentNode,true):null:null}query(t,e=c.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),0===t&&e===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(t,e)}formatAt(t,e,i,T){this.update(),super.formatAt(t,e,i,T)}insertAt(t,e,i){this.update(),super.insertAt(t,e,i)}optimize(t=[],e={}){super.optimize(e);const i=e.mutationsMap||new WeakMap;let T=Array.from(this.observer.takeRecords());for(;T.length>0;)t.push(T.pop());const D=a((lt,ft=true)=>{null==lt||lt===this||null!=lt.domNode.parentNode&&(i.has(lt.domNode)||i.set(lt.domNode,[]),ft&&D(lt.parent))},"i"),Q=a(lt=>{i.has(lt.domNode)&&(lt instanceof st&&lt.children.forEach(Q),i.delete(lt.domNode),lt.optimize(e))},"s");let ot=t;for(let lt=0;ot.length>0;lt+=1){if(lt>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(ot.forEach(ft=>{const Et=this.find(ft.target,true);null!=Et&&(Et.domNode===ft.target&&("childList"===ft.type?(D(this.find(ft.previousSibling,false)),Array.from(ft.addedNodes).forEach(wt=>{const At=this.find(wt,false);D(At,false),At instanceof st&&At.children.forEach(jt=>{D(jt,false)})})):"attributes"===ft.type&&D(Et.prev)),D(Et))}),this.children.forEach(Q),ot=Array.from(this.observer.takeRecords()),T=ot.slice();T.length>0;)t.push(T.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const i=new WeakMap;t.map(T=>{const D=this.find(T.target,true);return null==D?null:i.has(D.domNode)?(i.get(D.domNode).push(T),null):(i.set(D.domNode,[T]),D)}).forEach(T=>{null!=T&&T!==this&&i.has(T.domNode)&&T.update(i.get(T.domNode)||[],e)}),e.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),e),this.optimize(t,e)}},a(s,"S"),s);mt.blotName="scroll",mt.defaultChild=M,mt.allowedChildren=[M,tt],mt.scope=c.BLOCK_BLOT,mt.tagName="DIV";const Y=mt,G=(u=class extends j{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,i){null==i?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,i)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=false){return[this.domNode,t]}split(t,e=false){if(!e){if(0===t)return this;if(t===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(t,e){t.some(i=>"characterData"===i.type&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}},a(u,"t"),u);G.blotName="text",G.scope=c.INLINE_BLOT;const it=G}},Ne={};function Ot(J){var _=Ne[J];if(void 0!==_)return _.exports;var n=Ne[J]={id:J,loaded:false,exports:{}};return be[J](n,n.exports,Ot),n.loaded=true,n.exports}a(Ot,"n");Ot.n=function(J){var _=J&&J.__esModule?function(){return J.default}:function(){return J};return Ot.d(_,{a:_}),_},Ot.d=function(J,_){for(var n in _)Ot.o(_,n)&&!Ot.o(J,n)&&Object.defineProperty(J,n,{enumerable:true,get:_[n]})},Ot.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(J){if("object"==typeof window)return window}}(),Ot.o=function(J,_){return Object.prototype.hasOwnProperty.call(J,_)},Ot.r=function(J){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(J,"__esModule",{value:true})},Ot.nmd=function(J){return J.paths=[],J.children||(J.children=[]),J};var Be={};return function(){var xt,Dt,Mt,Pt,Qt,Zt;Ot.d(Be,{default:a(function(){return je},"default")});var J=Ot(3729),_=Ot(8276),n=Ot(7912),c=Ot(6003);const ye=class ye extends c.ClassAttributor{add(o,l){let P=0;if("+1"===l||"-1"===l){const V=this.value(o)||0;P="+1"===l?V+1:V-1}else"number"==typeof l&&(P=l);return 0===P?(this.remove(o),true):super.add(o,P.toString())}canAdd(o,l){return super.canAdd(o,l)||super.canAdd(o,parseInt(l,10))}value(o){return parseInt(super.value(o),10)||void 0}};a(ye,"o");let v=ye;var S=new v("indent","ql-indent",{scope:c.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),y=Ot(9698);const te=class te extends y.Ay{};a(te,"c");bt(te,"blotName","blockquote");bt(te,"tagName","blockquote");let R=te;var p=R;const ae=class ae extends y.Ay{static formats(o){return this.tagName.indexOf(o.tagName)+1}};a(ae,"h");bt(ae,"blotName","header");bt(ae,"tagName",["H1","H2","H3","H4","H5","H6"]);let w=ae;var m=w,f=Ot(580),q=Ot(6142);const re=class re extends f.A{};a(re,"g");let B=re;B.blotName="list-container",B.tagName="OL";const fe=class fe extends y.Ay{static create(o){const l=super.create();return l.setAttribute("data-list",o),l}static formats(o){return o.getAttribute("data-list")||void 0}static register(){q.Ay.register(B)}constructor(o,l){super(o,l);const P=l.ownerDocument.createElement("span"),V=a(X=>{if(!o.isEnabled())return;const yt=this.statics.formats(l,o);"checked"===yt?(this.format("list","unchecked"),X.preventDefault()):"unchecked"===yt&&(this.format("list","checked"),X.preventDefault())},"r");P.addEventListener("mousedown",V),P.addEventListener("touchstart",V),this.attachUI(P)}format(o,l){o===this.statics.blotName&&l?this.domNode.setAttribute("data-list",l):super.format(o,l)}};a(fe,"m");let g=fe;g.blotName="list",g.tagName="LI",B.allowedChildren=[g],g.requiredContainer=B;var L=Ot(9541),j=Ot(8638),C=Ot(6772),$=Ot(664),Z=Ot(4850);const ne=class ne extends Z.A{static create(){return super.create()}static formats(){return true}optimize(o){super.optimize(o),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};a(ne,"N");bt(ne,"blotName","bold");bt(ne,"tagName",["STRONG","B"]);let st=ne;var A=st;const pe=class pe extends Z.A{static create(o){const l=super.create(o);return l.setAttribute("href",this.sanitize(o)),l.setAttribute("rel","noopener noreferrer"),l.setAttribute("target","_blank"),l}static formats(o){return o.getAttribute("href")}static sanitize(o){return z(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}format(o,l){o===this.statics.blotName&&l?this.domNode.setAttribute("href",this.constructor.sanitize(l)):super.format(o,l)}};a(pe,"w");bt(pe,"blotName","link");bt(pe,"tagName","A");bt(pe,"SANITIZED_URL","about:blank");bt(pe,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);let O=pe;function z(gt,o){const l=document.createElement("a");l.href=gt;const P=l.href.slice(0,l.href.indexOf(":"));return o.indexOf(P)>-1}a(z,"q");const se=class se extends Z.A{static create(o){return"super"===o?document.createElement("sup"):"sub"===o?document.createElement("sub"):super.create(o)}static formats(o){return"SUB"===o.tagName?"sub":"SUP"===o.tagName?"super":void 0}};a(se,"k");bt(se,"blotName","script");bt(se,"tagName",["SUB","SUP"]);let M=se;var W=M;const ge=class ge extends Z.A{};a(ge,"L");bt(ge,"blotName","underline");bt(ge,"tagName","U");let tt=ge;var et=tt,dt=Ot(746);const ce=class ce extends dt.A{static create(o){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const l=super.create(o);return"string"==typeof o&&(window.katex.render(o,l,{throwOnError:false,errorColor:"#f00"}),l.setAttribute("data-value",o)),l}static value(o){return o.getAttribute("data-value")}html(){const{formula:o}=this.value();return`<span>${o}</span>`}};a(ce,"T");bt(ce,"blotName","formula");bt(ce,"className","ql-formula");bt(ce,"tagName","SPAN");let mt=ce;var Y=mt;const G=["alt","height","width"];const ve=class ve extends c.EmbedBlot{static create(o){const l=super.create(o);return"string"==typeof o&&l.setAttribute("src",this.sanitize(o)),l}static formats(o){return G.reduce((l,P)=>(o.hasAttribute(P)&&(l[P]=o.getAttribute(P)),l),{})}static match(o){return/\.(jpe?g|gif|png)$/.test(o)||/^data:image\/.+;base64/.test(o)}static sanitize(o){return z(o,["http","https","data"])?o:"//:0"}static value(o){return o.getAttribute("src")}format(o,l){G.indexOf(o)>-1?l?this.domNode.setAttribute(o,l):this.domNode.removeAttribute(o):super.format(o,l)}};a(ve,"R");bt(ve,"blotName","image");bt(ve,"tagName","IMG");let it=ve;var rt=it;const at=["height","width"];const Ae=class Ae extends y.zo{static create(o){const l=super.create(o);return l.setAttribute("frameborder","0"),l.setAttribute("allowfullscreen","true"),l.setAttribute("src",this.sanitize(o)),l}static formats(o){return at.reduce((l,P)=>(o.hasAttribute(P)&&(l[P]=o.getAttribute(P)),l),{})}static sanitize(o){return O.sanitize(o)}static value(o){return o.getAttribute("src")}format(o,l){at.indexOf(o)>-1?l?this.domNode.setAttribute(o,l):this.domNode.removeAttribute(o):super.format(o,l)}html(){const{video:o}=this.value();return`<a href="${o}">${o}</a>`}};a(Ae,"M");bt(Ae,"blotName","video");bt(Ae,"className","ql-video");bt(Ae,"tagName","IFRAME");let nt=Ae;var ct=nt,ht=Ot(9404),pt=Ot(5232),H=Ot.n(pt),U=Ot(4266),x=Ot(3036),b=Ot(4541),E=Ot(5508),k=Ot(584);const h=new c.ClassAttributor("code-token","hljs",{scope:c.Scope.INLINE});const Ee=class Ee extends Z.A{static formats(o,l){for(;null!=o&&o!==l.domNode;){if(o.classList&&o.classList.contains(ht.Ay.className))return super.formats(o,l);o=o.parentNode}}constructor(o,l,P){super(o,l,P),h.add(this.domNode,P)}format(o,l){o!==Ee.blotName?super.format(o,l):l?h.add(this.domNode,l):(h.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),h.value(this.domNode)||this.unwrap()}};a(Ee,"Z");let r=Ee;r.blotName="code-token",r.className="ql-token";const ue=class ue extends ht.Ay{static create(o){const l=super.create(o);return"string"==typeof o&&l.setAttribute("data-language",o),l}static formats(o){return o.getAttribute("data-language")||"plain"}static register(){}format(o,l){o===this.statics.blotName&&l?this.domNode.setAttribute("data-language",l):super.format(o,l)}replaceWith(o,l){return this.formatAt(0,this.length(),r.blotName,false),super.replaceWith(o,l)}};a(ue,"G");let s=ue;const we=class we extends ht.EJ{attach(){super.attach(),this.forceNext=false,this.scroll.emitMount(this)}format(o,l){o===s.blotName&&(this.forceNext=true,this.children.forEach(P=>{P.format(o,l)}))}formatAt(o,l,P,V){P===s.blotName&&(this.forceNext=true),super.formatAt(o,l,P,V)}highlight(o){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const P=`${Array.from(this.domNode.childNodes).filter(X=>X!==this.uiNode).map(X=>X.textContent).join("\n")}
`,V=s.formats(this.children.head.domNode);if(l||this.forceNext||this.cachedText!==P){if(P.trim().length>0||null==this.cachedText){const X=this.children.reduce((qt,Gt)=>qt.concat((0,y.mG)(Gt,false)),new(H())),yt=o(P,V);X.diff(yt).reduce((qt,Gt)=>{let{retain:$t,attributes:Xt}=Gt;return $t?(Xt&&Object.keys(Xt).forEach(Jt=>{[s.blotName,r.blotName].includes(Jt)&&this.formatAt(qt,$t,Jt,Xt[Jt])}),qt+$t):qt},0)}this.cachedText=P,this.forceNext=false}}html(o,l){const[P]=this.children.find(o);return`<pre data-language="${P?s.formats(P.domNode):"plain"}">
${(0,E.X)(this.code(o,l))}
</pre>`}optimize(o){if(super.optimize(o),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const l=s.formats(this.children.head.domNode);l!==this.uiNode.value&&(this.uiNode.value=l)}}};a(we,"X");let u=we;u.allowedChildren=[s],s.requiredContainer=u,s.allowedChildren=[r,b.A,E.A,x.A];const F=class F extends U.A{static register(){q.Ay.register(r,true),q.Ay.register(s,true),q.Ay.register(u,true)}constructor(o,l){if(super(o,l),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((P,V)=>{let{key:X}=V;return P[X]=true,P},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(q.Ay.events.SCROLL_BLOT_MOUNT,o=>{if(!(o instanceof u))return;const l=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(P=>{let{key:V,label:X}=P;const yt=l.ownerDocument.createElement("option");yt.textContent=X,yt.setAttribute("value",V),l.appendChild(yt)}),l.addEventListener("change",()=>{o.format(s.blotName,l.value),this.quill.root.focus(),this.highlight(o,true)}),null==o.uiNode&&(o.attachUI(l),o.children.head&&(l.value=s.formats(o.children.head.domNode)))})}initTimer(){let o=null;this.quill.on(q.Ay.events.SCROLL_OPTIMIZE,()=>{o&&clearTimeout(o),o=setTimeout(()=>{this.highlight(),o=null},this.options.interval)})}highlight(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(q.Ay.sources.USER);const P=this.quill.getSelection();(null==o?this.quill.scroll.descendants(u):[o]).forEach(V=>{V.highlight(this.highlightBlot,l)}),this.quill.update(q.Ay.sources.SILENT),null!=P&&this.quill.setSelection(P,q.Ay.sources.SILENT)}highlightBlot(o){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(l=this.languages[l]?l:"plain","plain"===l)return(0,E.X)(o).split("\n").reduce((V,X,yt)=>(0!==yt&&V.insert("\n",{[ht.Ay.blotName]:l}),V.insert(X)),new(H()));const P=this.quill.root.ownerDocument.createElement("div");return P.classList.add(ht.Ay.className),P.innerHTML=((V,X,yt)=>{if("string"==typeof V.versionString){const qt=V.versionString.split(".")[0];if(parseInt(qt,10)>=11)return V.highlight(yt,{language:X}).value}return V.highlight(X,yt).value})(this.options.hljs,l,o),(0,k.hV)(this.quill.scroll,P,[(V,X)=>{const yt=h.value(V);return yt?X.compose(new(H())().retain(X.length(),{[r.blotName]:yt})):X}],[(V,X)=>V.data.split("\n").reduce((yt,qt,Gt)=>(0!==Gt&&yt.insert("\n",{[ht.Ay.blotName]:l}),yt.insert(qt)),X)],new WeakMap)}};a(F,"Q");let N=F;N.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const d=class d extends y.Ay{static create(o){const l=super.create();return o?l.setAttribute("data-row",o):l.setAttribute("data-row",D()),l}static formats(o){if(o.hasAttribute("data-row"))return o.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(o,l){o===d.blotName&&l?this.domNode.setAttribute("data-row",l):super.format(o,l)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};a(d,"J");bt(d,"blotName","table");bt(d,"tagName","TD");let t=d;const I=class I extends f.A{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const o=this.children.head.formats(),l=this.children.tail.formats(),P=this.next.children.head.formats(),V=this.next.children.tail.formats();return o.table===l.table&&o.table===P.table&&o.table===V.table}return false}optimize(o){super.optimize(o),this.children.forEach(l=>{if(null==l.next)return;const P=l.formats(),V=l.next.formats();if(P.table!==V.table){const X=this.splitAfter(l);X&&X.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}};a(I,"Y");bt(I,"blotName","table-row");bt(I,"tagName","TR");let e=I;const K=class K extends f.A{};a(K,"tt");bt(K,"blotName","table-body");bt(K,"tagName","TBODY");let i=K;const ut=class ut extends f.A{balanceCells(){const o=this.descendants(e),l=o.reduce((P,V)=>Math.max(V.children.length,P),0);o.forEach(P=>{new Array(l-P.children.length).fill(0).forEach(()=>{let V;null!=P.children.head&&(V=t.formats(P.children.head.domNode));const X=this.scroll.create(t.blotName,V);P.appendChild(X),X.optimize()})})}cells(o){return this.rows().map(l=>l.children.at(o))}deleteColumn(o){const[l]=this.descendant(i);null!=l&&null!=l.children.head&&l.children.forEach(P=>{const V=P.children.at(o);null!=V&&V.remove()})}insertColumn(o){const[l]=this.descendant(i);null!=l&&null!=l.children.head&&l.children.forEach(P=>{const V=P.children.at(o),X=t.formats(P.children.head.domNode),yt=this.scroll.create(t.blotName,X);P.insertBefore(yt,V)})}insertRow(o){const[l]=this.descendant(i);if(null==l||null==l.children.head)return;const P=D(),V=this.scroll.create(e.blotName);l.children.head.children.forEach(()=>{const yt=this.scroll.create(t.blotName,P);V.appendChild(yt)});const X=l.children.at(o);l.insertBefore(V,X)}rows(){const o=this.children.head;return null==o?[]:o.children.map(l=>l)}};a(ut,"et");bt(ut,"blotName","table-container");bt(ut,"tagName","TABLE");let T=ut;function D(){return`row-${Math.random().toString(36).slice(2,6)}`}a(D,"nt");T.allowedChildren=[i],i.requiredContainer=T,i.allowedChildren=[e],e.requiredContainer=i,e.allowedChildren=[t],t.requiredContainer=e;const St=class St extends U.A{static register(){q.Ay.register(t),q.Ay.register(e),q.Ay.register(i),q.Ay.register(T)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(T).forEach(o=>{o.balanceCells()})}deleteColumn(){const[o,,l]=this.getTable();null!=l&&(o.deleteColumn(l.cellOffset()),this.quill.update(q.Ay.sources.USER))}deleteRow(){const[,o]=this.getTable();null!=o&&(o.remove(),this.quill.update(q.Ay.sources.USER))}deleteTable(){const[o]=this.getTable();if(null==o)return;const l=o.offset();o.remove(),this.quill.update(q.Ay.sources.USER),this.quill.setSelection(l,q.Ay.sources.SILENT)}getTable(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==o)return[null,null,null,-1];const[l,P]=this.quill.getLine(o.index);if(null==l||l.statics.blotName!==t.blotName)return[null,null,null,-1];const V=l.parent;return[V.parent.parent,V,l,P]}insertColumn(o){const l=this.quill.getSelection();if(!l)return;const[P,V,X]=this.getTable(l);if(null==X)return;const yt=X.cellOffset();P.insertColumn(yt+o),this.quill.update(q.Ay.sources.USER);let qt=V.rowOffset();0===o&&(qt+=1),this.quill.setSelection(l.index+qt,l.length,q.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(o){const l=this.quill.getSelection();if(!l)return;const[P,V,X]=this.getTable(l);if(null==X)return;const yt=V.rowOffset();P.insertRow(yt+o),this.quill.update(q.Ay.sources.USER),o>0?this.quill.setSelection(l,q.Ay.sources.SILENT):this.quill.setSelection(l.index+V.children.length,l.length,q.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(o,l){const P=this.quill.getSelection();if(null==P)return;const V=new Array(o).fill(0).reduce(X=>{const yt=new Array(l).fill("\n").join("");return X.insert(yt,{table:D()})},new(H())().retain(P.index));this.quill.updateContents(V,q.Ay.sources.USER),this.quill.setSelection(P.index,q.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(q.Ay.events.SCROLL_OPTIMIZE,o=>{o.some(l=>!!["TD","TR","TBODY","TABLE"].includes(l.target.tagName)&&(this.quill.once(q.Ay.events.TEXT_CHANGE,(P,V,X)=>{X===q.Ay.sources.USER&&this.balanceTables()}),true))})}};a(St,"rt");let Q=St;var ot=Q;const lt=(0,Ot(6078).A)("quill:toolbar");const Nt=class Nt extends U.A{constructor(o,l){var P,V;if(super(o,l),Array.isArray(this.options.container)){const X=document.createElement("div");X.setAttribute("role","toolbar"),function(yt,qt){Array.isArray(qt[0])||(qt=[qt]),qt.forEach(Gt=>{const $t=document.createElement("span");$t.classList.add("ql-formats"),Gt.forEach(Xt=>{if("string"==typeof Xt)Et($t,Xt);else{const Jt=Object.keys(Xt)[0],Le=Xt[Jt];Array.isArray(Le)?function(Se,xe,ze){const Ce=document.createElement("select");Ce.classList.add(`ql-${xe}`),ze.forEach(Me=>{const _e=document.createElement("option");false!==Me?_e.setAttribute("value",String(Me)):_e.setAttribute("selected","selected"),Ce.appendChild(_e)}),Se.appendChild(Ce)}($t,Jt,Le):Et($t,Jt,Le)}}),yt.appendChild($t)})}(X,this.options.container),(V=(P=o.container)==null?void 0:P.parentNode)==null?void 0:V.insertBefore(X,o.container),this.container=X}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(X=>{var qt;const yt=(qt=this.options.handlers)==null?void 0:qt[X];yt&&this.addHandler(X,yt)}),Array.from(this.container.querySelectorAll("button, select")).forEach(X=>{this.attach(X)}),this.quill.on(q.Ay.events.EDITOR_CHANGE,()=>{const[X]=this.quill.selection.getRange();this.update(X)})):lt.error("Container required for toolbar",this.options)}addHandler(o,l){this.handlers[o]=l}attach(o){let l=Array.from(o.classList).find(V=>0===V.indexOf("ql-"));if(!l)return;if(l=l.slice(3),"BUTTON"===o.tagName&&o.setAttribute("type","button"),null==this.handlers[l]&&null==this.quill.scroll.query(l))return void lt.warn("ignoring attaching to nonexistent format",l,o);const P="SELECT"===o.tagName?"change":"click";o.addEventListener(P,V=>{let X;if("SELECT"===o.tagName){if(o.selectedIndex<0)return;const qt=o.options[o.selectedIndex];X=!qt.hasAttribute("selected")&&(qt.value||false)}else X=!o.classList.contains("ql-active")&&(o.value||!o.hasAttribute("value")),V.preventDefault();this.quill.focus();const[yt]=this.quill.selection.getRange();if(null!=this.handlers[l])this.handlers[l].call(this,X);else if(this.quill.scroll.query(l).prototype instanceof c.EmbedBlot){if(X=prompt(`Enter ${l}`),!X)return;this.quill.updateContents(new(H())().retain(yt.index).delete(yt.length).insert({[l]:X}),q.Ay.sources.USER)}else this.quill.format(l,X,q.Ay.sources.USER);this.update(yt)}),this.controls.push([l,o])}update(o){const l=null==o?{}:this.quill.getFormat(o);this.controls.forEach(P=>{const[V,X]=P;if("SELECT"===X.tagName){let yt=null;if(null==o)yt=null;else if(null==l[V])yt=X.querySelector("option[selected]");else if(!Array.isArray(l[V])){let qt=l[V];"string"==typeof qt&&(qt=qt.replace(/"/g,'\\"')),yt=X.querySelector(`option[value="${qt}"]`)}null==yt?(X.value="",X.selectedIndex=-1):yt.selected=true}else if(null==o)X.classList.remove("ql-active"),X.setAttribute("aria-pressed","false");else if(X.hasAttribute("value")){const yt=l[V],qt=yt===X.getAttribute("value")||null!=yt&&yt.toString()===X.getAttribute("value")||null==yt&&!X.getAttribute("value");X.classList.toggle("ql-active",qt),X.setAttribute("aria-pressed",qt.toString())}else{const yt=null!=l[V];X.classList.toggle("ql-active",yt),X.setAttribute("aria-pressed",yt.toString())}})}};a(Nt,"ot");let ft=Nt;function Et(gt,o,l){const P=document.createElement("button");P.setAttribute("type","button"),P.classList.add(`ql-${o}`),P.setAttribute("aria-pressed","false"),null!=l?(P.value=l,P.setAttribute("aria-label",`${o}: ${l}`)):P.setAttribute("aria-label",o),gt.appendChild(P)}a(Et,"lt");ft.DEFAULTS={},ft.DEFAULTS={container:null,handlers:{clean(){const gt=this.quill.getSelection();if(null!=gt)if(0===gt.length){const o=this.quill.getFormat();Object.keys(o).forEach(l=>{null!=this.quill.scroll.query(l,c.Scope.INLINE)&&this.quill.format(l,false,q.Ay.sources.USER)})}else this.quill.removeFormat(gt.index,gt.length,q.Ay.sources.USER)},direction(gt){const{align:o}=this.quill.getFormat();"rtl"===gt&&null==o?this.quill.format("align","right",q.Ay.sources.USER):gt||"right"!==o||this.quill.format("align",false,q.Ay.sources.USER),this.quill.format("direction",gt,q.Ay.sources.USER)},indent(gt){const o=this.quill.getSelection(),l=this.quill.getFormat(o),P=parseInt(l.indent||0,10);if("+1"===gt||"-1"===gt){let V="+1"===gt?1:-1;"rtl"===l.direction&&(V*=-1),this.quill.format("indent",P+V,q.Ay.sources.USER)}},link(gt){true===gt&&(gt=prompt("Enter link URL:")),this.quill.format("link",gt,q.Ay.sources.USER)},list(gt){const o=this.quill.getSelection(),l=this.quill.getFormat(o);"check"===gt?"checked"===l.list||"unchecked"===l.list?this.quill.format("list",false,q.Ay.sources.USER):this.quill.format("list","unchecked",q.Ay.sources.USER):this.quill.format("list",gt,q.Ay.sources.USER)}}};const wt='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var At={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:wt,"code-block":wt,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let jt=0;function Tt(gt,o){gt.setAttribute(o,`${!("true"===gt.getAttribute(o))}`)}a(Tt,"ht");var It=(xt=class{constructor(o){this.select=o,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",l=>{switch(l.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),l.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Tt(this.label,"aria-expanded"),Tt(this.options,"aria-hidden")}buildItem(o){const l=document.createElement("span");l.tabIndex="0",l.setAttribute("role","button"),l.classList.add("ql-picker-item");const P=o.getAttribute("value");return P&&l.setAttribute("data-value",P),o.textContent&&l.setAttribute("data-label",o.textContent),l.addEventListener("click",()=>{this.selectItem(l,true)}),l.addEventListener("keydown",V=>{switch(V.key){case"Enter":this.selectItem(l,true),V.preventDefault();break;case"Escape":this.escape(),V.preventDefault()}}),l}buildLabel(){const o=document.createElement("span");return o.classList.add("ql-picker-label"),o.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',o.tabIndex="0",o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),this.container.appendChild(o),o}buildOptions(){const o=document.createElement("span");o.classList.add("ql-picker-options"),o.setAttribute("aria-hidden","true"),o.tabIndex="-1",o.id=`ql-picker-options-${jt}`,jt+=1,this.label.setAttribute("aria-controls",o.id),this.options=o,Array.from(this.select.options).forEach(l=>{const P=this.buildItem(l);o.appendChild(P),true===l.selected&&this.selectItem(P)}),this.container.appendChild(o)}buildPicker(){Array.from(this.select.attributes).forEach(o=>{this.container.setAttribute(o.name,o.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(o){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const P=this.container.querySelector(".ql-selected");o!==P&&(null!=P&&P.classList.remove("ql-selected"),null!=o&&(o.classList.add("ql-selected"),this.select.selectedIndex=Array.from(o.parentNode.children).indexOf(o),o.hasAttribute("data-value")?this.label.setAttribute("data-value",o.getAttribute("data-value")):this.label.removeAttribute("data-value"),o.hasAttribute("data-label")?this.label.setAttribute("data-label",o.getAttribute("data-label")):this.label.removeAttribute("data-label"),l&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let o;if(this.select.selectedIndex>-1){const P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];o=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);const l=null!=o&&o!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",l)}},a(xt,"dt"),xt),Lt=(Dt=class extends It{constructor(o,l){super(o),this.label.innerHTML=l,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(P=>{P.classList.add("ql-primary")})}buildItem(o){const l=super.buildItem(o);return l.style.backgroundColor=o.getAttribute("value")||"",l}selectItem(o,l){super.selectItem(o,l);const P=this.label.querySelector(".ql-color-label"),V=o&&o.getAttribute("data-value")||"";P&&("line"===P.tagName?P.style.stroke=V:P.style.fill=V)}},a(Dt,"ft"),Dt),_t=(Mt=class extends It{constructor(o,l){super(o),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(P=>{P.innerHTML=l[P.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(o,l){super.selectItem(o,l);const P=o||this.defaultItem;if(null!=P){if(this.label.innerHTML===P.innerHTML)return;this.label.innerHTML=P.innerHTML}}},a(Mt,"pt"),Mt),Bt=(Pt=class{constructor(o,l){this.quill=o,this.boundsContainer=l||document.body,this.root=o.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(P=>{const{overflowY:V}=getComputedStyle(P,null);return"visible"!==V&&"clip"!==V})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(o){const l=o.left+o.width/2-this.root.offsetWidth/2,P=o.bottom+this.quill.root.scrollTop;this.root.style.left=`${l}px`,this.root.style.top=`${P}px`,this.root.classList.remove("ql-flip");const V=this.boundsContainer.getBoundingClientRect(),X=this.root.getBoundingClientRect();let yt=0;if(X.right>V.right&&(yt=V.right-X.right,this.root.style.left=`${l+yt}px`),X.left<V.left&&(yt=V.left-X.left,this.root.style.left=`${l+yt}px`),X.bottom>V.bottom){const qt=X.bottom-X.top,Gt=o.bottom-o.top+qt;this.root.style.top=P-Gt+"px",this.root.classList.add("ql-flip")}return yt}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},a(Pt,"gt"),Pt),Ut=Ot(8347),Ct=Ot(5374),Oe=Ot(9609);const Re=[false,"center","right","justify"],qe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Ue=[false,"serif","monospace"],De=["1","2","3",false],Ie=["small",false,"large","huge"];const zt=class zt extends Oe.A{constructor(o,l){super(o,l);const P=a(V=>{document.body.contains(o.root)?(null==this.tooltip||this.tooltip.root.contains(V.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(X=>{X.container.contains(V.target)||X.close()})):document.body.removeEventListener("click",P)},"n");o.emitter.listenDOM("click",document.body,P)}addModule(o){const l=super.addModule(o);return"toolbar"===o&&this.extendToolbar(l),l}buildButtons(o,l){Array.from(o).forEach(P=>{(P.getAttribute("class")||"").split(/\s+/).forEach(V=>{if(V.startsWith("ql-")&&(V=V.slice(3),null!=l[V]))if("direction"===V)P.innerHTML=l[V][""]+l[V].rtl;else if("string"==typeof l[V])P.innerHTML=l[V];else{const X=P.value||"";null!=X&&l[V][X]&&(P.innerHTML=l[V][X])}})})}buildPickers(o,l){this.pickers=Array.from(o).map(P=>{if(P.classList.contains("ql-align")&&(null==P.querySelector("option")&&Yt(P,Re),"object"==typeof l.align))return new _t(P,l.align);if(P.classList.contains("ql-background")||P.classList.contains("ql-color")){const V=P.classList.contains("ql-background")?"background":"color";return null==P.querySelector("option")&&Yt(P,qe,"background"===V?"#ffffff":"#000000"),new Lt(P,l[V])}return null==P.querySelector("option")&&(P.classList.contains("ql-font")?Yt(P,Ue):P.classList.contains("ql-header")?Yt(P,De):P.classList.contains("ql-size")&&Yt(P,Ie)),new It(P)}),this.quill.on(Ct.A.events.EDITOR_CHANGE,()=>{this.pickers.forEach(P=>{P.update()})})}};a(zt,"wt");let he=zt;he.DEFAULTS=(0,Ut.A)({},Oe.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let gt=this.container.querySelector("input.ql-image[type=file]");null==gt&&(gt=document.createElement("input"),gt.setAttribute("type","file"),gt.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),gt.classList.add("ql-image"),gt.addEventListener("change",()=>{const o=this.quill.getSelection(true);this.quill.uploader.upload(o,gt.files),gt.value=""}),this.container.appendChild(gt)),gt.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});const Ft=class Ft extends Bt{constructor(o,l){super(o,l),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",o=>{"Enter"===o.key?(this.save(),o.preventDefault()):"Escape"===o.key&&(this.cancel(),o.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=l?this.textbox.value=l:o!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const P=this.quill.getBounds(this.quill.selection.savedRange);null!=P&&this.position(P),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${o}`)||""),this.root.setAttribute("data-mode",o)}restoreFocus(){this.quill.focus({preventScroll:true})}save(){let{value:o}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:l}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",o,Ct.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",o,Ct.A.sources.USER)),this.quill.root.scrollTop=l;break}case"video":o=function(l){let P=l.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||l.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return P?`${P[1]||"https"}://www.youtube.com/embed/${P[2]}?showinfo=0`:(P=l.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${P[1]||"https"}://player.vimeo.com/video/${P[2]}/`:l}(o);case"formula":{if(!o)break;const l=this.quill.getSelection(true);if(null!=l){const P=l.index+l.length;this.quill.insertEmbed(P,this.root.getAttribute("data-mode"),o,Ct.A.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(P+1," ",Ct.A.sources.USER),this.quill.setSelection(P+2,Ct.A.sources.USER)}break}}this.textbox.value="",this.hide()}};a(Ft,"qt");let ie=Ft;function Yt(gt,o){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.forEach(P=>{const V=document.createElement("option");P===l?V.setAttribute("selected","selected"):V.setAttribute("value",String(P)),gt.appendChild(V)})}a(Yt,"kt");var de=Ot(8298);const oe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];const vt=class vt extends ie{constructor(o,l){super(o,l),this.quill.on(Ct.A.events.EDITOR_CHANGE,(P,V,X,yt)=>{if(P===Ct.A.events.SELECTION_CHANGE)if(null!=V&&V.length>0&&yt===Ct.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const qt=this.quill.getLines(V.index,V.length);if(1===qt.length){const Gt=this.quill.getBounds(V);null!=Gt&&this.position(Gt)}else{const Gt=qt[qt.length-1],$t=this.quill.getIndex(Gt),Xt=Math.min(Gt.length()-1,V.index+V.length-$t),Jt=this.quill.getBounds(new de.Q($t,Xt));null!=Jt&&this.position(Jt)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ct.A.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const o=this.quill.getSelection();if(null!=o){const l=this.quill.getBounds(o);null!=l&&this.position(l)}},1)})}cancel(){this.show()}position(o){const l=super.position(o),P=this.root.querySelector(".ql-tooltip-arrow");return P.style.marginLeft="",0!==l&&(P.style.marginLeft=-1*l-P.offsetWidth/2+"px"),l}};a(vt,"St");bt(vt,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));let Wt=vt;const kt=class kt extends he{constructor(o,l){null!=l.modules.toolbar&&null==l.modules.toolbar.container&&(l.modules.toolbar.container=oe),super(o,l),this.quill.container.classList.add("ql-bubble")}extendToolbar(o){this.tooltip=new Wt(this.quill,this.options.bounds),null!=o.container&&(this.tooltip.root.appendChild(o.container),this.buildButtons(o.container.querySelectorAll("button"),At),this.buildPickers(o.container.querySelectorAll("select"),At))}};a(kt,"Ot");let ee=kt;ee.DEFAULTS=(0,Ut.A)({},he.DEFAULTS,{modules:{toolbar:{handlers:{link(gt){gt?this.quill.theme.tooltip.edit():this.quill.format("link",false,q.Ay.sources.USER)}}}}});const le=[[{header:["1","2","3",false]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];const Rt=class Rt extends ie{constructor(){super(...arguments);bt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",l=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),l.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",l=>{if(null!=this.linkRange){const P=this.linkRange;this.restoreFocus(),this.quill.formatText(P,"link",false,Ct.A.sources.USER),delete this.linkRange}l.preventDefault(),this.hide()}),this.quill.on(Ct.A.events.SELECTION_CHANGE,(l,P,V)=>{if(null!=l){if(0===l.length&&V===Ct.A.sources.USER){const[X,yt]=this.quill.scroll.descendant(O,l.index);if(null!=X){this.linkRange=new de.Q(l.index-yt,X.length());const qt=O.formats(X.domNode);this.preview.textContent=qt,this.preview.setAttribute("href",qt),this.show();const Gt=this.quill.getBounds(this.linkRange);return void(null!=Gt&&this.position(Gt))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}};a(Rt,"jt");bt(Rt,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));let ke=Rt;const Ht=class Ht extends he{constructor(o,l){null!=l.modules.toolbar&&null==l.modules.toolbar.container&&(l.modules.toolbar.container=le),super(o,l),this.quill.container.classList.add("ql-snow")}extendToolbar(o){null!=o.container&&(o.container.classList.add("ql-snow"),this.buildButtons(o.container.querySelectorAll("button"),At),this.buildPickers(o.container.querySelectorAll("select"),At),this.tooltip=new ke(this.quill,this.options.bounds),o.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:true},(l,P)=>{o.handlers.link.call(o,!P.format.link)}))}};a(Ht,"Ct");let me=Ht;me.DEFAULTS=(0,Ut.A)({},he.DEFAULTS,{modules:{toolbar:{handlers:{link(gt){if(gt){const o=this.quill.getSelection();if(null==o||0===o.length)return;let l=this.quill.getText(o);/^\S+@\S+\.\S+$/.test(l)&&0!==l.indexOf("mailto:")&&(l=`mailto:${l}`);const{tooltip:P}=this.quill.theme;P.edit("link",l)}else this.quill.format("link",false,q.Ay.sources.USER)}}}}});var Te=me;J.default.register({"attributors/attribute/direction":n.Mc,"attributors/class/align":_.qh,"attributors/class/background":L.l,"attributors/class/color":j.g3,"attributors/class/direction":n.sY,"attributors/class/font":C.q,"attributors/class/size":$.U,"attributors/style/align":_.Hu,"attributors/style/background":L.s,"attributors/style/color":j.JM,"attributors/style/direction":n.VL,"attributors/style/font":C.z,"attributors/style/size":$.r},true),J.default.register({"formats/align":_.qh,"formats/direction":n.sY,"formats/indent":S,"formats/background":L.s,"formats/color":j.JM,"formats/font":C.q,"formats/size":$.U,"formats/blockquote":p,"formats/code-block":ht.Ay,"formats/header":m,"formats/list":g,"formats/bold":A,"formats/code":ht.Cy,"formats/italic":(Qt=class extends A{},a(Qt,"formats/italic"),bt(Qt,"blotName","italic"),bt(Qt,"tagName",["EM","I"]),Qt),"formats/link":O,"formats/script":W,"formats/strike":(Zt=class extends A{},a(Zt,"formats/strike"),bt(Zt,"blotName","strike"),bt(Zt,"tagName",["S","STRIKE"]),Zt),"formats/underline":et,"formats/formula":Y,"formats/image":rt,"formats/video":ct,"modules/syntax":N,"modules/table":ot,"modules/toolbar":ft,"themes/bubble":ee,"themes/snow":Te,"ui/icons":At,"ui/picker":It,"ui/icon-picker":_t,"ui/color-picker":Lt,"ui/tooltip":Bt},true);var je=J.default}(),Be.default}()})})(Pe,Pe.exports);return Pe.exports}a(Ye,"requireQuill");var Ge=Ye();const tr=Qe(Ge);const nr=Je({__proto__:null,default:tr},[Ge]);export{nr as q};
