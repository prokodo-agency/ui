var k=Object.defineProperty;var t=(e,r)=>k(e,"name",{value:r,configurable:true});import{j as d}from"./jsx-runtime-CGXnEs--.js";import{D as m,d as a}from"./DatePicker-C-sbdbRK.js";import{r as u}from"./index-Dko9tpwX.js";const C={title:"prokodo/form/DatePicker",component:m,parameters:{layout:"padded",docs:{description:{component:"A native `<input type='date'>` wrapped with Dayjs parsing, validation and floating label."}}},tags:["autodocs"],argTypes:{name:{control:"text",description:"Unique form field name/id",table:{type:{summary:"string"}}},label:{control:"text",description:"Floating label text",table:{type:{summary:"string"}}},required:{control:"boolean",description:"Mark field as required",table:{type:{summary:"boolean"}}},helperText:{control:"text",description:"Helper or hint text",table:{type:{summary:"string"}}},errorText:{control:"text",description:"Error text to display",table:{type:{summary:"string"}}},format:{control:"text",description:"Dayjs parsing format (defaults to YYYY-MM-DD)",table:{type:{summary:"string"}}},withTime:{control:"boolean",description:"Enable date + time mode (<input type='datetime-local'>).",table:{type:{summary:"boolean"}}},minuteStep:{control:{type:"number",min:1,step:1},description:"Minute granularity for time selection (applies when withTime=true).",table:{type:{summary:"number"}}},minDate:{table:{disable:true}},maxDate:{table:{disable:true}},onChange:{action:"changed",table:{disable:true}},onValidate:{action:"validated",table:{disable:true}}}};const p=t(e=>d.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:e}),"renderContainer");const n={render:t(e=>{const[r,i]=u.useState(a());return p(d.jsx(m,{...e,value:r,onChange:t(l=>i(a(l)),"onChange")}))},"render"),args:{name:"birthday",label:"Birthday",helperText:"Select your birth date",required:false,format:"YYYY-MM-DD"}};const o={render:t(e=>{const[r,i]=u.useState(null);return p(d.jsx(m,{...e,value:r,onChange:t(l=>i(a(l)),"onChange")}))},"render"),args:{name:"appointment",label:"Appointment Date",helperText:"Between today and 30 days from now",required:true,minDate:a(),maxDate:a().add(30,"day"),format:"YYYY-MM-DD"}};const s={render:t(e=>{const[r,i]=u.useState(a().second(0).millisecond(0));return p(d.jsx(m,{...e,value:r,onChange:t(l=>i(l),"onChange")}))},"render"),args:{name:"meetingAt",label:"Meeting at",helperText:"Pick date & time (15-minute steps)",required:true,withTime:true,minuteStep:15,minDate:a().subtract(1,"hour"),maxDate:a().add(14,"day").hour(18).minute(0).second(0).millisecond(0),format:"YYYY-MM-DDTHH:mm"}};var c,y,g,b,h;n.parameters={...n.parameters,docs:{...(c=n.parameters)==null?void 0:c.docs,source:{originalSource:'{\n  render: args => {\n    const [value, setValue] = useState<Dayjs | null>(dayjs());\n    return renderContainer(<DatePicker {...args} value={value} onChange={value => setValue(dayjs(value))} />);\n  },\n  args: {\n    name: "birthday",\n    label: "Birthday",\n    helperText: "Select your birth date",\n    required: false,\n    format: "YYYY-MM-DD"\n  }\n}',...(g=(y=n.parameters)==null?void 0:y.docs)==null?void 0:g.source},description:{story:"Controlled example: user can pick any date",...(h=(b=n.parameters)==null?void 0:b.docs)==null?void 0:h.description}}};var D,x,f,Y,v;o.parameters={...o.parameters,docs:{...(D=o.parameters)==null?void 0:D.docs,source:{originalSource:'{\n  render: args => {\n    const [value, setValue] = useState<Dayjs | null>(null);\n    return renderContainer(<DatePicker {...args} value={value} onChange={value => setValue(dayjs(value))} />);\n  },\n  args: {\n    name: "appointment",\n    label: "Appointment Date",\n    helperText: "Between today and 30 days from now",\n    required: true,\n    minDate: dayjs(),\n    maxDate: dayjs().add(30, "day"),\n    format: "YYYY-MM-DD"\n  }\n}',...(f=(x=o.parameters)==null?void 0:x.docs)==null?void 0:f.source},description:{story:"With min/max range and required",...(v=(Y=o.parameters)==null?void 0:Y.docs)==null?void 0:v.description}}};var j,M,T,w,S;s.parameters={...s.parameters,docs:{...(j=s.parameters)==null?void 0:j.docs,source:{originalSource:'{\n  render: args => {\n    // Start aligned to minute to avoid odd seconds in the control\n    const [value, setValue] = useState<Dayjs | null>(dayjs().second(0).millisecond(0));\n    return renderContainer(<DatePicker {...args} value={value} onChange={v => setValue((v as Dayjs | null))} />);\n  },\n  args: {\n    name: "meetingAt",\n    label: "Meeting at",\n    helperText: "Pick date & time (15-minute steps)",\n    required: true,\n    withTime: true,\n    minuteStep: 15,\n    // Allow from now minus 1 hour up to two weeks ahead, 18:00 latest\n    minDate: dayjs().subtract(1, "hour"),\n    maxDate: dayjs().add(14, "day").hour(18).minute(0).second(0).millisecond(0),\n    // Important: use datetime format when withTime=true\n    format: "YYYY-MM-DDTHH:mm"\n  }\n}',...(T=(M=s.parameters)==null?void 0:M.docs)==null?void 0:T.source},description:{story:"Date + time, 15-minute steps, with min/max",...(S=(w=s.parameters)==null?void 0:w.docs)==null?void 0:S.description}}};const q=["Default","WithRange","WithTime"];const _=Object.freeze(Object.defineProperty({__proto__:null,Default:n,WithRange:o,WithTime:s,__namedExportsOrder:q,default:C},Symbol.toStringTag,{value:"Module"}));export{_ as D,o as W,n as a,s as b};
