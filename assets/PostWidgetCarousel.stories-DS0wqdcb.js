var pe=Object.defineProperty;var l=(i,n)=>pe(i,"name",{value:n,configurable:true});import{j as o}from"./jsx-runtime-CGXnEs--.js";import{r}from"./index-wP9GnQbl.js";import{c as U}from"./bem-DSWMYwqE.js";import{H as G}from"./Headline.server-ckWZ2ugT.js";import{B as j}from"./Button-Cee0HPPO.js";import{L as _e}from"./Lottie-ZhIPLAaH.js";import{C as fe}from"./Card-gXHvq-DX.js";import{L as J}from"./Link-wga3m5xG.js";import{I as ge}from"./Image-oVj4R0xX.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-BJY65M_D.js";import"../sb-preview/runtime.js";import"./Icon-DCYZd5Ax.js";import"./validations-DXOnG8Bd.js";import"./Animated-D0BaXmzK.js";import"./Skeleton-CpnmdvhB.js";import"./BaseLink-CWmJ4y4K.js";const Ce="gradientMove";const ye="fadeInKeyframe";const ke={"prokodo-Carousel":"prokodo-Carousel","prokodo-Carousel--is-active":"prokodo-Carousel--is-active","prokodo-Carousel__wrapper":"prokodo-Carousel__wrapper","prokodo-Carousel__item":"prokodo-Carousel__item","prokodo-Carousel__mobile__tutorial":"prokodo-Carousel__mobile__tutorial","prokodo-Carousel__mobile__tutorial__animation":"prokodo-Carousel__mobile__tutorial__animation","prokodo-Carousel__mobile__tutorial--is-hidden":"prokodo-Carousel__mobile__tutorial--is-hidden","prokodo-Carousel__controls":"prokodo-Carousel__controls","prokodo-Carousel__button":"prokodo-Carousel__button","prokodo-Carousel__dots":"prokodo-Carousel__dots","prokodo-Carousel__dots__dot":"prokodo-Carousel__dots__dot","prokodo-Carousel__dots__dot--is-active":"prokodo-Carousel__dots__dot--is-active",gradientMove:Ce,fadeInKeyframe:ye};const q="NEXT";const B="PREV";const ve=l((i,n)=>{var t;n.current=((t=i.targetTouches[0])==null?void 0:t.clientX)??0},"handleTouchStart");const be=l((i,n)=>{var t;n.current=((t=i.targetTouches[0])==null?void 0:t.clientX)??0},"handleTouchMove");const he=l((i,n,t)=>{if(i.current-n.current>50){t("NEXT")}if(i.current-n.current<-50){t("PREV")}},"handleTouchEnd");const Ne=l((i,n)=>{n.current=i.clientX},"handleMouseDown");const Pe=l((i,n,t,s)=>{t.current=i.clientX;if(n.current-t.current>50){s("NEXT")}if(n.current-t.current<-50){s("PREV")}},"handleMouseUp");const p=U(ke,"Carousel");const W=l(({ref:i,autoplay:n,enableControl:t,itemsToShow:s=1,className:E,classNameControls:_,classNameButtons:P,classNameWrapper:V,classNameItem:a,classNameDots:g,classNameDot:C,onKeyDown:f,onMouseEnter:k,onMouseLeave:x,onTouchEnd:w,onTouchMove:A,onTouchStart:L,onMouseDown:X,onMouseUp:$,children:ee,...ae})=>{const K=r.useRef(null);const D=r.useRef(0);const H=r.useRef(0);const S=r.useRef(0);const re=r.useRef(0);const[te,oe]=r.useState(true);const[v,b]=r.useState(s);const[se,F]=r.useState(false);const[T,M]=r.useState(Boolean(n));const[N,y]=r.useState(false);const h=r.Children.toArray(ee);const[O,le]=r.useState([]);const c=h.length;r.useEffect(()=>{const e=[...h.slice(-s),...h,...h.slice(0,s)];if(e!==O){le(e);b(s)}},[s]);r.useEffect(()=>{const e=setTimeout(()=>{oe(false)},1500);return()=>clearTimeout(e)},[]);const m=r.useCallback(e=>{if(N)return;y(true);let u=v;if(e===q){u=v+1}else if(e===B){u=v-1}b(u);setTimeout(()=>{if(u>=c+s){b(s);y(false)}else if(u<s){b(c);y(false)}else{y(false)}},300)},[N,v,s,c]);r.useEffect(()=>{if(typeof n!=="number"||n<=0)return;let e;if(T){e=setInterval(()=>{m(q)},n)}return()=>{clearInterval(e)}},[m,T,n]);const z=r.useCallback(e=>{if(N)return;y(true);const u=e+s;b(u);setTimeout(()=>{if(u>=c+s){b(u-c);y(false)}else if(u<s){b(c+u);y(false)}else{y(false)}},300)},[N,s,c]);r.useImperativeHandle(i,()=>({slidePrev:l(()=>m(B),"slidePrev"),slideNext:l(()=>m(q),"slideNext"),carouselContainer:K.current}));const ne=r.useCallback(e=>{k==null?void 0:k(e);M(false)},[k]);const ie=r.useCallback(e=>{x==null?void 0:x(e);M(true)},[x]);const ue=l(()=>{const e=-v*(100/s);return`translateX(${e}%)`},"getTransformValue");const de=r.useCallback(()=>c>0&&o.jsx("span",{className:p("dots",void 0,g),children:h.map((e,u)=>{const ce=u===(v-s+c)%c;return o.jsx("button",{tabIndex:0,className:p("dots__dot",{"is-active":ce},C),onClick:l(()=>z(u),"onClick"),onKeyDown:l(me=>me.key==="Enter"&&z(u),"onKeyDown")},`carousel-dot-${u}`)})}),[c,h,v,g,C,s,z]);if(c===0){return null}return o.jsxs("div",{"aria-label":"Carousel",role:"button",tabIndex:0,...ae,ref:K,className:p(void 0,{"is-active":se},E),onMouseEnter:ne,onMouseLeave:ie,onKeyDown:l(e=>{f==null?void 0:f(e);switch(e.key){case"ArrowLeft":m("NEXT");break;case"ArrowRight":m("PREV");break}},"onKeyDown"),onMouseDown:l(e=>{X==null?void 0:X(e);Ne(e,S);F(true)},"onMouseDown"),onMouseUp:l(e=>{$==null?void 0:$(e);Pe(e,S,re,m);F(false)},"onMouseUp"),onTouchEnd:l(e=>{w==null?void 0:w(e);he(D,H,m)},"onTouchEnd"),onTouchMove:l(e=>{A==null?void 0:A(e);be(e,H)},"onTouchMove"),onTouchStart:l(e=>{L==null?void 0:L(e);ve(e,D)},"onTouchStart"),children:[o.jsx("div",{className:p("wrapper",void 0,V),style:{transform:ue(),transition:N?"transform 0.3s ease-in-out":"none"},children:O.map((e,u)=>o.jsx("div",{className:p("item",void 0,a),style:{width:`${100/s}%`},children:e},`carousel-item-${u}`))}),o.jsx("div",{className:p("mobile__tutorial",{"is-hidden":!Boolean(te)}),children:o.jsx("div",{className:p("mobile__tutorial__animation"),children:o.jsx(_e,{animationName:"Swipe"})})}),o.jsxs("footer",{className:p("controls",void 0,_),children:[Boolean(t)&&o.jsx(j,{"aria-label":"Swipe one slide backwards",className:p("button",void 0,P),variant:"outlined",iconProps:{name:"ArrowLeft01Icon",size:"md",color:"white"},onClick:l(()=>m(B),"onClick")}),de(),Boolean(t)&&o.jsx(j,{"aria-label":"Swipe one slide forwards",className:p("button",void 0,P),variant:"outlined",iconProps:{name:"ArrowRight01Icon",size:"md",color:"white"},onClick:l(()=>m(q),"onClick")})]})]})},"Carousel");W.displayName="Carousel";try{W.displayName="Carousel";W.__docgenInfo={"description":"","displayName":"Carousel","props":{"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<CarouselRef>"}},"autoplay":{"defaultValue":null,"description":"","name":"autoplay","required":false,"type":{"name":"number"}},"enableControl":{"defaultValue":null,"description":"","name":"enableControl","required":false,"type":{"name":"boolean"}},"translateX":{"defaultValue":null,"description":"","name":"translateX","required":false,"type":{"name":"string"}},"itemStyle":{"defaultValue":null,"description":"","name":"itemStyle","required":false,"type":{"name":"CSSProperties"}},"itemsToShow":{"defaultValue":{value:"1"},"description":"","name":"itemsToShow","required":false,"type":{"name":"number"}},"classNameControls":{"defaultValue":null,"description":"","name":"classNameControls","required":false,"type":{"name":"string"}},"classNameButtons":{"defaultValue":null,"description":"","name":"classNameButtons","required":false,"type":{"name":"string"}},"classNameWrapper":{"defaultValue":null,"description":"","name":"classNameWrapper","required":false,"type":{"name":"string"}},"classNameItem":{"defaultValue":null,"description":"","name":"classNameItem","required":false,"type":{"name":"string"}},"classNameDots":{"defaultValue":null,"description":"","name":"classNameDots","required":false,"type":{"name":"string"}},"classNameDot":{"defaultValue":null,"description":"","name":"classNameDot","required":false,"type":{"name":"string"}}}}}catch(i){}const Ve="gradientMove";const xe="fadeInKeyframe";const qe={"prokodo-PostWidgetCarousel__carousel":"prokodo-PostWidgetCarousel__carousel","prokodo-PostWidgetCarousel__carousel__item__image__link":"prokodo-PostWidgetCarousel__carousel__item__image__link","prokodo-PostWidgetCarousel__carousel__item__image":"prokodo-PostWidgetCarousel__carousel__item__image","prokodo-PostWidgetCarousel__carousel__item__link":"prokodo-PostWidgetCarousel__carousel__item__link","prokodo-PostWidgetCarousel__carousel__dots":"prokodo-PostWidgetCarousel__carousel__dots","prokodo-PostWidgetCarousel__carousel__buttons":"prokodo-PostWidgetCarousel__carousel__buttons","prokodo-PostWidgetCarousel__headline":"prokodo-PostWidgetCarousel__headline",gradientMove:Ve,fadeInKeyframe:xe};const d=U(qe,"PostWidgetCarousel");const R=r.memo(({autoplay:i,className:n,title:t,items:s=[],...E})=>{const _=r.useRef(null);const[P,V]=r.useState(0);r.useLayoutEffect(()=>{var C,f;const a=((f=(C=_==null?void 0:_.current)==null?void 0:C.carouselContainer)==null?void 0:f.offsetWidth)??0;V(a);const g=l(()=>{V(a)},"handleResize");window.addEventListener("resize",g);return()=>{window.removeEventListener("resize",g)}},[_]);return o.jsx("section",{itemScope:true,className:d(void 0,void 0,n),itemType:"https://schema.org/ItemList",children:o.jsxs(fe,{animated:true,enableShadow:true,...E,className:d("card__container"),contentClassName:d("card"),variant:"white",children:[t&&o.jsx(G,{highlight:true,size:"md",type:"h2",...t,className:d("title",t==null?void 0:t.className),itemProp:"headline",variant:"secondary",children:t==null?void 0:t.content}),s.length>0&&o.jsxs(r.Fragment,{children:[o.jsx(W,{ref:_,autoplay:i,className:d("carousel"),classNameDots:d("carousel__dots"),classNameItem:d("carousel__item"),itemsToShow:1,children:s.map(a=>{var C,f,k;const g=`carousel-item-${a.title}`;return o.jsxs(r.Fragment,{children:[(a==null?void 0:a.image)&&o.jsx(J,{"aria-label":`Read more about ${a.title.content}`,...a==null?void 0:a.redirect,className:d("carousel__item__image__link",void 0,(C=a==null?void 0:a.redirect)==null?void 0:C.className),style:{width:P},children:o.jsx(ge,{className:d("carousel__item__image"),...a.image},g)}),o.jsx(J,{...a==null?void 0:a.redirect,"aria-label":`Read more about ${a.title.content}`,className:d("carousel__item__link"),children:o.jsx(G,{size:"md",type:"h3",...a.title,className:d("headline",(f=a.title)==null?void 0:f.className),itemProp:"headline",variant:"inherit",children:(k=a.title)==null?void 0:k.content})})]},g)})}),o.jsxs("div",{className:d("carousel__buttons"),children:[o.jsx(j,{"aria-label":"Last category",className:d("carousel__button"),color:"primary",iconProps:{name:"ArrowLeft01Icon",size:"sm"},onClick:l(()=>{var a;return(a=_.current)==null?void 0:a.slidePrev()},"onClick")}),o.jsx(j,{"aria-label":"Next category",className:d("carousel__button"),color:"primary",iconProps:{name:"ArrowRight01Icon",size:"sm"},onClick:l(()=>{var a;return(a=_.current)==null?void 0:a.slideNext()},"onClick")})]})]})]})})});R.displayName="PostWidgetCarousel";try{R.displayName="PostWidgetCarousel";R.__docgenInfo={"description":"","displayName":"PostWidgetCarousel","props":{"className":{"defaultValue":null,"description":"","name":"className","required":false,"type":{"name":"string"}},"onKeyDown":{"defaultValue":null,"description":"","name":"onKeyDown","required":false,"type":{"name":"((e: KeyboardEvent<Element>) => void)"}},"onClick":{"defaultValue":null,"description":"","name":"onClick","required":false,"type":{"name":"(() => void)"}},"onMouseEnter":{"defaultValue":null,"description":"","name":"onMouseEnter","required":false,"type":{"name":"(() => void)"}},"onMouseLeave":{"defaultValue":null,"description":"","name":"onMouseLeave","required":false,"type":{"name":"(() => void)"}},"variant":{"defaultValue":null,"description":"","name":"variant","required":false,"type":{"name":"enum","value":[{"value":'"inherit"'},{"value":'"primary"'},{"value":'"secondary"'},{"value":'"success"'},{"value":'"error"'},{"value":'"info"'},{"value":'"warning"'},{"value":'"white"'}]}},"disabled":{"defaultValue":null,"description":"","name":"disabled","required":false,"type":{"name":"boolean"}},"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<HTMLDivElement>"}},"redirect":{"defaultValue":null,"description":"","name":"redirect","required":false,"type":{"name":"LinkProps"}},"animated":{"defaultValue":null,"description":"","name":"animated","required":false,"type":{"name":"boolean"}},"highlight":{"defaultValue":null,"description":"","name":"highlight","required":false,"type":{"name":"boolean"}},"contentClassName":{"defaultValue":null,"description":"","name":"contentClassName","required":false,"type":{"name":"string"}},"loading":{"defaultValue":null,"description":"","name":"loading","required":false,"type":{"name":"boolean"}},"skeletonProps":{"defaultValue":null,"description":"","name":"skeletonProps","required":false,"type":{"name":"SkeletonProps"}},"gradiant":{"defaultValue":null,"description":"","name":"gradiant","required":false,"type":{"name":"boolean"}},"gradiantClassName":{"defaultValue":null,"description":"","name":"gradiantClassName","required":false,"type":{"name":"string"}},"enableShadow":{"defaultValue":null,"description":"","name":"enableShadow","required":false,"type":{"name":"boolean"}},"customAnimation":{"defaultValue":null,"description":"","name":"customAnimation","required":false,"type":{"name":"enum","value":[{"value":'"bottom-top"'},{"value":'"top-bottom"'},{"value":'"left-right"'},{"value":'"right-left"'}]}},"background":{"defaultValue":null,"description":"","name":"background","required":false,"type":{"name":"CardBackground"}},"backgroundProps":{"defaultValue":null,"description":"","name":"backgroundProps","required":false,"type":{"name":"CardBackgroundProps"}},"autoplay":{"defaultValue":null,"description":"","name":"autoplay","required":false,"type":{"name":"number"}},"title":{"defaultValue":null,"description":"","name":"title","required":false,"type":{"name":"PostWidgetCarouselHeadline"}},"items":{"defaultValue":null,"description":"","name":"items","required":false,"type":{"name":"PostWidgetCarouselItem[]"}}}}}catch(i){}const Oe={title:"prokodo/common/PostWidgetCarousel",component:R,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{variant:{options:["inherit","primary","secondary","error","info","success","warning","white"],control:{type:"select"}}}};const Ie=[{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"Technology"},redirect:{href:"#"}},{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"App"},redirect:{href:"#"}},{image:{src:"./_mocks/placeholder.jpeg",alt:"Cover"},title:{content:"Internal"},redirect:{href:"#"}}];const I={args:{title:{content:"Categories"},items:Ie}};var Q,Y,Z;I.parameters={...I.parameters,docs:{...(Q=I.parameters)==null?void 0:Q.docs,source:{originalSource:'{\n  args: {\n    title: {\n      content: "Categories"\n    },\n    items\n  }\n}',...(Z=(Y=I.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};const Ge=["Default"];export{I as Default,Ge as __namedExportsOrder,Oe as default};
