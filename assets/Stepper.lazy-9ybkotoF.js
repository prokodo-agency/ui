var V=Object.defineProperty;var m=(v,b)=>V(v,"name",{value:b,configurable:true});import{c as q}from"./createLazyWrapper-D1NyvZjw.js";import{j as P}from"./jsx-runtime-CGXnEs--.js";import{r as p}from"./index-DGnhqvo7.js";import{S as A,a as F}from"./Stepper.stories-D6OsSPEf.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-BXnYb3Ft.js";import"../sb-preview/runtime.js";import"./createIsland-CYXQRK9I.js";import"./bem-DSWMYwqE.js";import"./Icon-BVEyP_Yv.js";import"./validations-hwxYw-LN.js";const h=p.forwardRef((v,b)=>{const{steps:t,initialStep:d=0,onChange:l,onFocus:y,onBlur:C,translations:g,className:k,...w}=v;const[u,S]=p.useState(d);const f=p.useRef([]);p.useImperativeHandle(b,()=>({jumpToStep:m(a=>{var e;if(a>=0&&a<t.length){S(a);(e=f.current[a])==null?void 0:e.focus()}},"jumpToStep")}),[t.length]);const E=p.useCallback((a,e)=>{var i;S(e);(i=f.current[e])==null?void 0:i.focus();l==null?void 0:l(a,e)},[l]);const _=p.useCallback((a,e)=>{var n,o;const i=e-1;const c=e+1;if(a.key==="ArrowLeft"){if(i>=0&&i<u){S(i);(n=f.current[i])==null?void 0:n.focus();l==null?void 0:l(a,i)}a.preventDefault()}else if(a.key==="ArrowRight"){if(c<t.length&&c<u){S(c);(o=f.current[c])==null?void 0:o.focus();l==null?void 0:l(a,c)}a.preventDefault()}},[l,t.length,u]);p.useEffect(()=>{if(d>=0&&d<t.length){S(d)}},[d,t.length]);const D=p.useMemo(()=>t.map((a,e)=>{const i=e===u;const c=u>e;return{...a,innerContainerProps:{onClick:m(n=>{var o,r,s;if(c&&!i){E(n,e)}(s=(r=(o=t==null?void 0:t[e])==null?void 0:o.innerContainerProps)==null?void 0:r.onClick)==null?void 0:s.call(r,n)},"onClick"),onKeyDown:m(n=>{var o,r,s;_(n,e);(s=(r=(o=t==null?void 0:t[e])==null?void 0:o.innerContainerProps)==null?void 0:r.onKeyDown)==null?void 0:s.call(r,n)},"onKeyDown"),onFocus:m(n=>{var o,r,s;y==null?void 0:y(n,e);(s=(r=(o=t==null?void 0:t[e])==null?void 0:o.innerContainerProps)==null?void 0:r.onFocus)==null?void 0:s.call(r,n)},"onFocus"),onBlur:m(n=>{var o,r,s;C==null?void 0:C(n,e);(s=(r=(o=t==null?void 0:t[e])==null?void 0:o.innerContainerProps)==null?void 0:r.onBlur)==null?void 0:s.call(r,n)},"onBlur"),ref:m(n=>{f.current[e]=n},"ref")}}}),[t,u,E,_,y,C]);return P.jsx(A,{...w,activeStep:u,className:k,stepRefs:f,steps:D,translations:g})});h.displayName="StepperClient";const R=p.memo(h);try{h.displayName="StepperClient";h.__docgenInfo={"description":"","displayName":"StepperClient","props":{"onFocus":{"defaultValue":null,"description":"","name":"onFocus","required":false,"type":{"name":"((e: FocusEvent<HTMLDivElement, Element>, index: number) => void)"}},"onBlur":{"defaultValue":null,"description":"","name":"onBlur","required":false,"type":{"name":"((e: FocusEvent<HTMLDivElement, Element>, index: number) => void)"}},"onChange":{"defaultValue":null,"description":"Callback when the active step changes.","name":"onChange","required":false,"type":{"name":"((e: StepperChangeEvent, index: number) => void)"}},"translations":{"defaultValue":null,"description":"Custom translations (for aria labels, statuses).","name":"translations","required":false,"type":{"name":"StepperTranslations"}},"steps":{"defaultValue":null,"description":"Array of steps (must include `label`).","name":"steps","required":true,"type":{"name":"Step[]"}},"initialStep":{"defaultValue":null,"description":"Initial active step index (0‚Äêbased, defaults to 0).","name":"initialStep","required":false,"type":{"name":"number"}}}}}catch(v){}const $=q({name:"Stepper",Client:R,Server:F});export{$ as default};
