var w=Object.defineProperty;var p=(t,d)=>w(t,"name",{value:d,configurable:true});import{j as o}from"./jsx-runtime-CGXnEs--.js";import{r as v}from"./index-wP9GnQbl.js";import{c as M}from"./bem-DSWMYwqE.js";import{b as T}from"./validations-DXOnG8Bd.js";import{I as A}from"./Icon-C433M8tr.js";import"./_commonjsHelpers-DRKe4gOT.js";const O="gradientMove";const z="fadeInKeyframe";const B={"prokodo-Stepper":"prokodo-Stepper","prokodo-Stepper__step":"prokodo-Stepper__step","prokodo-Stepper__step--is-active":"prokodo-Stepper__step--is-active","prokodo-Stepper__icon":"prokodo-Stepper__icon","prokodo-Stepper__icon__container":"prokodo-Stepper__icon__container","prokodo-Stepper__icon__container--is-active":"prokodo-Stepper__icon__container--is-active","prokodo-Stepper__icon__label":"prokodo-Stepper__icon__label","prokodo-Stepper__icon__label--is-active":"prokodo-Stepper__icon__label--is-active","prokodo-Stepper__icon__completed":"prokodo-Stepper__icon__completed","prokodo-Stepper__icon__completed__container":"prokodo-Stepper__icon__completed__container","prokodo-Stepper__label":"prokodo-Stepper__label","prokodo-Stepper__label--is-active":"prokodo-Stepper__label--is-active","prokodo-Stepper__label__text":"prokodo-Stepper__label__text","prokodo-Stepper__label__text--is-active":"prokodo-Stepper__label__text--is-active",gradientMove:O,fadeInKeyframe:z};const c=M(B,"Stepper");const x=p(({ref:t,className:d,steps:V,initialStep:W,onChangeStep:_,translations:r,...D})=>{const y=v.useRef([]);const[n,j]=v.useState(W??1);v.useImperativeHandle(t,()=>({jumpToStep:p(l=>j(l),"jumpToStep")}),[]);const E=p((l,e)=>{var m;if(l.key==="ArrowLeft"){if(e>0){j(e-1);(m=y.current[e-1])==null?void 0:m.focus();_==null?void 0:_(e-1)}}},"handleKeyDown");return o.jsx("ol",{...D,"aria-label":(r==null?void 0:r.stepper)??"Stepper Navigation",className:c(void 0,void 0,d),children:V.map((l,e)=>{const{key:m,label:u,labelProps:S,...f}=l;const a=e===n;const s=n>e;return o.jsx("li",{"aria-current":a?"step":void 0,"aria-disabled":!s&&!a?"true":void 0,className:c("step",{"is-active":a||s},f==null?void 0:f.className),...f,children:T(u)&&o.jsxs("div",{...S,"aria-describedby":`step-${e}-description`,"aria-labelledby":`step-${e}-label`,className:c("label",{"is-active":Boolean(a)},S==null?void 0:S.className),children:[o.jsx("div",{ref:p(i=>{if(i)y.current[e]=i},"ref"),role:"button",tabIndex:a?0:-1,"aria-label":`${(r==null?void 0:r.step)??"Step"} ${e+1} ${u}. ${s?(r==null?void 0:r.status.completed)??"Completed. Press Enter to jump back to this step.":(r==null?void 0:r.status.open)??"Open. Future step and therefore deactivated."}`,className:c("icon__container",{"is-active":a||s}),onKeyDown:p(i=>E(i,e),"onKeyDown"),onClick:p(()=>{var i;if(n!==e&&n>e){j(e);(i=y.current[e])==null?void 0:i.focus();_==null?void 0:_(e)}},"onClick"),children:o.jsx("span",{className:c("icon__label",{"is-active":a||s}),children:s?o.jsx("div",{className:c("icon__completed__container"),children:o.jsx(A,{className:c("icon__completed"),name:"Tick01Icon",size:"md"})}):e+1})}),o.jsx("span",{className:c("label__text",{"is-active":a||s}),children:u})]})},u??`step-${m}`)})})},"Stepper");try{x.displayName="Stepper";x.__docgenInfo={"description":"","displayName":"Stepper","props":{"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<StepperRef>"}},"steps":{"defaultValue":null,"description":"","name":"steps","required":true,"type":{"name":"Step[]"}},"onChangeStep":{"defaultValue":null,"description":"","name":"onChangeStep","required":false,"type":{"name":"((index: number) => void)"}},"initialStep":{"defaultValue":null,"description":"","name":"initialStep","required":false,"type":{"name":"number"}},"translations":{"defaultValue":null,"description":"","name":"translations","required":false,"type":{"name":"StepperTranslations"}}}}}catch(t){}const U={title:"prokodo/common/Stepper",component:x,parameters:{layout:"centered"},tags:["autodocs"]};const q=[{label:"Step 1"},{label:"Step 2"},{label:"Step 3"}];const K=p(t=>{const d=v.useRef(null);return o.jsx(x,{...t,ref:d})},"StepperWithState");const k={args:{steps:q},render:p(t=>o.jsx(K,{...t}),"render")};const b={args:{steps:q},render:p(t=>o.jsx(K,{...t}),"render")};var N,g,h;k.parameters={...k.parameters,docs:{...(N=k.parameters)==null?void 0:N.docs,source:{originalSource:"{\n  args: {\n    steps\n  },\n  render: args => <StepperWithState {...args} />\n}",...(h=(g=k.parameters)==null?void 0:g.docs)==null?void 0:h.source}}};var I,R,$;b.parameters={...b.parameters,docs:{...(I=b.parameters)==null?void 0:I.docs,source:{originalSource:"{\n  args: {\n    steps\n  },\n  render: args => <StepperWithState {...args} />\n}",...($=(R=b.parameters)==null?void 0:R.docs)==null?void 0:$.source}}};const X=["Default","WithIcon"];export{k as Default,b as WithIcon,X as __namedExportsOrder,U as default};
