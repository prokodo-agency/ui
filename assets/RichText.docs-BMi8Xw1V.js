var l=Object.defineProperty;var t=(i,n)=>l(i,"name",{value:n,configurable:true});import{j as e}from"./jsx-runtime-CGXnEs--.js";import{useMDXComponents as d}from"./index-BVI55TNc.js";import{ae as c,af as r,ah as h}from"./index-BiRdTy4i.js";import{R as a,D as s,P as x,S as j,W as m,U as p,a as u}from"./RichText.stories-Cw-vKfBC.js";import"./index-Dko9tpwX.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-HtAnAIQl.js";import"../sb-preview/runtime.js";import"./index-wC6Z_Uz1.js";import"./index-hB-uq45w.js";import"./index-DLBta3fP.js";import"./index-hDBHWYcz.js";import"./index-DFiNSBvt.js";import"./RichText-BED1SunB.js";import"./createIsland-D0Kq_01P.js";import"./bem-DSWMYwqE.js";function o(i){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...d(),...i.components};return e.jsxs(e.Fragment,{children:[e.jsx(c,{of:a}),"\n",e.jsx(n.h1,{id:"richtext",children:"RichText"}),"\n",e.jsx(n.p,{children:"A server-rendered HTML renderer for CMS-authored rich text content. Converts structured or raw HTML from Strapi (or another headless CMS) into safe, styled markup."}),"\n",e.jsx(n.h2,{id:"when-to-use",children:"When to use"}),"\n",e.jsxs(n.p,{children:["Use ",e.jsx(n.code,{children:"RichText"})," wherever long-form editorial content, authored in a CMS rich-text field, needs to be displayed. For an editable rich-text input in forms use ",e.jsx(n.code,{children:"RTE"}),"."]}),"\n",e.jsx(n.h2,{id:"architecture",children:"Architecture"}),"\n",e.jsxs(n.p,{children:[e.jsx(n.code,{children:"RichText"})," follows the Island Architecture pattern:"]}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:[e.jsx(n.strong,{children:e.jsx(n.code,{children:"RichText.server.tsx"})})," — server component; renders the sanitised HTML string at request time for maximum performance and SEO"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.strong,{children:e.jsx(n.code,{children:"RichText.client.tsx"})})," — client component; used when the content must be hydrated (e.g. inside a client island)"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.strong,{children:e.jsx(n.code,{children:"RichText.lazy.tsx"})})," — lazily hydrated wrapper for below-the-fold content"]}),"\n"]}),"\n",e.jsx(n.h2,{id:"content-sanitisation",children:"Content sanitisation"}),"\n",e.jsxs(n.p,{children:["All HTML is sanitised before injection via ",e.jsx(n.code,{children:"dangerouslySetInnerHTML"})," to prevent XSS. Only an allowlist of semantic tags (headings, paragraphs, lists, tables, links, images, etc.) is permitted."]}),"\n",e.jsx(n.h2,{id:"accessibility-wcag-22",children:"Accessibility (WCAG 2.2)"}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:["The rendered HTML inherits document heading hierarchy — ensure CMS authors start at ",e.jsx(n.code,{children:"<h2>"})," inside body content so the page outline remains logical"]}),"\n",e.jsx(n.li,{children:"Link underlines are preserved by default (do not override with CSS unless focus styles are maintained)"}),"\n",e.jsx(n.li,{children:"Images inside rich text must carry alt text entered by the author in the CMS"}),"\n"]}),"\n",e.jsx(n.h2,{id:"-do",children:"✅ Do"}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:["Always sanitise CMS content server-side before passing it to ",e.jsx(n.code,{children:"RichText"})]}),"\n",e.jsxs(n.li,{children:["Use the server component (",e.jsx(n.code,{children:"RichText.server.tsx"}),") by default for SEO and performance"]}),"\n"]}),"\n",e.jsx(n.h2,{id:"-dont",children:"❌ Don't"}),"\n",e.jsxs(n.ul,{children:["\n",e.jsx(n.li,{children:"Don't bypass sanitisation to allow arbitrary HTML from user input"}),"\n",e.jsxs(n.li,{children:["Don't nest ",e.jsx(n.code,{children:"RichText"})," inside another ",e.jsx(n.code,{children:"RichText"})," — it will double-render heading levels"]}),"\n"]}),"\n",e.jsx(n.h2,{id:"examples",children:"Examples"}),"\n",e.jsx(n.h3,{id:"default",children:"Default"}),"\n",e.jsx(r,{of:s}),"\n",e.jsx(n.h3,{id:"primary-variant",children:"Primary variant"}),"\n",e.jsx(r,{of:x}),"\n",e.jsx(n.h3,{id:"secondary-variant",children:"Secondary variant"}),"\n",e.jsx(r,{of:j}),"\n",e.jsx(n.h3,{id:"with-link",children:"With link"}),"\n",e.jsx(r,{of:m}),"\n",e.jsx(n.h3,{id:"ugc-link-policy",children:"UGC link policy"}),"\n",e.jsx(r,{of:p}),"\n",e.jsx(n.h3,{id:"with-inline-code",children:"With inline code"}),"\n",e.jsx(r,{of:u}),"\n",e.jsx(n.h3,{id:"props",children:"Props"}),"\n",e.jsx(h,{of:s})]})}t(o,"_createMdxContent");function E(i={}){const{wrapper:n}={...d(),...i.components};return n?e.jsx(n,{...i,children:e.jsx(o,{...i})}):o(i)}t(E,"MDXContent");export{E as default};
