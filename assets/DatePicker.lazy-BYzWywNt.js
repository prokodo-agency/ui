var S=Object.defineProperty;var q=(r,a)=>S(r,"name",{value:a,configurable:true});import{c as w}from"./createLazyWrapper-AC75M60Y.js";import{j as g}from"./jsx-runtime-CGXnEs--.js";import{d as u,a as F,b as I,c as R}from"./DatePicker-Cxegx19R.js";import{r as y}from"./index-DGnhqvo7.js";import{i as b}from"./validations-DJC0TP_C.js";import"./iframe-DIWfkn9q.js";import"../sb-preview/runtime.js";import"./createIsland-fzL0F2Ul.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./Input.view-CYHOxHNy.js";import"./Label-DSHguxSj.js";import"./bem-DSWMYwqE.js";function E(r){if(b(r))return null;if(I.isDayjs(r))return r;const a=u(r);return a.isValid()?a:null}q(E,"toDayjs");const _=q(({name:r,value:a,onChange:t,onValidate:e,format:x,minDate:s,maxDate:m,translations:l,label:M,helperText:H,withTime:i=false,minuteStep:Y=1,...k})=>{const[T,D]=y.useState(E(a));const[L,d]=y.useState(void 0);const p=y.useMemo(()=>x??(i?"YYYY-MM-DDTHH:mm":"YYYY-MM-DD"),[x,i]);const f=i?"minute":"day";y.useEffect(()=>{D(E(a));d(void 0);e==null?void 0:e(r,void 0)},[a,r,e]);const V=y.useCallback(c=>{var P;const v=(P=c==null?void 0:c.target)==null?void 0:P.value;if(!v){D(null);d(void 0);e==null?void 0:e(r,void 0);t==null?void 0:t(null);return}const o=u(v,p,true);if(!o.isValid()){const n=i?"Invalid date/time format.":"Invalid date format.";d(n);e==null?void 0:e(r,n);t==null?void 0:t(null);return}if(!b(s)&&o.isBefore(u(s),f)){const n=u(s).isSame(u(),f)?(l==null?void 0:l.minDate)??(i?"Date/time cannot be in the past.":"Date cannot be in the past."):(l==null?void 0:l.minDate)??`Must be ≥ ${u(s).format(p)}`;d(n);e==null?void 0:e(r,n);t==null?void 0:t(null);return}if(!b(m)&&o.isAfter(u(m),f)){const n=u(m).isSame(u(),f)?(l==null?void 0:l.maxDate)??(i?"Date/time cannot be in the future.":"Date cannot be in the future."):(l==null?void 0:l.maxDate)??`Must be ≤ ${u(m).format(p)}`;d(n);e==null?void 0:e(r,n);t==null?void 0:t(null);return}D(o);d(void 0);e==null?void 0:e(r,void 0);t==null?void 0:t(o)},[p,m,s,r,t,e,l,i,f]);return g.jsx(F,{...k,errorText:L,format:p,helperText:H,label:M,maxDate:m,minDate:s,minuteStep:Y,name:r,value:T,withTime:i,onChange:q(c=>V(c),"onChange"),onValidate:e})},"DatePickerClient");try{DatePickerclient.displayName="DatePickerclient";DatePickerclient.__docgenInfo={"description":"","displayName":"DatePickerclient","props":{"multiline":{"defaultValue":null,"description":"Single-line only","name":"multiline","required":false,"type":{"name":"false"}},"rows":{"defaultValue":null,"description":"Single-line only","name":"rows","required":false,"type":{"name":"undefined"}},"minRows":{"defaultValue":null,"description":"Single-line only","name":"minRows","required":false,"type":{"name":"undefined"}},"maxRows":{"defaultValue":null,"description":"Single-line only","name":"maxRows","required":false,"type":{"name":"undefined"}},"label":{"defaultValue":null,"description":"Label text","name":"label","required":true,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"unique name/id","name":"name","required":true,"type":{"name":"string"}},"required":{"defaultValue":null,"description":"required flag","name":"required","required":false,"type":{"name":"boolean"}},"errorText":{"defaultValue":null,"description":"error text from parent/form","name":"errorText","required":false,"type":{"name":"string"}},"helperText":{"defaultValue":null,"description":"helper/hint text","name":"helperText","required":false,"type":{"name":"string"}},"value":{"defaultValue":null,"description":"current Dayjs|null value","name":"value","required":false,"type":{"name":"DatePickerValue"}},"minDate":{"defaultValue":null,"description":"minimum allowed date","name":"minDate","required":false,"type":{"name":"DatePickerValue"}},"maxDate":{"defaultValue":null,"description":"maximum allowed date","name":"maxDate","required":false,"type":{"name":"DatePickerValue"}},"onChange":{"defaultValue":null,"description":"called with Dayjs|null","name":"onChange","required":false,"type":{"name":"((value: DatePickerValue) => void)"}},"translations":{"defaultValue":null,"description":"override default messages","name":"translations","required":false,"type":{"name":"DatePickerErrorTranslations"}},"withTime":{"defaultValue":{value:"false"},"description":'Include time selection (uses <input type="datetime-local"> when true).\nDefault: false (date only with <input type="date">).',"name":"withTime","required":false,"type":{"name":"boolean"}},"format":{"defaultValue":null,"description":'Parsing/formatting pattern.\nDefaults to "YYYY-MM-DD" for date-only and "YYYY-MM-DDTHH:mm" when withTime=true.',"name":"format","required":false,"type":{"name":"string"}},"minuteStep":{"defaultValue":{value:"1"},"description":'Minute granularity for time part (applies when withTime=true).\nTranslates to HTML input "step" in seconds. Example: 15 => 900 seconds.\nDefault: 1 minute.',"name":"minuteStep","required":false,"type":{"name":"number"}},"disabled":{"defaultValue":null,"description":"","name":"disabled","required":false,"type":{"name":"boolean"}},"onFocus":{"defaultValue":null,"description":"","name":"onFocus","required":false,"type":{"name":"(InputFocusEventHandler & FocusEventHandler<HTMLInputElement> & FocusEventHandler<HTMLTextAreaElement>)"}},"onBlur":{"defaultValue":null,"description":"","name":"onBlur","required":false,"type":{"name":"(InputBlurEventHandler & FocusEventHandler<HTMLInputElement> & FocusEventHandler<HTMLTextAreaElement>)"}},"fullWidth":{"defaultValue":null,"description":"","name":"fullWidth","required":false,"type":{"name":"boolean"}},"maxLength":{"defaultValue":null,"description":"","name":"maxLength","required":false,"type":{"name":"number"}},"max":{"defaultValue":null,"description":"","name":"max","required":false,"type":{"name":"string | number"}},"min":{"defaultValue":null,"description":"","name":"min","required":false,"type":{"name":"string | number"}},"isFocused":{"defaultValue":null,"description":"","name":"isFocused","required":false,"type":{"name":"boolean"}},"inputRef":{"defaultValue":null,"description":"","name":"inputRef","required":false,"type":{"name":"Ref<HTMLInputElement>"}},"customRegexPattern":{"defaultValue":null,"description":"","name":"customRegexPattern","required":false,"type":{"name":"string"}},"fieldClassName":{"defaultValue":null,"description":"","name":"fieldClassName","required":false,"type":{"name":"string"}},"hideCounter":{"defaultValue":null,"description":"","name":"hideCounter","required":false,"type":{"name":"boolean"}},"inputContainerClassName":{"defaultValue":null,"description":"","name":"inputContainerClassName","required":false,"type":{"name":"string"}},"inputClassName":{"defaultValue":null,"description":"","name":"inputClassName","required":false,"type":{"name":"string"}},"labelProps":{"defaultValue":null,"description":"","name":"labelProps","required":false,"type":{"name":'Omit<LabelProps, "error" | "label" | "required" | "htmlFor">'}},"hideLegend":{"defaultValue":null,"description":"","name":"hideLegend","required":false,"type":{"name":"boolean"}},"onValidate":{"defaultValue":null,"description":"","name":"onValidate","required":false,"type":{"name":"InputValidateEvent"}}}}}catch(r){}const X=w({name:"DatePicker",Client:_,Server:R});export{X as default};
