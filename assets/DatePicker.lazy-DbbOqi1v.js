var N=Object.defineProperty;var x=(e,l)=>N(e,"name",{value:l,configurable:true});import{c as T}from"./createLazyWrapper-CcCD0Sct.js";import{j as S}from"./jsx-runtime-CGXnEs--.js";import{d as a,a as F,b as _,c as j}from"./DatePicker-CSJDgdIv.js";import{r as q}from"./index-Dko9tpwX.js";import{i as H,a as v}from"./validations-hwxYw-LN.js";import"./iframe-Cqgno67Y.js";import"../sb-preview/runtime.js";import"./createIsland-D0Kq_01P.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./Input.view-Dbv7C5lS.js";import"./Label-Bcob-rc5.js";import"./bem-DSWMYwqE.js";function Y(e){if(v(e))return null;if(_.isDayjs(e))return e.isValid()?e:null;const l=a(e);return l.isValid()?l:null}x(Y,"toDayjs");const k=x((e,l,t)=>e===null&&l===null?true:e!==null&&l!==null&&e.isSame(l,t),"sameByUnit");const w=x(({name:e,value:l,onChange:t,onValidate:r,format:P,minDate:o,maxDate:p,translations:d,label:R,helperText:g,withTime:u=false,minuteStep:D=1,...I})=>{const n=u?"minute":"day";const c=q.useMemo(()=>P??(u?"YYYY-MM-DDTHH:mm":"YYYY-MM-DD"),[P,u]);const[y,V]=q.useState(Y(l));const[b,f]=q.useState(void 0);q.useEffect(()=>{const m=Y(l);if(!k(y,m,n)){V(m);if(m)f(void 0)}},[l,n]);const L=q.useCallback(m=>{if(m===""){if(y!==null)V(null);if(H(b))f(void 0);r==null?void 0:r(e,void 0);t==null?void 0:t(null);return}const i=a(m,c,true);const E=i.isValid()?i.year():a(m).year();if(!i.isValid()||E>9999||E<100){const s=u?"Invalid date/time format.":"Invalid date format.";f(s);r==null?void 0:r(e,s);t==null?void 0:t(null);return}if(!v(o)&&i.isBefore(a(o),n)){const s=(d==null?void 0:d.minDate)??(a(o).isSame(a(),n)?u?"Date/time cannot be in the past.":"Date cannot be in the past.":`Must be ≥ ${a(o).format(c)}`);f(s);r==null?void 0:r(e,s);t==null?void 0:t(null);return}if(!v(p)&&i.isAfter(a(p),n)){const s=(d==null?void 0:d.maxDate)??(a(p).isSame(a(),n)?u?"Date/time cannot be in the future.":"Date cannot be in the future.":`Must be ≤ ${a(p).format(c)}`);f(s);r==null?void 0:r(e,s);t==null?void 0:t(null);return}const M=u?i.minute(Math.round(i.minute()/Math.max(1,D))*Math.max(1,D)):i;if(!k(y,M,n))V(M);if(H(b))f(void 0);r==null?void 0:r(e,void 0);t==null?void 0:t(M)},[y,b,c,p,o,D,e,t,r,d,n,u]);return S.jsx(F,{...I,errorText:b,format:c,helperText:g,label:R,maxDate:p,minDate:o,minuteStep:D,name:e,value:y,withTime:u,onChangeInput:L})},"DatePickerClient");try{DatePicker.displayName="DatePicker";DatePicker.__docgenInfo={"description":"","displayName":"DatePicker","props":{"multiline":{"defaultValue":null,"description":"Single-line only","name":"multiline","required":false,"type":{"name":"false"}},"rows":{"defaultValue":null,"description":"Single-line only","name":"rows","required":false,"type":{"name":"undefined"}},"minRows":{"defaultValue":null,"description":"Single-line only","name":"minRows","required":false,"type":{"name":"undefined"}},"maxRows":{"defaultValue":null,"description":"Single-line only","name":"maxRows","required":false,"type":{"name":"undefined"}},"label":{"defaultValue":null,"description":"Label text","name":"label","required":true,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"unique name/id","name":"name","required":true,"type":{"name":"string"}},"required":{"defaultValue":null,"description":"required flag","name":"required","required":false,"type":{"name":"boolean"}},"errorText":{"defaultValue":null,"description":"error text from parent/form","name":"errorText","required":false,"type":{"name":"string"}},"helperText":{"defaultValue":null,"description":"helper/hint text","name":"helperText","required":false,"type":{"name":"string"}},"value":{"defaultValue":null,"description":"current Dayjs|null value","name":"value","required":false,"type":{"name":"DatePickerValue"}},"minDate":{"defaultValue":null,"description":"minimum allowed date","name":"minDate","required":false,"type":{"name":"DatePickerValue"}},"maxDate":{"defaultValue":null,"description":"maximum allowed date","name":"maxDate","required":false,"type":{"name":"DatePickerValue"}},"onChange":{"defaultValue":null,"description":"called with Dayjs|null","name":"onChange","required":false,"type":{"name":"((value: DatePickerValue) => void)"}},"translations":{"defaultValue":null,"description":"override default messages","name":"translations","required":false,"type":{"name":"DatePickerErrorTranslations"}},"withTime":{"defaultValue":{value:"false"},"description":'Include time selection (uses <input type="datetime-local"> when true).\nDefault: false (date only with <input type="date">).',"name":"withTime","required":false,"type":{"name":"boolean"}},"format":{"defaultValue":null,"description":'Parsing/formatting pattern.\nDefaults to "YYYY-MM-DD" for date-only and "YYYY-MM-DDTHH:mm" when withTime=true.',"name":"format","required":false,"type":{"name":"string"}},"minuteStep":{"defaultValue":{value:"1"},"description":'Minute granularity for time part (applies when withTime=true).\nTranslates to HTML input "step" in seconds. Example: 15 => 900 seconds.\nDefault: 1 minute.',"name":"minuteStep","required":false,"type":{"name":"number"}},"onFocus":{"defaultValue":null,"description":"","name":"onFocus","required":false,"type":{"name":"(InputFocusEventHandler & FocusEventHandler<HTMLInputElement> & FocusEventHandler<HTMLTextAreaElement>)"}},"onBlur":{"defaultValue":null,"description":"","name":"onBlur","required":false,"type":{"name":"(InputBlurEventHandler & FocusEventHandler<HTMLInputElement> & FocusEventHandler<HTMLTextAreaElement>)"}},"disabled":{"defaultValue":null,"description":"","name":"disabled","required":false,"type":{"name":"boolean"}},"fullWidth":{"defaultValue":null,"description":"","name":"fullWidth","required":false,"type":{"name":"boolean"}},"min":{"defaultValue":null,"description":"","name":"min","required":false,"type":{"name":"string | number"}},"max":{"defaultValue":null,"description":"","name":"max","required":false,"type":{"name":"string | number"}},"labelProps":{"defaultValue":null,"description":"","name":"labelProps","required":false,"type":{"name":'Omit<LabelProps, "error" | "label" | "required" | "htmlFor">'}},"maxLength":{"defaultValue":null,"description":"","name":"maxLength","required":false,"type":{"name":"number"}},"isFocused":{"defaultValue":null,"description":"","name":"isFocused","required":false,"type":{"name":"boolean"}},"inputRef":{"defaultValue":null,"description":"","name":"inputRef","required":false,"type":{"name":"Ref<HTMLInputElement>"}},"customRegexPattern":{"defaultValue":null,"description":"","name":"customRegexPattern","required":false,"type":{"name":"string"}},"fieldClassName":{"defaultValue":null,"description":"","name":"fieldClassName","required":false,"type":{"name":"string"}},"hideCounter":{"defaultValue":null,"description":"","name":"hideCounter","required":false,"type":{"name":"boolean"}},"inputContainerClassName":{"defaultValue":null,"description":"","name":"inputContainerClassName","required":false,"type":{"name":"string"}},"inputClassName":{"defaultValue":null,"description":"","name":"inputClassName","required":false,"type":{"name":"string"}},"hideLegend":{"defaultValue":null,"description":"","name":"hideLegend","required":false,"type":{"name":"boolean"}},"onValidate":{"defaultValue":null,"description":"","name":"onValidate","required":false,"type":{"name":"InputValidateEvent"}},"renderNode":{"defaultValue":null,"description":"Optional: Render a custom field node instead of input/textarea.\nKeeps label/footer/error/counter layout of Input intact.","name":"renderNode","required":false,"type":{"name":"((args: InputRenderNodeArgs) => ReactNode)"}}}}}catch(e){}const Z=T({name:"DatePicker",Client:w,Server:j});export{Z as default};
