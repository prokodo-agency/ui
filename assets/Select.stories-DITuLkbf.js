import{j as T}from"./jsx-runtime-D_zvdyIk.js";import{r as u,b as mn}from"./index-Bw_7RdAX.js";import{c as hn}from"./bem-JthPXG5n.js";import{b as ut,d as ft,i as dt}from"./validations-Dr5r3ha_.js";import{i as pt,L as bn}from"./Label-DyV_6BWl.js";import{r as xn}from"./index-CQRNSIKh.js";import{u as ae,e as ce,a as et,g as tt,b as ve,c as nt,d as ot}from"./index-10Z1LnwP.js";import{u as rt}from"./useEnhancedEffect-BK3lijAC.js";import{P as yn}from"./Portal-BbMdSWL-.js";import{a as gt,v as wn}from"./visuallyHidden-CNF3Utxx.js";import{I as Oe}from"./Icon-PsiPy2_D.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-CELIHT5E.js";function Cn(e){const{rootElementName:t=""}=e,[n,o]=u.useState(t.toUpperCase()),r=u.useCallback(i=>{o((i==null?void 0:i.tagName)??"")},[]);return[n,r]}let mt=0;function Sn(e){const[t,n]=u.useState(e),o=e||t;return u.useEffect(()=>{t==null&&(mt+=1,n(`mui-${mt}`))},[t]),o}const ht=mn.useId;function _t(e){if(ht!==void 0){const t=ht();return e??t}return Sn(e)}function Nt(e={}){const{disabled:t=!1,focusableWhenDisabled:n,href:o,rootRef:r,tabIndex:i,to:s,type:l,rootElementName:c}=e,a=u.useRef(null),[g,d]=u.useState(!1),[p,f]=u.useState(!1);t&&!n&&p&&f(!1);const[h,w]=Cn({rootElementName:c??(o||s?"a":void 0)}),S=x=>m=>{var O;p&&m.preventDefault(),(O=x.onMouseLeave)==null||O.call(x,m)},v=x=>m=>{var O;pt(m.target)||f(!1),(O=x.onBlur)==null||O.call(x,m)},y=x=>m=>{var O,F;a.current||(a.current=m.currentTarget),pt(m.target)&&(f(!0),(O=x.onFocusVisible)==null||O.call(x,m)),(F=x.onFocus)==null||F.call(x,m)},k=()=>{const x=a.current;return h==="BUTTON"||h==="INPUT"&&["button","submit","reset"].includes(x==null?void 0:x.type)||h==="A"&&(x==null?void 0:x.href)},P=x=>m=>{var O;t||(O=x.onClick)==null||O.call(x,m)},V=x=>m=>{var O;t||(d(!0),document.addEventListener("mouseup",()=>{d(!1)},{once:!0})),(O=x.onMouseDown)==null||O.call(x,m)},M=x=>m=>{var O,F;(O=x.onKeyDown)==null||O.call(x,m),!m.defaultMuiPrevented&&(m.target===m.currentTarget&&!k()&&m.key===" "&&m.preventDefault(),m.target===m.currentTarget&&m.key===" "&&!t&&d(!0),m.target===m.currentTarget&&!k()&&m.key==="Enter"&&!t&&((F=x.onClick)==null||F.call(x,m),m.preventDefault()))},N=x=>m=>{var O,F;m.target===m.currentTarget&&d(!1),(O=x.onKeyUp)==null||O.call(x,m),m.target===m.currentTarget&&!k()&&!t&&m.key===" "&&!m.defaultMuiPrevented&&((F=x.onClick)==null||F.call(x,m))},$=ae(w,r,a),D={};return i!==void 0&&(D.tabIndex=i),h==="BUTTON"?(D.type=l??"button",n?D["aria-disabled"]=t:D.disabled=t):h==="INPUT"?l&&["button","submit","reset"].includes(l)&&(n?D["aria-disabled"]=t:D.disabled=t):h!==""&&(!o&&!s&&(D.role="button",D.tabIndex=i??0),t&&(D["aria-disabled"]=t,D.tabIndex=n?i??0:-1)),{getRootProps:(x={})=>{const m={...ce(e),...ce(x)},O={type:l,...m,...D,...x,onBlur:v(m),onClick:P(m),onFocus:y(m),onKeyDown:M(m),onKeyUp:N(m),onMouseDown:V(m),onMouseLeave:S(m),ref:$};return delete O.onFocusVisible,O},focusVisible:p,setFocusVisible:f,active:g,rootRef:$}}function Rn(e,t){return e===t}const Ge={},bt=()=>{};function Qe(e,t){const n={...e};return Object.keys(t).forEach(o=>{t[o]!==void 0&&(n[o]=t[o])}),n}function vn(e){const{nextState:t,initialState:n,stateComparers:o,onStateChange:r,controlledProps:i,lastActionRef:s}=e,l=u.useRef(n);u.useEffect(()=>{if(s.current===null)return;const c=Qe(l.current,i);Object.keys(t).forEach(a=>{const g=o[a]??Rn,d=t[a],p=c[a];(p==null&&d!=null||p!=null&&d==null||p!=null&&d!=null&&!g(d,p))&&(r==null||r(s.current.event??null,a,d,s.current.type??"",t))}),l.current=t,s.current=null},[l,t,s,r,o,i])}function kn(e){const t=u.useRef(null),{reducer:n,initialState:o,controlledProps:r=Ge,stateComparers:i=Ge,onStateChange:s=bt,actionContext:l}=e;u.useRef(r);const c=u.useCallback((p,f)=>{t.current=f;const h=Qe(p,r);return n(h,f)},[r,n]),[a,g]=u.useReducer(c,o),d=u.useCallback(p=>{g({...p,context:l})},[l]);return vn({nextState:a,initialState:o,stateComparers:i??Ge,onStateChange:s??bt,controlledProps:r,lastActionRef:t}),[Qe(a,r),d]}const z={blur:"list:blur",itemClick:"list:itemClick",itemHover:"list:itemHover",itemsChange:"list:itemsChange",keyDown:"list:keyDown",resetHighlight:"list:resetHighlight",highlightLast:"list:highlightLast",textNavigation:"list:textNavigation",clearSelection:"list:clearSelection"};function Pn(e,t,n,o,r,i){if(n.length===0||!o&&n.every((l,c)=>r(l,c)))return-1;let s=e;for(;;){if(!i&&t==="next"&&s===n.length||!i&&t==="previous"&&s===-1)return-1;if(o?!1:r(n[s],s))s+=t==="next"?1:-1,i&&(s=(s+n.length)%n.length);else return s}}function G(e,t,n){const{items:o,isItemDisabled:r,disableListWrap:i,disabledItemsFocusable:s,itemComparer:l,focusManagement:c}=n,a=c==="DOM"?0:-1,g=o.length-1,d=e==null?-1:o.findIndex(S=>l(S,e));let p,f,h=!i;switch(t){case"reset":if(a===-1)return null;p=0,f="next",h=!1;break;case"start":p=0,f="next",h=!1;break;case"end":p=g,f="previous",h=!1;break;default:{const S=d+t;S<0?!h&&d!==-1||Math.abs(t)>1?(p=0,f="next"):(p=g,f="previous"):S>g?!h||Math.abs(t)>1?(p=g,f="previous"):(p=0,f="next"):(p=S,f=t>=0?"next":"previous")}}const w=Pn(p,f,o,s,r,h);return w===-1&&e!==null&&!r(e,d)?e:o[w]??null}function Vn(e,t,n,o){return n==="none"?[]:n==="single"?o(t[0],e)?t:[e]:t.some(r=>o(r,e))?t.filter(r=>!o(r,e)):[...t,e]}function it(e,t,n){const{itemComparer:o,isItemDisabled:r,selectionMode:i,items:s}=n,{selectedValues:l}=t,c=s.findIndex(g=>o(e,g));if(r(e,c))return t;const a=Vn(e,l,i,o);return{...t,selectedValues:a,highlightedValue:e}}function On(e,t,n){const o=t.highlightedValue,{orientation:r,pageSize:i}=n;switch(e){case"Home":return{...t,highlightedValue:G(o,"start",n)};case"End":return{...t,highlightedValue:G(o,"end",n)};case"PageUp":return{...t,highlightedValue:G(o,-i,n)};case"PageDown":return{...t,highlightedValue:G(o,i,n)};case"ArrowUp":if(r!=="vertical")break;return{...t,highlightedValue:G(o,-1,n)};case"ArrowDown":if(r!=="vertical")break;return{...t,highlightedValue:G(o,1,n)};case"ArrowLeft":{if(r==="vertical")break;return{...t,highlightedValue:G(o,r==="horizontal-ltr"?-1:1,n)}}case"ArrowRight":{if(r==="vertical")break;return{...t,highlightedValue:G(o,r==="horizontal-ltr"?1:-1,n)}}case"Enter":case" ":return t.highlightedValue===null?t:it(t.highlightedValue,t,n)}return t}function An(e,t){return t.focusManagement==="DOM"?e:{...e,highlightedValue:null}}function In(e,t,n){var r;const o=(r=n(e))==null?void 0:r.trim().toLowerCase();return!o||o.length===0?!1:o.startsWith(t)}function Tn(e,t,n){const{items:o,isItemDisabled:r,disabledItemsFocusable:i,getItemAsString:s}=n,l=t.length>1;let c=l?e.highlightedValue:G(e.highlightedValue,1,n);for(let a=0;a<o.length;a+=1){if(!c||!l&&e.highlightedValue===c)return e;if(In(c,t,s)&&(!r(c,o.indexOf(c))||i))return{...e,highlightedValue:c};c=G(c,1,n)}return e}function Mn(e,t,n,o){const{itemComparer:r,focusManagement:i}=o;let s=null;n.highlightedValue!=null?s=e.find(a=>r(a,n.highlightedValue))??null:i==="DOM"&&t.length===0&&(s=G(null,"reset",o));const c=(n.selectedValues??[]).filter(a=>e.some(g=>r(g,a)));return{...n,highlightedValue:s,selectedValues:c}}function En(e,t){return{...e,highlightedValue:G(null,"reset",t)}}function Dn(e,t){return{...e,highlightedValue:G(null,"end",t)}}function _n(e,t){return{...e,selectedValues:[],highlightedValue:G(null,"reset",t)}}function Lt(e,t){const{type:n,context:o}=t;switch(n){case z.keyDown:return On(t.key,e,o);case z.itemClick:return it(t.item,e,o);case z.blur:return An(e,o);case z.textNavigation:return Tn(e,t.searchString,o);case z.itemsChange:return Mn(t.items,t.previousItems,e,o);case z.resetHighlight:return En(e,o);case z.highlightLast:return Dn(e,o);case z.clearSelection:return _n(e,o);default:return e}}const Nn=500;function Ln(e){const t=u.useRef({searchString:"",lastTime:null});return u.useCallback(n=>{if(n.key.length===1&&n.key!==" "){const o=t.current,r=n.key.toLowerCase(),i=performance.now();o.searchString.length>0&&o.lastTime&&i-o.lastTime>Nn?o.searchString=r:(o.searchString.length!==1||r!==o.searchString)&&(o.searchString+=r),o.lastTime=i,e(o.searchString,n)}},[e])}const xt={},Fn=()=>{},Bn=(e,t)=>e===t,jn=()=>!1,Wn=e=>typeof e=="string"?e:String(e),$n=()=>({highlightedValue:null,selectedValues:[]});function Un(e){const{controlledProps:t=xt,disabledItemsFocusable:n=!1,disableListWrap:o=!1,focusManagement:r="activeDescendant",getInitialState:i=$n,getItemDomElement:s,getItemId:l,isItemDisabled:c=jn,rootRef:a,onStateChange:g=Fn,items:d,itemComparer:p=Bn,getItemAsString:f=Wn,onChange:h,onHighlightChange:w,onItemsChange:S,orientation:v="vertical",pageSize:y=5,reducerActionContext:k=xt,selectionMode:P="single",stateReducer:V,componentName:M="useList"}=e,N=u.useRef(null),$=ae(a,N),D=u.useCallback((j,E,W)=>{var q;w==null||w(j,E,W),r==="DOM"&&E!=null&&(W===z.itemClick||W===z.keyDown||W===z.textNavigation)&&((q=s==null?void 0:s(E))==null||q.focus())},[s,w,r]),L=u.useMemo(()=>({highlightedValue:p,selectedValues:(j,E)=>gt(j,E,p)}),[p]),x=u.useCallback((j,E,W,q,ie)=>{switch(g==null||g(j,E,W,q,ie),E){case"highlightedValue":D(j,W,q);break;case"selectedValues":h==null||h(j,W,q);break}},[D,h,g]),m=u.useMemo(()=>({disabledItemsFocusable:n,disableListWrap:o,focusManagement:r,isItemDisabled:c,itemComparer:p,items:d,getItemAsString:f,onHighlightChange:D,orientation:v,pageSize:y,selectionMode:P,stateComparers:L}),[n,o,r,c,p,d,f,D,v,y,P,L]),O=i(),F=V??Lt,K=u.useMemo(()=>({...k,...m}),[k,m]),[R,I]=kn({reducer:F,actionContext:K,initialState:O,controlledProps:t,stateComparers:L,onStateChange:x}),{highlightedValue:A,selectedValues:_}=R,B=Ln((j,E)=>I({type:z.textNavigation,event:E,searchString:j})),Z=u.useRef([]);u.useEffect(()=>{gt(Z.current,d,p)||(I({type:z.itemsChange,event:null,items:d,previousItems:Z.current}),Z.current=d,S==null||S(d))},[d,p,I,S]);const Y=j=>E=>{var q;if((q=j.onKeyDown)==null||q.call(j,E),E.defaultMuiPrevented)return;const W=["Home","End","PageUp","PageDown"];v==="vertical"?W.push("ArrowUp","ArrowDown"):W.push("ArrowLeft","ArrowRight"),r==="activeDescendant"&&W.push(" ","Enter"),W.includes(E.key)&&E.preventDefault(),I({type:z.keyDown,key:E.key,event:E}),B(E)},re=j=>E=>{var W,q;(W=j.onBlur)==null||W.call(j,E),!E.defaultMuiPrevented&&((q=N.current)!=null&&q.contains(E.relatedTarget)||I({type:z.blur,event:E}))},Se=(j={})=>{const E=ce(j);return{...j,"aria-activedescendant":r==="activeDescendant"&&A!=null?l(A):void 0,tabIndex:r==="DOM"?-1:0,ref:$,...E,onBlur:re(E),onKeyDown:Y(E)}},be=u.useCallback(j=>{const E=(_??[]).some(ie=>ie!=null&&p(j,ie)),W=A!=null&&p(j,A);return{focusable:r==="DOM",highlighted:W,selected:E}},[p,_,A,r]),xe=u.useMemo(()=>({dispatch:I,getItemState:be}),[I,be]);return u.useDebugValue({state:R}),{contextValue:xe,dispatch:I,getRootProps:Se,rootRef:$,state:R}}const je=u.createContext(null);function zn(e){const{handlePointerOverEvents:t=!1,item:n}=e,o=u.useContext(je);if(!o)throw new Error("useListItem must be used within a ListProvider");const{dispatch:r,getItemState:i}=o,{highlighted:s,selected:l,focusable:c}=i(n),a=u.useCallback(f=>h=>{var w;(w=f.onClick)==null||w.call(f,h),!h.defaultPrevented&&r({type:z.itemClick,item:n,event:h})},[r,n]),g=u.useCallback(f=>h=>{var w;(w=f.onMouseOver)==null||w.call(f,h),!h.defaultPrevented&&r({type:z.itemHover,item:n,event:h})},[r,n]);let d;return c&&(d=s?0:-1),{getRootProps:(f={})=>{const h=ce(f);return{...f,onClick:a(h),onPointerOver:t?g(h):void 0,tabIndex:d}},highlighted:s,selected:l}}const Ft=u.createContext(null);function Kn(e){const t=Array.from(e.keys()).map(n=>{const o=e.get(n);return{key:n,subitem:o}});return t.sort((n,o)=>{const r=n.subitem.ref.current,i=o.subitem.ref.current;return r===null||i===null||r===i?0:r.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}),new Map(t.map(n=>[n.key,n.subitem]))}function qn(){const[e,t]=u.useState(new Map),n=u.useRef(new Set),o=u.useCallback(function(a){n.current.delete(a),t(g=>{const d=new Map(g);return d.delete(a),d})},[]),r=u.useCallback(function(a,g){let d;return typeof a=="function"?d=a(n.current):d=a,n.current.add(d),t(p=>{const f=new Map(p);return f.set(d,g),f}),{id:d,deregister:()=>o(d)}},[o]),i=u.useMemo(()=>Kn(e),[e]),s=u.useCallback(function(a){return Array.from(i.keys()).indexOf(a)},[i]);return{contextValue:u.useMemo(()=>({getItemIndex:s,registerItem:r,totalSubitemCount:e.size}),[s,r,e.size]),subitems:i}}function Yn(e,t){const n=u.useContext(Ft);if(n===null)throw new Error("useCompoundItem must be used within a useCompoundParent");const{registerItem:o}=n,[r,i]=u.useState(typeof e=="function"?void 0:e);return rt(()=>{const{id:s,deregister:l}=o(e,t);return i(s),l},[o,t,e]),{id:r,index:r!==void 0?n.getItemIndex(r):-1,totalItemCount:n.totalSubitemCount}}function Ee(e,t){return function(o={}){const r={...o,...e(o)};return{...r,...t(r)}}}const De=Math.min,pe=Math.max,_e=Math.round,Ae=Math.floor,te=e=>({x:e,y:e}),Gn={left:"right",right:"left",bottom:"top",top:"bottom"},Jn={start:"end",end:"start"};function yt(e,t,n){return pe(e,De(t,n))}function We(e,t){return typeof e=="function"?e(t):e}function me(e){return e.split("-")[0]}function $e(e){return e.split("-")[1]}function Bt(e){return e==="x"?"y":"x"}function jt(e){return e==="y"?"height":"width"}function ge(e){return["top","bottom"].includes(me(e))?"y":"x"}function Wt(e){return Bt(ge(e))}function Xn(e,t,n){n===void 0&&(n=!1);const o=$e(e),r=Wt(e),i=jt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ne(s)),[s,Ne(s)]}function Qn(e){const t=Ne(e);return[Ze(e),t,Ze(t)]}function Ze(e){return e.replace(/start|end/g,t=>Jn[t])}function Zn(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:s;default:return[]}}function Hn(e,t,n,o){const r=$e(e);let i=Zn(me(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(Ze)))),i}function Ne(e){return e.replace(/left|right|bottom|top/g,t=>Gn[t])}function eo(e){return{top:0,right:0,bottom:0,left:0,...e}}function to(e){return typeof e!="number"?eo(e):{top:e,right:e,bottom:e,left:e}}function Le(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function wt(e,t,n){let{reference:o,floating:r}=e;const i=ge(t),s=Wt(t),l=jt(s),c=me(t),a=i==="y",g=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,p=o[l]/2-r[l]/2;let f;switch(c){case"top":f={x:g,y:o.y-r.height};break;case"bottom":f={x:g,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:d};break;case"left":f={x:o.x-r.width,y:d};break;default:f={x:o.x,y:o.y}}switch($e(t)){case"start":f[s]-=p*(n&&a?-1:1);break;case"end":f[s]+=p*(n&&a?-1:1);break}return f}const no=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:g,y:d}=wt(a,o,c),p=o,f={},h=0;for(let w=0;w<l.length;w++){const{name:S,fn:v}=l[w],{x:y,y:k,data:P,reset:V}=await v({x:g,y:d,initialPlacement:o,placement:p,strategy:r,middlewareData:f,rects:a,platform:s,elements:{reference:e,floating:t}});g=y??g,d=k??d,f={...f,[S]:{...f[S],...P}},V&&h<=50&&(h++,typeof V=="object"&&(V.placement&&(p=V.placement),V.rects&&(a=V.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):V.rects),{x:g,y:d}=wt(a,p,c)),w=-1)}return{x:g,y:d,placement:p,strategy:r,middlewareData:f}};async function $t(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:g="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=We(t,e),h=to(f),S=l[p?d==="floating"?"reference":"floating":d],v=Le(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:a,rootBoundary:g,strategy:c})),y=d==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),P=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},V=Le(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:k,strategy:c}):y);return{top:(v.top-V.top+h.top)/P.y,bottom:(V.bottom-v.bottom+h.bottom)/P.y,left:(v.left-V.left+h.left)/P.x,right:(V.right-v.right+h.right)/P.x}}const oo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:a}=t,{mainAxis:g=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:w=!0,...S}=We(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=me(r),y=ge(l),k=me(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(a.floating)),V=p||(k||!w?[Ne(l)]:Qn(l)),M=h!=="none";!p&&M&&V.push(...Hn(l,w,h,P));const N=[l,...V],$=await $t(t,S),D=[];let L=((o=i.flip)==null?void 0:o.overflows)||[];if(g&&D.push($[v]),d){const K=Xn(r,s,P);D.push($[K[0]],$[K[1]])}if(L=[...L,{placement:r,overflows:D}],!D.every(K=>K<=0)){var x,m;const K=(((x=i.flip)==null?void 0:x.index)||0)+1,R=N[K];if(R){var O;const A=d==="alignment"?y!==ge(R):!1,_=((O=L[0])==null?void 0:O.overflows[0])>0;if(!A||_)return{data:{index:K,overflows:L},reset:{placement:R}}}let I=(m=L.filter(A=>A.overflows[0]<=0).sort((A,_)=>A.overflows[1]-_.overflows[1])[0])==null?void 0:m.placement;if(!I)switch(f){case"bestFit":{var F;const A=(F=L.filter(_=>{if(M){const B=ge(_.placement);return B===y||B==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((_,B)=>_[1]-B[1])[0])==null?void 0:F[0];A&&(I=A);break}case"initialPlacement":I=l;break}if(r!==I)return{reset:{placement:I}}}return{}}}};async function ro(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=me(n),l=$e(n),c=ge(n)==="y",a=["left","top"].includes(s)?-1:1,g=i&&c?-1:1,d=We(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof h=="number"&&(f=l==="end"?h*-1:h),c?{x:f*g,y:p*a}:{x:p*a,y:f*g}}const io=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,c=await ro(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:s}}}}},so=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:S=>{let{x:v,y}=S;return{x:v,y}}},...c}=We(e,t),a={x:n,y:o},g=await $t(t,c),d=ge(me(r)),p=Bt(d);let f=a[p],h=a[d];if(i){const S=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=f+g[S],k=f-g[v];f=yt(y,f,k)}if(s){const S=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=h+g[S],k=h-g[v];h=yt(y,h,k)}const w=l.fn({...t,[p]:f,[d]:h});return{...w,data:{x:w.x-n,y:w.y-o,enabled:{[p]:i,[d]:s}}}}}};function Ue(){return typeof window<"u"}function Ce(e){return Ut(e)?(e.nodeName||"").toLowerCase():"#document"}function Q(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oe(e){var t;return(t=(Ut(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ut(e){return Ue()?e instanceof Node||e instanceof Q(e).Node:!1}function H(e){return Ue()?e instanceof Element||e instanceof Q(e).Element:!1}function ne(e){return Ue()?e instanceof HTMLElement||e instanceof Q(e).HTMLElement:!1}function Ct(e){return!Ue()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Q(e).ShadowRoot}function Ve(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=ee(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function lo(e){return["table","td","th"].includes(Ce(e))}function ze(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function st(e){const t=lt(),n=H(e)?ee(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function co(e){let t=ue(e);for(;ne(t)&&!we(t);){if(st(t))return t;if(ze(t))return null;t=ue(t)}return null}function lt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function we(e){return["html","body","#document"].includes(Ce(e))}function ee(e){return Q(e).getComputedStyle(e)}function Ke(e){return H(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(Ce(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ct(e)&&e.host||oe(e);return Ct(t)?t.host:t}function zt(e){const t=ue(e);return we(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&Ve(t)?t:zt(t)}function ke(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=zt(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=Q(r);if(i){const l=He(s);return t.concat(s,s.visualViewport||[],Ve(r)?r:[],l&&n?ke(l):[])}return t.concat(r,ke(r,[],n))}function He(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Kt(e){const t=ee(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=ne(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=_e(n)!==i||_e(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function ct(e){return H(e)?e:e.contextElement}function ye(e){const t=ct(e);if(!ne(t))return te(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=Kt(t);let s=(i?_e(n.width):n.width)/o,l=(i?_e(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const ao=te(0);function qt(e){const t=Q(e);return!lt()||!t.visualViewport?ao:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Q(e)?!1:t}function he(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=ct(e);let s=te(1);t&&(o?H(o)&&(s=ye(o)):s=ye(e));const l=uo(i,n,o)?qt(i):te(0);let c=(r.left+l.x)/s.x,a=(r.top+l.y)/s.y,g=r.width/s.x,d=r.height/s.y;if(i){const p=Q(i),f=o&&H(o)?Q(o):o;let h=p,w=He(h);for(;w&&o&&f!==h;){const S=ye(w),v=w.getBoundingClientRect(),y=ee(w),k=v.left+(w.clientLeft+parseFloat(y.paddingLeft))*S.x,P=v.top+(w.clientTop+parseFloat(y.paddingTop))*S.y;c*=S.x,a*=S.y,g*=S.x,d*=S.y,c+=k,a+=P,h=Q(w),w=He(h)}}return Le({width:g,height:d,x:c,y:a})}function at(e,t){const n=Ke(e).scrollLeft;return t?t.left+n:he(oe(e)).left+n}function Yt(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(n?0:at(e,o)),i=o.top+t.scrollTop;return{x:r,y:i}}function fo(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=oe(o),l=t?ze(t.floating):!1;if(o===s||l&&i)return n;let c={scrollLeft:0,scrollTop:0},a=te(1);const g=te(0),d=ne(o);if((d||!d&&!i)&&((Ce(o)!=="body"||Ve(s))&&(c=Ke(o)),ne(o))){const f=he(o);a=ye(o),g.x=f.x+o.clientLeft,g.y=f.y+o.clientTop}const p=s&&!d&&!i?Yt(s,c,!0):te(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+g.x+p.x,y:n.y*a.y-c.scrollTop*a.y+g.y+p.y}}function po(e){return Array.from(e.getClientRects())}function go(e){const t=oe(e),n=Ke(e),o=e.ownerDocument.body,r=pe(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=pe(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+at(e);const l=-n.scrollTop;return ee(o).direction==="rtl"&&(s+=pe(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function mo(e,t){const n=Q(e),o=oe(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,c=0;if(r){i=r.width,s=r.height;const a=lt();(!a||a&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:l,y:c}}function ho(e,t){const n=he(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=ne(e)?ye(e):te(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,a=o*i.y;return{width:s,height:l,x:c,y:a}}function St(e,t,n){let o;if(t==="viewport")o=mo(e,n);else if(t==="document")o=go(oe(e));else if(H(t))o=ho(t,n);else{const r=qt(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Le(o)}function Gt(e,t){const n=ue(e);return n===t||!H(n)||we(n)?!1:ee(n).position==="fixed"||Gt(n,t)}function bo(e,t){const n=t.get(e);if(n)return n;let o=ke(e,[],!1).filter(l=>H(l)&&Ce(l)!=="body"),r=null;const i=ee(e).position==="fixed";let s=i?ue(e):e;for(;H(s)&&!we(s);){const l=ee(s),c=st(s);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ve(s)&&!c&&Gt(e,s))?o=o.filter(g=>g!==s):r=l,s=ue(s)}return t.set(e,o),o}function xo(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?ze(t)?[]:bo(t,this._c):[].concat(n),o],l=s[0],c=s.reduce((a,g)=>{const d=St(t,g,r);return a.top=pe(d.top,a.top),a.right=De(d.right,a.right),a.bottom=De(d.bottom,a.bottom),a.left=pe(d.left,a.left),a},St(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yo(e){const{width:t,height:n}=Kt(e);return{width:t,height:n}}function wo(e,t,n){const o=ne(t),r=oe(t),i=n==="fixed",s=he(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=te(0);function a(){c.x=at(r)}if(o||!o&&!i)if((Ce(t)!=="body"||Ve(r))&&(l=Ke(t)),o){const f=he(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else r&&a();i&&!o&&r&&a();const g=r&&!o&&!i?Yt(r,l):te(0),d=s.left+l.scrollLeft-c.x-g.x,p=s.top+l.scrollTop-c.y-g.y;return{x:d,y:p,width:s.width,height:s.height}}function Je(e){return ee(e).position==="static"}function Rt(e,t){if(!ne(e)||ee(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return oe(e)===n&&(n=n.ownerDocument.body),n}function Jt(e,t){const n=Q(e);if(ze(e))return n;if(!ne(e)){let r=ue(e);for(;r&&!we(r);){if(H(r)&&!Je(r))return r;r=ue(r)}return n}let o=Rt(e,t);for(;o&&lo(o)&&Je(o);)o=Rt(o,t);return o&&we(o)&&Je(o)&&!st(o)?n:o||co(e)||n}const Co=async function(e){const t=this.getOffsetParent||Jt,n=this.getDimensions,o=await n(e.floating);return{reference:wo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function So(e){return ee(e).direction==="rtl"}const Ro={convertOffsetParentRelativeRectToViewportRelativeRect:fo,getDocumentElement:oe,getClippingRect:xo,getOffsetParent:Jt,getElementRects:Co,getClientRects:po,getDimensions:yo,getScale:ye,isElement:H,isRTL:So};function Xt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vo(e,t){let n=null,o;const r=oe(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const a=e.getBoundingClientRect(),{left:g,top:d,width:p,height:f}=a;if(l||t(),!p||!f)return;const h=Ae(d),w=Ae(r.clientWidth-(g+p)),S=Ae(r.clientHeight-(d+f)),v=Ae(g),k={rootMargin:-h+"px "+-w+"px "+-S+"px "+-v+"px",threshold:pe(0,De(1,c))||1};let P=!0;function V(M){const N=M[0].intersectionRatio;if(N!==c){if(!P)return s();N?s(!1,N):o=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!Xt(a,e.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(V,{...k,root:r.ownerDocument})}catch{n=new IntersectionObserver(V,k)}n.observe(e)}return s(!0),i}function vt(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,a=ct(e),g=r||i?[...a?ke(a):[],...ke(t)]:[];g.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=a&&l?vo(a,n):null;let p=-1,f=null;s&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===a&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var k;(k=f)==null||k.observe(t)})),n()}),a&&!c&&f.observe(a),f.observe(t));let h,w=c?he(e):null;c&&S();function S(){const v=he(e);w&&!Xt(w,v)&&n(),w=v,h=requestAnimationFrame(S)}return n(),()=>{var v;g.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,c&&cancelAnimationFrame(h)}}const ko=io,Po=so,Vo=oo,Oo=(e,t,n)=>{const o=new Map,r={platform:Ro,...n},i={...r.platform,_c:o};return no(e,t,{...r,platform:i})};var Me=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Fe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Fe(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!Fe(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Qt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kt(e,t){const n=Qt(e);return Math.round(t*n)/n}function Xe(e){const t=u.useRef(e);return Me(()=>{t.current=e}),t}function Ao(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:a}=e,[g,d]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=u.useState(o);Fe(p,o)||f(o);const[h,w]=u.useState(null),[S,v]=u.useState(null),y=u.useCallback(A=>{A!==M.current&&(M.current=A,w(A))},[]),k=u.useCallback(A=>{A!==N.current&&(N.current=A,v(A))},[]),P=i||h,V=s||S,M=u.useRef(null),N=u.useRef(null),$=u.useRef(g),D=c!=null,L=Xe(c),x=Xe(r),m=Xe(a),O=u.useCallback(()=>{if(!M.current||!N.current)return;const A={placement:t,strategy:n,middleware:p};x.current&&(A.platform=x.current),Oo(M.current,N.current,A).then(_=>{const B={..._,isPositioned:m.current!==!1};F.current&&!Fe($.current,B)&&($.current=B,xn.flushSync(()=>{d(B)}))})},[p,t,n,x,m]);Me(()=>{a===!1&&$.current.isPositioned&&($.current.isPositioned=!1,d(A=>({...A,isPositioned:!1})))},[a]);const F=u.useRef(!1);Me(()=>(F.current=!0,()=>{F.current=!1}),[]),Me(()=>{if(P&&(M.current=P),V&&(N.current=V),P&&V){if(L.current)return L.current(P,V,O);O()}},[P,V,O,L,D]);const K=u.useMemo(()=>({reference:M,floating:N,setReference:y,setFloating:k}),[y,k]),R=u.useMemo(()=>({reference:P,floating:V}),[P,V]),I=u.useMemo(()=>{const A={position:n,left:0,top:0};if(!R.floating)return A;const _=kt(R.floating,g.x),B=kt(R.floating,g.y);return l?{...A,transform:"translate("+_+"px, "+B+"px)",...Qt(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:B}},[n,l,R.floating,g.x,g.y]);return u.useMemo(()=>({...g,update:O,refs:K,elements:R,floatingStyles:I}),[g,O,K,R,I])}const Pt=(e,t)=>({...ko(e),options:[e,t]}),Io=(e,t)=>({...Po(e),options:[e,t]}),To=(e,t)=>({...Vo(e),options:[e,t]}),Zt="Popup";function Mo(e){return et(Zt,e)}tt(Zt,["root","open"]);const Eo=u.createContext(null);function Do(e){const[t,n]=u.useState(!0),o=u.useRef(!1),r=u.useRef(0),[i,s]=u.useState(!1),l=u.useRef(e);u.useEffect(()=>{!e&&r.current>0&&l.current!==e&&(o.current=!0,n(!1)),l.current=e},[e]);const c=u.useCallback(()=>{o.current=!1,n(!0)},[]),a=u.useCallback(()=>(r.current+=1,s(!0),()=>{r.current-=1,r.current===0&&s(!1)}),[]);let g;return i?e?g=!1:g=!o.current&&t:g=!e,{contextValue:u.useMemo(()=>({requestedEnter:e,onExited:c,registerTransition:a,hasExited:g}),[c,e,a,g]),hasExited:g}}const _o=u.createContext(null);function No(e){const{open:t}=e;return nt({root:["root",t&&"open"]},ot(Mo))}function Lo(e){return typeof e=="function"?e():e}const Fo=u.forwardRef(function(t,n){const{anchor:o,children:r,container:i,disablePortal:s=!1,keepMounted:l=!1,middleware:c,offset:a=0,open:g=!1,placement:d="bottom",slotProps:p={},slots:f={},strategy:h="absolute",...w}=t,{refs:S,elements:v,floatingStyles:y,update:k,placement:P}=Ao({elements:{reference:Lo(o)},open:g,middleware:c??[Pt(a??0),To(),Io()],placement:d,strategy:h,whileElementsMounted:l?void 0:vt}),V=ae(S.setFloating,n);rt(()=>{if(l&&g&&v.reference&&v.floating)return vt(v.reference,v.floating,k)},[l,g,v,k]);const M={...t,disablePortal:s,keepMounted:l,offset:Pt,open:g,placement:d,finalPlacement:P,strategy:h},{contextValue:N,hasExited:$}=Do(g),D=l&&$?"hidden":void 0,L=No(M),x=(f==null?void 0:f.root)??"div",m=ve({elementType:x,externalSlotProps:p.root,externalForwardedProps:w,ownerState:M,className:L.root,additionalProps:{ref:V,role:"tooltip",style:{...y,visibility:D}}}),O=u.useMemo(()=>({placement:P}),[P]);return l||!$?T.jsx(yn,{disablePortal:s,container:i,children:T.jsx(_o.Provider,{value:O,children:T.jsx(Eo.Provider,{value:N,children:T.jsx(x,{...m,children:r})})})}):null}),Ht="Option";function Bo(e){return et(Ht,e)}tt(Ht,["root","disabled","selected","highlighted"]);function jo(e){const{value:t,label:n,disabled:o,rootRef:r,id:i}=e,{getRootProps:s,highlighted:l,selected:c}=zn({item:t}),{getRootProps:a,rootRef:g}=Nt({disabled:o,focusableWhenDisabled:!0}),d=_t(i),p=u.useRef(null),f=u.useMemo(()=>({disabled:o,label:n,value:t,ref:p,id:d}),[o,n,t,d]),{index:h}=Yn(t,f),w=ae(r,p,g),S=y=>k=>{var P;(P=y.onKeyDown)==null||P.call(y,k),!k.defaultMuiPrevented&&[" ","Enter"].includes(k.key)&&(k.defaultMuiPrevented=!0)},v=(y={})=>({onKeyDown:S(y)});return{getRootProps:(y={})=>{const k=ce(y),P=Ee(s,Ee(a,v));return{...y,...k,...P(k),id:d,ref:w,role:"option","aria-selected":c}},highlighted:l,index:h,selected:c,rootRef:w}}function Wo(e){const t=u.useContext(je);if(!t)throw new Error("Option: ListContext was not found.");const{getItemState:n,dispatch:o}=t,{highlighted:r,selected:i,focusable:s}=n(e),l=u.useCallback(a=>{if(a!==e)throw new Error(["Base UI Option: Tried to access the state of another Option.","This is unsupported when the Option uses the OptionContextStabilizer as a performance optimization."].join("/n"));return{highlighted:r,selected:i,focusable:s}},[r,i,s,e]);return{contextValue:u.useMemo(()=>({dispatch:o,getItemState:l}),[o,l])}}function $o(e){const{disabled:t,highlighted:n,selected:o}=e;return nt({root:["root",t&&"disabled",n&&"highlighted",o&&"selected"]},ot(Bo))}const Uo=u.memo(u.forwardRef(function(t,n){var V,M;const{children:o,disabled:r=!1,label:i,slotProps:s={},slots:l={},value:c,...a}=t,g=l.root??"li",d=u.useRef(null),p=ae(d,n),f=i??(typeof o=="string"?o:(M=(V=d.current)==null?void 0:V.textContent)==null?void 0:M.trim()),{getRootProps:h,selected:w,highlighted:S,index:v}=jo({disabled:r,label:f,rootRef:p,value:c}),y={...t,disabled:r,highlighted:S,index:v,selected:w},k=$o(y),P=ve({getSlotProps:h,elementType:g,externalSlotProps:s.root,externalForwardedProps:a,className:k.root,ownerState:y});return T.jsx(g,{...P,children:o})})),Vt=u.forwardRef(function(t,n){const{value:o}=t,{contextValue:r}=Wo(o);return T.jsx(je.Provider,{value:r,children:T.jsx(Uo,{...t,ref:n})})}),Be={buttonClick:"buttonClick",browserAutoFill:"browserAutoFill"},en=e=>{const{label:t,value:n}=e;return typeof t=="string"?t:typeof n=="string"?n:String(e)};function zo(e,t){const{open:n}=e,{context:{selectionMode:o}}=t;if(t.type===Be.buttonClick){const i=e.selectedValues[0]??G(null,"start",t.context);return{...e,open:!n,highlightedValue:n?null:i}}if(t.type===Be.browserAutoFill)return it(t.item,e,t.context);const r=Lt(e,t);switch(t.type){case z.keyDown:if(e.open){if(t.event.key==="Escape")return{...r,open:!1}}else{if(t.event.key==="ArrowDown")return{...e,open:!0,highlightedValue:e.selectedValues[0]??G(null,"start",t.context)};if(t.event.key==="ArrowUp")return{...e,open:!0,highlightedValue:e.selectedValues[0]??G(null,"end",t.context)}}break;case z.itemClick:if(o==="single")return{...r,open:!1};break;case z.blur:return{...r,open:!1};default:return r}return r}function Ko(e){return Array.isArray(e)?e.length===0?"":JSON.stringify(e.map(t=>t.value)):(e==null?void 0:e.value)==null?"":typeof e.value=="string"||typeof e.value=="number"?e.value:JSON.stringify(e.value)}function qo(e){const{areOptionsEqual:t,buttonRef:n,defaultOpen:o=!1,defaultValue:r,disabled:i=!1,listboxId:s,listboxRef:l,multiple:c=!1,name:a,required:g,onChange:d,onHighlightChange:p,onOpenChange:f,open:h,options:w,getOptionAsString:S=en,getSerializedValue:v=Ko,value:y,componentName:k="useSelect"}=e,P=u.useRef(null),V=ae(n,P),M=u.useRef(null),N=_t(s);let $;y===void 0&&r===void 0?$=[]:r!==void 0&&(c?$=r:$=r==null?[]:[r]);const D=u.useMemo(()=>{if(y!==void 0)return c?y:y==null?[]:[y]},[y,c]),{subitems:L,contextValue:x}=qn(),m=u.useMemo(()=>w!=null?new Map(w.map((b,C)=>[b.value,{value:b.value,label:b.label,disabled:b.disabled,ref:u.createRef(),id:`${N}_${C}`}])):L,[w,L,N]),O=ae(l,M),{getRootProps:F,active:K,focusVisible:R,rootRef:I}=Nt({disabled:i,rootRef:V}),A=u.useMemo(()=>Array.from(m.keys()),[m]),_=u.useCallback(b=>{if(t!==void 0){const C=A.find(U=>t(U,b));return m.get(C)}return m.get(b)},[m,t,A]),B=u.useCallback(b=>{const C=_(b);return(C==null?void 0:C.disabled)??!1},[_]),Z=u.useCallback(b=>{const C=_(b);return C?S(C):""},[_,S]),Y=u.useMemo(()=>({selectedValues:D,open:h}),[D,h]),re=u.useCallback(b=>{var C;return(C=m.get(b))==null?void 0:C.id},[m]),Se=u.useCallback((b,C)=>{c?d==null||d(b,C):d==null||d(b,C[0]??null)},[c,d]),be=u.useCallback((b,C)=>{p==null||p(b,C??null)},[p]),xe=u.useCallback((b,C,U)=>{var J;C==="open"&&(f==null||f(U),U===!1&&(b==null?void 0:b.type)!=="blur"&&((J=P.current)==null||J.focus()))},[f]),j=u.useCallback(b=>{var C;return b==null?null:((C=L.get(b))==null?void 0:C.ref.current)??null},[L]),E={getInitialState:()=>({highlightedValue:null,selectedValues:$??[],open:o}),getItemId:re,controlledProps:Y,focusManagement:"DOM",getItemDomElement:j,itemComparer:t,isItemDisabled:B,rootRef:O,onChange:Se,onHighlightChange:be,onStateChange:xe,reducerActionContext:u.useMemo(()=>({multiple:c}),[c]),items:A,getItemAsString:Z,selectionMode:c?"multiple":"single",stateReducer:zo,componentName:k},{dispatch:W,getRootProps:q,contextValue:ie,state:{open:se,highlightedValue:fe,selectedValues:le},rootRef:de}=Un(E),on=u.useRef(se);rt(()=>{var b;if(se&&fe!==null){const C=(b=_(fe))==null?void 0:b.ref;if(!M.current||!(C!=null&&C.current))return;on.current||C.current.focus({preventScroll:!0});const U=M.current.getBoundingClientRect(),J=C.current.getBoundingClientRect();J.top<U.top?M.current.scrollTop-=U.top-J.top:J.bottom>U.bottom&&(M.current.scrollTop+=J.bottom-U.bottom)}},[se,fe,_]);const qe=u.useCallback(b=>_(b),[_]),rn=b=>C=>{var U;if((U=b==null?void 0:b.onClick)==null||U.call(b,C),!C.defaultMuiPrevented){const J={type:Be.buttonClick,event:C};W(J)}},sn=b=>C=>{var U;(U=b.onKeyDown)==null||U.call(b,C),!C.defaultMuiPrevented&&(C.key==="ArrowDown"||C.key==="ArrowUp")&&(C.preventDefault(),W({type:z.keyDown,key:C.key,event:C}))},ln=(b={})=>({onClick:rn(b),onKeyDown:sn(b)}),cn=(b={})=>({...b,...ln(b),role:"combobox","aria-expanded":se,"aria-controls":N}),an=(b={})=>{const C=ce(b),U=Ee(cn,F);return{...b,...U(C)}},un=b=>C=>{var U,J;(U=b.onBlur)==null||U.call(b,C),!C.defaultMuiPrevented&&((J=M.current)!=null&&J.contains(C.relatedTarget)||C.relatedTarget===P.current)&&(C.defaultMuiPrevented=!0)},fn=(b={})=>({onBlur:un(b)}),dn=(b={})=>{const C=ce(b),U=Ee(fn,q);return{id:N,role:"listbox","aria-multiselectable":c?"true":void 0,...b,...U(C)}};u.useDebugValue({selectedOptions:le,highlightedOption:fe,open:se});const pn=u.useMemo(()=>({...ie,...x}),[ie,x]);let Re;e.multiple?Re=le:Re=le.length>0?le[0]:null;let Ye;c?Ye=Re.map(b=>qe(b)).filter(b=>b!==void 0):Ye=qe(Re)??null;const gn=b=>C=>{var J;if((J=b==null?void 0:b.onChange)==null||J.call(b,C),C.defaultMuiPrevented)return;const U=m.get(C.target.value);C.target.value===""?W({type:z.clearSelection}):U!==void 0&&W({type:Be.browserAutoFill,item:U.value,event:C})};return{buttonActive:K,buttonFocusVisible:R,buttonRef:I,contextValue:pn,disabled:i,dispatch:W,getButtonProps:an,getHiddenInputProps:(b={})=>{const C=ce(b);return{name:a,tabIndex:-1,"aria-hidden":!0,required:g?!0:void 0,value:v(Ye),style:wn,...b,onChange:gn(C)}},getListboxProps:dn,getOptionMetadata:qe,listboxRef:de,open:se,options:A,value:Re,highlightedOption:fe}}function Yo(e){const{value:t,children:n}=e,{dispatch:o,getItemIndex:r,getItemState:i,registerItem:s,totalSubitemCount:l}=t,c=u.useMemo(()=>({dispatch:o,getItemState:i,getItemIndex:r}),[o,r,i]),a=u.useMemo(()=>({getItemIndex:r,registerItem:s,totalSubitemCount:l}),[s,r,l]);return T.jsx(Ft.Provider,{value:a,children:T.jsx(je.Provider,{value:c,children:n})})}const tn="Select";function Go(e){return et(tn,e)}tt(tn,["root","button","listbox","popup","active","expanded","disabled","focusVisible"]);var Ot;function Jo(e){return Array.isArray(e)?T.jsx(u.Fragment,{children:e.map(t=>t.label).join(", ")}):(e==null?void 0:e.label)??null}function Xo(e){const{active:t,disabled:n,open:o,focusVisible:r}=e;return nt({root:["root",n&&"disabled",r&&"focusVisible",t&&"active",o&&"expanded"],listbox:["listbox",n&&"disabled"],popup:["popup"]},ot(Go))}const Qo=u.forwardRef(function(t,n){const{areOptionsEqual:o,autoComplete:r,autoFocus:i,children:s,defaultValue:l,defaultListboxOpen:c=!1,disabled:a,getSerializedValue:g,listboxId:d,listboxOpen:p,multiple:f=!1,name:h,required:w=!1,onChange:S,onListboxOpenChange:v,getOptionAsString:y=en,renderValue:k,placeholder:P,slotProps:V={},slots:M={},value:N,...$}=t,D=k??Jo,[L,x]=u.useState(!1),m=u.useRef(null),O=u.useRef(null),F=M.root??"button",K=M.listbox??"ul",R=M.popup??"div",I=u.useCallback(de=>{x(de!=null)},[]),A=ae(n,m,I);u.useEffect(()=>{i&&m.current.focus()},[i]);const{buttonActive:_,buttonFocusVisible:B,contextValue:Z,disabled:Y,getButtonProps:re,getListboxProps:Se,getHiddenInputProps:be,getOptionMetadata:xe,value:j,open:E}=qo({name:h,required:w,getSerializedValue:g,areOptionsEqual:o,buttonRef:A,defaultOpen:c,defaultValue:l,disabled:a,listboxId:d,multiple:f,open:p,onChange:S,onOpenChange:v,getOptionAsString:y,value:N,componentName:"Select"}),W={...t,active:_,defaultListboxOpen:c,disabled:Y,focusVisible:B,open:E,multiple:f,renderValue:D,value:j},q=Xo(W),ie=ve({elementType:F,getSlotProps:re,externalSlotProps:V.root,externalForwardedProps:$,ownerState:W,className:q.root}),se=ve({elementType:K,getSlotProps:Se,externalSlotProps:V.listbox,additionalProps:{ref:O},ownerState:W,className:q.listbox}),fe=ve({elementType:R,externalSlotProps:V.popup,additionalProps:{anchor:m.current,keepMounted:!0,open:E,placement:"bottom-start",role:void 0},ownerState:W,className:q.popup});let le;return f?le=j.map(de=>xe(de)).filter(de=>de!==void 0):le=xe(j)??null,T.jsxs(u.Fragment,{children:[T.jsx(F,{...ie,children:D(le)??P??(Ot||(Ot=T.jsx("span",{className:"notranslate",children:"​"})))}),L&&T.jsx(Fo,{slots:{root:R},...fe,children:T.jsx(K,{...se,children:T.jsx(Yo,{value:Z,children:s})})}),T.jsx("input",{...be(),autoComplete:r})]})}),Zo="open",Ho="closed",er="disabled",tr="gradientMove",nr="fadeInKeyframe",or={"prokodo-Select":"prokodo-Select","prokodo-Select__field":"prokodo-Select__field","prokodo-Select__field--expanded":"prokodo-Select__field--expanded","prokodo-Select__button":"prokodo-Select__button","prokodo-Select__button__inner":"prokodo-Select__button__inner","prokodo-Select__button--expanded":"prokodo-Select__button--expanded","prokodo-Select__listbox":"prokodo-Select__listbox",open:Zo,"fade-in":"fade-in",closed:Ho,"fade-out":"fade-out","placement-top":"placement-top","placement-bottom":"placement-bottom","prokodo-Select__item":"prokodo-Select__item",disabled:er,"prokodo-Select__item--selected":"prokodo-Select__item--selected","base-Option-highlighted":"base-Option-highlighted","base--selected":"base--selected","prokodo-Select__item--disabled":"prokodo-Select__item--disabled","prokodo-Select__popup":"prokodo-Select__popup","prokodo-Select__checkbox":"prokodo-Select__checkbox","prokodo-Select__checkbox--checked":"prokodo-Select__checkbox--checked",gradientMove:tr,fadeInKeyframe:nr},X=hn(or,"Select"),Pe=u.memo(({id:e,iconVisible:t,required:n,multiple:o,value:r,placeholder:i,color:s="primary",label:l,labelProps:c={},hideLabel:a,className:g,classNameSelect:d,items:p,slotProps:f,errorText:h,helperText:w,onChange:S,...v})=>{const[y,k]=u.useState(r??o?[]:"default");u.useEffect(()=>{r!==void 0&&k(r)},[r,y]);const P=u.useCallback((R,I)=>{I!==null&&(k(I),S==null||S(R,I))},[S]),V=`${e}-label`,M=`${e}-error`,N=`${e}-helper`,[$,D]=u.useState(!1);if(Array.isArray(p)?p.length===0:Object.keys(p).length===0)return null;const L={expanded:$},x=i??"-- Please choose --",m=ut(h),O=n===!0,F=o===!0,K=ut(w);return T.jsxs("div",{className:X(void 0,void 0,g),children:[(a===void 0||a===!1)&&T.jsx(bn,{...c,error:m,htmlFor:V,label:l,required:n}),T.jsx("div",{className:X("field",{...L,[s]:!!s}),children:T.jsxs(Qo,{...v,"aria-invalid":m,"aria-labelledby":V,"aria-required":n?"true":void 0,className:X("select",void 0,d),id:e,multiple:o,required:n,slots:{root:"button",listbox:"ul",popup:"div"},value:y,"aria-describedby":m?M:K?N:void 0,renderValue:R=>{var A,_,B,Z;if(R===null&&(O||F)||Array.isArray(R)&&R.length===0&&(O||F))return T.jsx("span",{className:X("button__inner",{"is-placeholder":!0}),children:x});if(Array.isArray(R)){const Y=p==null?void 0:p.find(re=>re.value===r);return T.jsxs("span",{className:X("button__inner",L),children:[ft(t)&&!dt((A=Y==null?void 0:Y.icon)==null?void 0:A.call(Y))&&((_=Y==null?void 0:Y.icon)==null?void 0:_.call(Y)),R.map(re=>re.label).join(", ")]})}const I=p==null?void 0:p.find(Y=>Y.value===(R==null?void 0:R.value));return T.jsxs("span",{className:X("button__inner",L),children:[ft(t)&&!dt((B=I==null?void 0:I.icon)==null?void 0:B.call(I))&&((Z=I==null?void 0:I.icon)==null?void 0:Z.call(I)),R==null?void 0:R.label]})},slotProps:{...f,root:{...f==null?void 0:f.root,className:X("button",L),role:"button","aria-haspopup":"listbox","aria-expanded":$?"true":"false"},listbox:{...f==null?void 0:f.listbox,className:X("listbox"),role:"listbox"},popup:{...f==null?void 0:f.popup,disablePortal:!0,className:X("popup",{"is-expanded":$})}},onChange:P,onListboxOpenChange:R=>D(R),children:[!O&&!F&&T.jsx(Vt,{"aria-label":x.toString(),"aria-selected":y==="default"?"true":"false",value:"default",className:X("item",{selected:y==="default"}),children:x}),p.map(R=>{const{icon:I,...A}=R,B=((R==null?void 0:R.value)===y||(y==null?void 0:y.includes(R==null?void 0:R.value)))===!0;return T.jsxs(Vt,{className:X("item",{selected:B&&!F},R==null?void 0:R.className),...A,"aria-label":R==null?void 0:R.label,"aria-selected":B?"true":"false",children:[F&&T.jsx("input",{"aria-hidden":"true",defaultChecked:B,type:"checkbox",className:X("checkbox",{checked:B})}),I&&I(),R==null?void 0:R.label]},`${V}-item-${R==null?void 0:R.value}`)})]})}),(m||K)&&T.jsx("div",{"aria-live":m?"assertive":"polite",className:X("helperText",{"is-error":m}),id:m?M:N,role:m?"alert":void 0,children:T.jsx("span",{className:X("helperText__content"),children:h??w})})]})});Pe.displayName="Select";try{Pe.displayName="Select",Pe.__docgenInfo={description:"",displayName:"Select",props:{iconVisible:{defaultValue:null,description:"",name:"iconVisible",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"error"'},{value:'"info"'},{value:'"warning"'}]}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},labelProps:{defaultValue:null,description:"",name:"labelProps",required:!1,type:{name:'Omit<LabelProps, "error" | "label" | "require">'}},classNameSelect:{defaultValue:null,description:"",name:"classNameSelect",required:!1,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"SelectItem<string>[]"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: SelectEvent, value: string | string[] | null) => void)"}}}}}catch{}const wr={title:"prokodo/common/Select",component:Pe,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{color:{options:["inherit","primary","secondary","success","info","warning","error"],control:{type:"select"},defaultValue:void 0}}},rr=[{label:"-- Choose --",value:"0"},{label:"Option 2",value:"1"},{label:"Option 3",value:"2"},{label:"Option 4",value:"3"}],ir=[{label:"-- Choose --",value:"0",icon:()=>T.jsx(Oe,{color:"red",name:"AbacusIcon",size:"sm"})},{label:"Option 2",value:"1",icon:()=>T.jsx(Oe,{color:"yellow",name:"AbacusIcon",size:"sm"})},{label:"Option 3",value:"2",icon:()=>T.jsx(Oe,{color:"orange",name:"AbacusIcon",size:"sm"})},{label:"Option 4",value:"3",icon:()=>T.jsx(Oe,{color:"blue",name:"AbacusIcon",size:"sm"})}],nn=e=>{const[t,n]=u.useState(null);return T.jsx(Pe,{...e,value:t,onChange:(o,r)=>{console.log("Selected value: ",r),n(r)}})},Ie={args:{id:"example-select",name:"example",label:"Example select",hideLabel:!0,items:rr,onChange:e=>console.log(e)},render:e=>T.jsx(nn,{...e})},Te={args:{id:"example-select",name:"example",label:"Example select",hideLabel:!0,items:ir,onChange:e=>console.log(e)},render:e=>T.jsx(nn,{...e})};var At,It,Tt;Ie.parameters={...Ie.parameters,docs:{...(At=Ie.parameters)==null?void 0:At.docs,source:{originalSource:`{
  args: {
    id: "example-select",
    name: "example",
    label: "Example select",
    hideLabel: true,
    items: DefaultItems,
    onChange: e => console.log(e)
  },
  render: args => <SelectWithState {...args} />
}`,...(Tt=(It=Ie.parameters)==null?void 0:It.docs)==null?void 0:Tt.source}}};var Mt,Et,Dt;Te.parameters={...Te.parameters,docs:{...(Mt=Te.parameters)==null?void 0:Mt.docs,source:{originalSource:`{
  args: {
    id: "example-select",
    name: "example",
    label: "Example select",
    hideLabel: true,
    items: DefaultItemsWithIcon,
    onChange: e => console.log(e)
  },
  render: args => <SelectWithState {...args} />
}`,...(Dt=(Et=Te.parameters)==null?void 0:Et.docs)==null?void 0:Dt.source}}};const Cr=["Default","WithIcon"];export{Ie as Default,Te as WithIcon,Cr as __namedExportsOrder,wr as default};
