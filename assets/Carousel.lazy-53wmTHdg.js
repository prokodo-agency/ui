var ce=Object.defineProperty;var s=(e,o)=>ce(e,"name",{value:o,configurable:true});import{c as me}from"./createLazyWrapper-AC75M60Y.js";import{j as p}from"./jsx-runtime-CGXnEs--.js";import{r as a}from"./index-DGnhqvo7.js";import{c as fe}from"./bem-DSWMYwqE.js";import{b as de}from"./validations-hwxYw-LN.js";import{s as pe,a as ye}from"./Carousel-UT7Fqv1Z.js";import{B as U}from"./Button-sDNBgFaA.js";import{S as he}from"./Skeleton-8H-cCaWC.js";import{L as ve}from"./Lottie-CIRpgqt_.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-CwYE0-aB.js";import"../sb-preview/runtime.js";import"./createIsland-fzL0F2Ul.js";import"./Link.server-jBGsbMZ1.js";import"./BaseLink.server-DBk24ESO.js";import"./Icon-DjX8yJOH.js";function F(e,o){var f;if("addEventListener"in e){e.addEventListener("change",o);return()=>e.removeEventListener("change",o)}const n=e;(f=n.addListener)==null?void 0:f.call(n,o);return()=>{var g;return(g=n.removeListener)==null?void 0:g.call(n,o)}}s(F,"addMQChangeListener");function be(e){const{fallback:o}=e;const[n,f]=a.useState(o);const g=a.useRef(null);const[V,D]=a.useState(0);a.useEffect(()=>{const k=Array.isArray(e.containerRules)&&e.containerRules.length>0;if(!k)return;const C=g.current;if(!C||typeof ResizeObserver==="undefined")return;const B=new ResizeObserver(y=>{var r,N;const u=((N=(r=y[0])==null?void 0:r.contentRect)==null?void 0:N.width)??0;D(u)});B.observe(C);return()=>B.disconnect()},[e.containerRules]);const I=a.useMemo(()=>JSON.stringify(e.valuesByQueries??[]),[e.valuesByQueries]);const _=a.useMemo(()=>JSON.stringify(e.valuesByBreakpoint??{}),[e.valuesByBreakpoint]);const L=a.useMemo(()=>JSON.stringify(e.breakpoints??{}),[e.breakpoints]);const A=a.useMemo(()=>JSON.stringify(e.containerRules??[]),[e.containerRules]);a.useEffect(()=>{if(typeof window==="undefined"||!("matchMedia"in window))return;const k=[];const C=e.valuesByQueries??[];const B=C.map(([i])=>window.matchMedia(i));B.forEach(i=>k.push(F(i,w)));const y=["xl","lg","md","sm","xs"];const u=e.breakpoints;const r=e.valuesByBreakpoint;const N=[];if(u&&r){for(const i of y){if(i in r&&u[i]!=null){const R=window.matchMedia(`(min-width:${u[i]}px)`);N.push({key:i,mql:R});k.push(F(R,w))}}}function w(){var R;const i=e.containerRules??[];if(i.length){const c=i.find(d=>{const x=d.min==null||V>=d.min;const E=d.max==null||V<d.max;return x&&E});if(c){f(c.value);return}}for(let c=0;c<C.length;c++){const d=B[c];if(d!=null&&d.matches===true){const x=(R=C[c])==null?void 0:R[1];f(x);return}}if(u&&r){for(const{key:c,mql:d}of N){if(d.matches&&c in r){f(r[c]);return}}}f(o)}s(w,"compute");w();return()=>k.forEach(i=>i())},[e.breakpoints,e.containerRules,e.valuesByBreakpoint,e.valuesByQueries,o,V,I,_,L,A]);return a.useMemo(()=>({value:n,ref:g}),[n])}s(be,"useResponsiveValue");const j="NEXT";const G="PREV";const Ne=s((e,o)=>{var n;o.current=((n=e.targetTouches[0])==null?void 0:n.clientX)??0},"handleTouchStart");const Re=s((e,o)=>{var n;o.current=((n=e.targetTouches[0])==null?void 0:n.clientX)??0},"handleTouchMove");const Ce=s((e,o,n)=>{if(e.current-o.current>50){n("NEXT")}if(e.current-o.current<-50){n("PREV")}},"handleTouchEnd");const ge=s((e,o)=>{o.current=e.clientX},"handleMouseDown");const ke=s((e,o,n,f)=>{n.current=e.clientX;if(o.current-n.current>50){f("NEXT")}if(o.current-n.current<-50){f("PREV")}},"handleMouseUp");const b=fe(pe,"Carousel");function Be(e){const{ref:o,autoplay:n,enableControl:f,enableDots:g=true,itemsToShow:V=1,className:D,classNameControls:I,classNameButtons:_,classNameWrapper:L,classNameItem:A,classNameDots:k,classNameDot:C,classNameDotActive:B,prevButton:y,nextButton:u,responsive:r,onKeyDown:N,onMouseEnter:w,onMouseLeave:i,onTouchEnd:R,onTouchMove:c,onTouchStart:d,onMouseDown:x,onMouseUp:E,children:Y,...Z}=e;const X=a.useRef(null);const{value:ee,ref:te}=be({fallback:(r==null?void 0:r.fallback)??V,breakpoints:r==null?void 0:r.breakpoints,valuesByBreakpoint:r==null?void 0:r.valuesByBreakpoint,valuesByQueries:r==null?void 0:r.valuesByQueries,containerRules:r==null?void 0:r.containerRules});const m=r?ee:V;const ne=s(t=>{X.current=t;te.current=t},"setHostRef");const $=a.useRef(0);const O=a.useRef(0);const Q=a.useRef(0);const se=a.useRef(0);const[ae,re]=a.useState(true);const[T,S]=a.useState(m);const[q,M]=a.useState(false);const[z,W]=a.useState(Boolean(n));const[oe,K]=a.useState(false);const P=a.Children.toArray(Y);const h=P.length;const ie=[...P.slice(-m),...P,...P.slice(0,m)];a.useEffect(()=>{const t=setTimeout(()=>re(false),1500);return()=>clearTimeout(t)},[]);const v=a.useCallback(t=>{if(q)return;M(true);const l=t===j?T+1:T-1;S(l);setTimeout(()=>{if(l>=h+m)S(m);else if(l<m)S(h);M(false)},300)},[T,h,m,q]);const H=a.useCallback(t=>{if(q)return;M(true);const l=t+m;S(l);setTimeout(()=>{if(l>=h+m)S(l-h);else if(l<m)S(h+l);M(false)},300)},[m,h,q]);a.useEffect(()=>{if(!de(n)||n<=0)return;if(!z)return;const t=setInterval(()=>v(j),n);return()=>clearInterval(t)},[n,z,v]);a.useImperativeHandle(o,()=>({slidePrev:s(()=>v(G),"slidePrev"),slideNext:s(()=>v(j),"slideNext"),carouselContainer:X.current}));const le=s(()=>{const t=-T*(100/m);return`translateX(${t}%)`},"getTransformValue");if(h===0)return p.jsx(he,{height:"200px",variant:"rectangular",width:"100%"});return p.jsxs("div",{...Z,ref:ne,className:b(void 0,{"is-active":oe},D),role:"button",tabIndex:0,onKeyDown:s(t=>{N==null?void 0:N(t);switch(t.key){case"ArrowLeft":v("PREV");break;case"ArrowRight":v("NEXT");break}},"onKeyDown"),onMouseDown:s(t=>{x==null?void 0:x(t);ge(t,Q);K(true)},"onMouseDown"),onMouseEnter:s(t=>{w==null?void 0:w(t);W(false)},"onMouseEnter"),onMouseLeave:s(t=>{i==null?void 0:i(t);W(true)},"onMouseLeave"),onMouseUp:s(t=>{E==null?void 0:E(t);ke(t,Q,se,v);K(false)},"onMouseUp"),onTouchEnd:s(t=>{R==null?void 0:R(t);Ce($,O,v)},"onTouchEnd"),onTouchMove:s(t=>{c==null?void 0:c(t);Re(t,O)},"onTouchMove"),onTouchStart:s(t=>{d==null?void 0:d(t);Ne(t,$)},"onTouchStart"),children:[p.jsx("div",{className:b("wrapper",void 0,L),style:{transform:le(),transition:q?"transform 0.3s ease-in-out":"none"},children:ie.map((t,l)=>p.jsx("div",{className:b("item",void 0,A),style:{width:`${100/m}%`},children:t},`cl-${l}`))}),p.jsx("div",{className:b("mobile__tutorial",{"is-hidden":!ae}),children:p.jsx("div",{className:b("mobile__tutorial__animation"),children:p.jsx(ve,{animation:"https://lottie.host/7da0edc5-d79e-497c-bcce-ab9dd8e9458d/lahjQ7ICxg.lottie"})})}),p.jsxs("footer",{className:b("controls",void 0,I),children:[Boolean(f)&&p.jsx(U,{"aria-label":"previous",variant:"outlined",...y,className:b("button",void 0,`${_} ${(y==null?void 0:y.className)??""}`),iconProps:{name:"ArrowLeft01Icon",size:"md",color:"white",...y==null?void 0:y.iconProps},onClick:s(()=>v(G),"onClick")}),g&&p.jsx("span",{className:b("dots",void 0,k),children:P.map((t,l)=>{const J=l===(T-m+h)%h;return p.jsx("button",{className:b("dots__dot",{"is-active":J},`${C} ${J?B??"":""}`),onClick:s(()=>H(l),"onClick"),onKeyDown:s(ue=>ue.key==="Enter"&&H(l),"onKeyDown")},`dot-${l}`)})}),Boolean(f)&&p.jsx(U,{"aria-label":"next",variant:"outlined",...u,className:b("button",void 0,`${_} ${(u==null?void 0:u.className)??""}`),iconProps:{name:"ArrowRight01Icon",size:"md",color:"white",...u==null?void 0:u.iconProps},onClick:s(()=>v(j),"onClick")})]})]})}s(Be,"CarouselClient");try{Carouselclient.displayName="Carouselclient";Carouselclient.__docgenInfo={"description":"","displayName":"Carouselclient","props":{"ref":{"defaultValue":null,"description":"","name":"ref","required":false,"type":{"name":"Ref<CarouselRef>"}},"autoplay":{"defaultValue":null,"description":"","name":"autoplay","required":false,"type":{"name":"number"}},"enableControl":{"defaultValue":null,"description":"","name":"enableControl","required":false,"type":{"name":"boolean"}},"enableDots":{"defaultValue":null,"description":"","name":"enableDots","required":false,"type":{"name":"boolean"}},"translateX":{"defaultValue":null,"description":"","name":"translateX","required":false,"type":{"name":"string"}},"itemStyle":{"defaultValue":null,"description":"","name":"itemStyle","required":false,"type":{"name":"CSSProperties"}},"itemsToShow":{"defaultValue":null,"description":"","name":"itemsToShow","required":false,"type":{"name":"number"}},"classNameControls":{"defaultValue":null,"description":"","name":"classNameControls","required":false,"type":{"name":"string"}},"classNameButtons":{"defaultValue":null,"description":"","name":"classNameButtons","required":false,"type":{"name":"string"}},"classNameWrapper":{"defaultValue":null,"description":"","name":"classNameWrapper","required":false,"type":{"name":"string"}},"classNameItem":{"defaultValue":null,"description":"","name":"classNameItem","required":false,"type":{"name":"string"}},"classNameDots":{"defaultValue":null,"description":"","name":"classNameDots","required":false,"type":{"name":"string"}},"classNameDot":{"defaultValue":null,"description":"","name":"classNameDot","required":false,"type":{"name":"string"}},"classNameDotActive":{"defaultValue":null,"description":"","name":"classNameDotActive","required":false,"type":{"name":"string"}},"responsive":{"defaultValue":null,"description":"","name":"responsive","required":false,"type":{"name":"CarouselResponsiveConfig"}},"prevButton":{"defaultValue":null,"description":"","name":"prevButton","required":false,"type":{"name":"Partial<ButtonProps>"}},"nextButton":{"defaultValue":null,"description":"","name":"nextButton","required":false,"type":{"name":"Partial<ButtonProps>"}}}}}catch(e){}const Oe=me({name:"Carousel",Client:Be,Server:ye,hydrateOnVisible:false,isInteractive:s(()=>true,"isInteractive")});export{Oe as default};
