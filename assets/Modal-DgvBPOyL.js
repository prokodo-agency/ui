var ne=Object.defineProperty;var r=(e,t)=>ne(e,"name",{value:t,configurable:true});import{r as f}from"./index-wP9GnQbl.js";import{u as Z,e as re,g as oe,a as se,b as G,c as ie,d as ce}from"./index-DlukiLM0.js";import{j as O}from"./jsx-runtime-CGXnEs--.js";import{o as k,u as V}from"./useEventCallback-DrdnsgII.js";import{g as ae,P as le}from"./Portal-nk0q0z27.js";function X(...e){return e.reduce((t,o)=>{if(o==null){return t}return r(function n(...i){t.apply(this,i);o.apply(this,i)},"chainedFunction")},()=>{})}r(X,"createChainedFunction");function H(e){const t=k(e);return t.defaultView||window}r(H,"ownerWindow");function ue(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}r(ue,"getScrollbarSize");const de=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function fe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);if(!Number.isNaN(t)){return t}if(e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null){return 0}return e.tabIndex}r(fe,"getTabIndex");function pe(e){if(e.tagName!=="INPUT"||e.type!=="radio"){return false}if(!e.name){return false}const t=r(n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`),"getRadio");let o=t(`[name="${e.name}"]:checked`);if(!o){o=t(`[name="${e.name}"]`)}return o!==e}r(pe,"isNonTabbableRadio");function be(e){if(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||pe(e)){return false}return true}r(be,"isNodeMatchingSelectorFocusable");function he(e){const t=[];const o=[];Array.from(e.querySelectorAll(de)).forEach((n,i)=>{const s=fe(n);if(s===-1||!be(n)){return}if(s===0){t.push(n)}else{o.push({documentOrder:i,tabIndex:s,node:n})}});return o.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}r(he,"defaultGetTabbable");function me(){return true}r(me,"defaultIsEnabled");function ge(e){const{children:t,disableAutoFocus:o=false,disableEnforceFocus:n=false,disableRestoreFocus:i=false,getTabbable:s=he,isEnabled:c=me,open:d}=e;const p=f.useRef(false);const x=f.useRef(null);const h=f.useRef(null);const g=f.useRef(null);const y=f.useRef(null);const E=f.useRef(false);const l=f.useRef(null);const L=Z(ae(t),l);const A=f.useRef(null);f.useEffect(()=>{if(!d||!l.current){return}E.current=!o},[o,d]);f.useEffect(()=>{if(!d||!l.current){return}const a=k(l.current);if(!l.current.contains(a.activeElement)){if(!l.current.hasAttribute("tabIndex")){l.current.setAttribute("tabIndex","-1")}if(E.current){l.current.focus()}}return()=>{if(!i){if(g.current&&g.current.focus){p.current=true;g.current.focus()}g.current=null}}},[d]);f.useEffect(()=>{if(!d||!l.current){return}const a=k(l.current);const P=r(m=>{A.current=m;if(n||!c()||m.key!=="Tab"){return}if(a.activeElement===l.current&&m.shiftKey){p.current=true;if(h.current){h.current.focus()}}},"loopFocus");const R=r(()=>{var M,I;const m=l.current;if(m===null){return}if(!a.hasFocus()||!c()||p.current){p.current=false;return}if(m.contains(a.activeElement)){return}if(n&&a.activeElement!==x.current&&a.activeElement!==h.current){return}if(a.activeElement!==y.current){y.current=null}else if(y.current!==null){return}if(!E.current){return}let T=[];if(a.activeElement===x.current||a.activeElement===h.current){T=s(l.current)}if(T.length>0){const K=Boolean(((M=A.current)==null?void 0:M.shiftKey)&&((I=A.current)==null?void 0:I.key)==="Tab");const D=T[0];const S=T[T.length-1];if(typeof D!=="string"&&typeof S!=="string"){if(K){S.focus()}else{D.focus()}}}else{m.focus()}},"contain");a.addEventListener("focusin",R);a.addEventListener("keydown",P,true);const F=setInterval(()=>{if(a.activeElement&&a.activeElement.tagName==="BODY"){R()}},50);return()=>{clearInterval(F);a.removeEventListener("focusin",R);a.removeEventListener("keydown",P,true)}},[o,n,i,c,d,s]);const C=r(a=>{if(g.current===null){g.current=a.relatedTarget}E.current=true;y.current=a.target;const P=t.props.onFocus;if(P){P(a)}},"onFocus");const N=r(a=>{if(g.current===null){g.current=a.relatedTarget}E.current=true},"handleFocusSentinel");return O.jsxs(f.Fragment,{children:[O.jsx("div",{tabIndex:d?0:-1,onFocus:N,ref:x,"data-testid":"sentinelStart"}),f.cloneElement(t,{ref:L,onFocus:C}),O.jsx("div",{tabIndex:d?0:-1,onFocus:N,ref:h,"data-testid":"sentinelEnd"})]})}r(ge,"FocusTrap");function Ee(e){const t=k(e);if(t.body===e){return H(e).innerWidth>t.documentElement.clientWidth}return e.scrollHeight>e.clientHeight}r(Ee,"isOverflowing");function B(e,t){if(t){e.setAttribute("aria-hidden","true")}else{e.removeAttribute("aria-hidden")}}r(B,"ariaHidden");function J(e){return parseInt(H(e).getComputedStyle(e).paddingRight,10)||0}r(J,"getPaddingRight");function xe(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"];const o=t.indexOf(e.tagName)!==-1;const n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return o||n}r(xe,"isAriaHiddenForbiddenOnElement");function Q(e,t,o,n,i){const s=[t,o,...n];[].forEach.call(e.children,c=>{const d=s.indexOf(c)===-1;const p=!xe(c);if(d&&p){B(c,i)}})}r(Q,"ariaHiddenSiblings");function Y(e,t){let o=-1;e.some((n,i)=>{if(t(n)){o=i;return true}return false});return o}r(Y,"findIndexOf");function ye(e,t){const o=[];const n=e.container;if(!t.disableScrollLock){if(Ee(n)){const c=ue(k(n));o.push({value:n.style.paddingRight,property:"padding-right",el:n});n.style.paddingRight=`${J(n)+c}px`;const d=k(n).querySelectorAll(".mui-fixed");[].forEach.call(d,p=>{o.push({value:p.style.paddingRight,property:"padding-right",el:p});p.style.paddingRight=`${J(p)+c}px`})}let s;if(n.parentNode instanceof DocumentFragment){s=k(n).body}else{const c=n.parentElement;const d=H(n);s=(c==null?void 0:c.nodeName)==="HTML"&&d.getComputedStyle(c).overflowY==="scroll"?c:n}o.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s});s.style.overflow="hidden"}const i=r(()=>{o.forEach(({value:s,el:c,property:d})=>{if(s){c.style.setProperty(d,s)}else{c.style.removeProperty(d)}})},"restore");return i}r(ye,"handleContainer");function Re(e){const t=[];[].forEach.call(e.children,o=>{if(o.getAttribute("aria-hidden")==="true"){t.push(o)}});return t}r(Re,"getHiddenSiblings");const z=class z{constructor(){this.modals=[];this.containers=[]}add(t,o){let n=this.modals.indexOf(t);if(n!==-1){return n}n=this.modals.length;this.modals.push(t);if(t.modalRef){B(t.modalRef,false)}const i=Re(o);Q(o,t.mount,t.modalRef,i,true);const s=Y(this.containers,c=>c.container===o);if(s!==-1){this.containers[s].modals.push(t);return n}this.containers.push({modals:[t],container:o,restore:null,hiddenSiblings:i});return n}mount(t,o){const n=Y(this.containers,s=>s.modals.indexOf(t)!==-1);const i=this.containers[n];if(!i.restore){i.restore=ye(i,o)}}remove(t,o=true){const n=this.modals.indexOf(t);if(n===-1){return n}const i=Y(this.containers,c=>c.modals.indexOf(t)!==-1);const s=this.containers[i];s.modals.splice(s.modals.indexOf(t),1);this.modals.splice(n,1);if(s.modals.length===0){if(s.restore){s.restore()}if(t.modalRef){B(t.modalRef,o)}Q(s.container,t.mount,t.modalRef,s.hiddenSiblings,false);this.containers.splice(i,1)}else{const c=s.modals[s.modals.length-1];if(c.modalRef){B(c.modalRef,false)}}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}};r(z,"ModalManager");let q=z;function Te(e){return typeof e==="function"?e():e}r(Te,"getContainer");function ve(e){return e?e.props.hasOwnProperty("in"):false}r(ve,"getHasTransition");const Pe=new q;function Ie(e){const{container:t,disableEscapeKeyDown:o=false,disableScrollLock:n=false,manager:i=Pe,closeAfterTransition:s=false,onTransitionEnter:c,onTransitionExited:d,children:p,onClose:x,open:h,rootRef:g}=e;const y=f.useRef({});const E=f.useRef(null);const l=f.useRef(null);const L=Z(l,g);const[A,C]=f.useState(!h);const N=ve(p);let a=true;if(e["aria-hidden"]==="false"||e["aria-hidden"]===false){a=false}const P=r(()=>k(E.current),"getDoc");const R=r(()=>{y.current.modalRef=l.current;y.current.mount=E.current;return y.current},"getModal");const F=r(()=>{i.mount(R(),{disableScrollLock:n});if(l.current){l.current.scrollTop=0}},"handleMounted");const m=V(()=>{const b=Te(t)||P().body;i.add(R(),b);if(l.current){F()}});const T=f.useCallback(()=>i.isTopModal(R()),[i]);const M=V(b=>{E.current=b;if(!b){return}if(h&&T()){F()}else if(l.current){B(l.current,a)}});const I=f.useCallback(()=>{i.remove(R(),a)},[a,i]);f.useEffect(()=>{return()=>{I()}},[I]);f.useEffect(()=>{if(h){m()}else if(!N||!s){I()}},[h,I,N,s,m]);const K=r(b=>u=>{var v;(v=b.onKeyDown)==null?void 0:v.call(b,u);if(u.key!=="Escape"||u.which===229||!T()){return}if(!o){u.stopPropagation();if(x){x(u,"escapeKeyDown")}}},"createHandleKeyDown");const D=r(b=>u=>{var v;(v=b.onClick)==null?void 0:v.call(b,u);if(u.target!==u.currentTarget){return}if(x){x(u,"backdropClick")}},"createHandleBackdropClick");const S=r((b={})=>{const u=re(e);delete u.onTransitionEnter;delete u.onTransitionExited;const v={...u,...b};return{role:"presentation",...v,onKeyDown:K(v),ref:L}},"getRootProps");const U=r((b={})=>{const u=b;return{"aria-hidden":true,...u,onClick:D(u),open:h}},"getBackdropProps");const j=r(()=>{const b=r(()=>{C(false);if(c){c()}},"handleEnter");const u=r(()=>{C(true);if(d){d()}if(s){I()}},"handleExited");return{onEnter:X(b,p==null?void 0:p.props.onEnter),onExited:X(u,p==null?void 0:p.props.onExited)}},"getTransitionProps");return{getRootProps:S,getBackdropProps:U,getTransitionProps:j,rootRef:L,portalRef:M,isTopModal:T,exited:A,hasTransition:N}}r(Ie,"useModal");const _="Modal";function ke(e){return se(_,e)}r(ke,"getModalUtilityClass");oe(_,["root","hidden","backdrop"]);const Ce=r(e=>{const{open:t,exited:o}=e;const n={root:["root",!t&&o&&"hidden"],backdrop:["backdrop"]};return ie(n,ce(ke))},"useUtilityClasses");const Me=f.forwardRef(r(function e(t,o){const{children:n,closeAfterTransition:i=false,container:s,disableAutoFocus:c=false,disableEnforceFocus:d=false,disableEscapeKeyDown:p=false,disablePortal:x=false,disableRestoreFocus:h=false,disableScrollLock:g=false,hideBackdrop:y=false,keepMounted:E=false,onBackdropClick:l,onClose:L,onKeyDown:A,open:C,onTransitionEnter:N,onTransitionExited:a,slotProps:P={},slots:R={},...F}=t;const m={...t,closeAfterTransition:i,disableAutoFocus:c,disableEnforceFocus:d,disableEscapeKeyDown:p,disablePortal:x,disableRestoreFocus:h,disableScrollLock:g,hideBackdrop:y,keepMounted:E};const{getRootProps:T,getBackdropProps:M,getTransitionProps:I,portalRef:K,isTopModal:D,exited:S,hasTransition:U}=Ie({...m,rootRef:o});const j={...m,exited:S,hasTransition:U};const b=Ce(j);const u={};if(n.props.tabIndex===void 0){u.tabIndex="-1"}if(U){const{onEnter:w,onExited:W}=I();u.onEnter=w;u.onExited=W}const v=R.root??"div";const ee=G({elementType:v,externalSlotProps:P.root,externalForwardedProps:F,getSlotProps:T,className:b.root,ownerState:j});const $=R.backdrop;const te=G({elementType:$,externalSlotProps:P.backdrop,getSlotProps:r(w=>{return M({...w,onClick:r(W=>{if(l){l(W)}if(w==null?void 0:w.onClick){w.onClick(W)}},"onClick")})},"getSlotProps"),className:b.backdrop,ownerState:j});if(!E&&!C&&(!U||S)){return null}return O.jsx(le,{ref:K,container:s,disablePortal:x,children:O.jsxs(v,{...ee,children:[!y&&$?O.jsx($,{...te}):null,O.jsx(ge,{disableEnforceFocus:d,disableAutoFocus:c,disableRestoreFocus:h,isEnabled:D,open:C,children:f.cloneElement(n,u)})]})})},"Modal2"));export{Me as M};
