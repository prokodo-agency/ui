var R=Object.defineProperty;var x=(e,r)=>R(e,"name",{value:r,configurable:true});import{c as S}from"./createLazyWrapper-CcCD0Sct.js";import{j as F}from"./jsx-runtime-CGXnEs--.js";import{d as u,a as _,b as j,c as w}from"./DatePicker-B6R7jqgC.js";import{r as q}from"./index-Dko9tpwX.js";import{i as H,a as v}from"./validations-hwxYw-LN.js";import"./iframe-D3FoiNQG.js";import"../sb-preview/runtime.js";import"./createIsland-D0Kq_01P.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./Input.view-C4uqCaWr.js";import"./Label-CdD_ylRA.js";import"./bem-DSWMYwqE.js";function Y(e){if(v(e))return null;if(j.isDayjs(e))return e.isValid()?e:null;const r=u(e);return r.isValid()?r:null}x(Y,"toDayjs");const k=x((e,r,t)=>e===null&&r===null?true:e!==null&&r!==null&&e.isSame(r,t),"sameByUnit");const N=x(({name:e,value:r,onChange:t,onValidate:l,format:P,minDate:p,maxDate:f,translations:d,label:L,helperText:T,withTime:a=false,minuteStep:D=1,...g})=>{const n=a?"minute":"day";const c=q.useMemo(()=>P??(a?"YYYY-MM-DDTHH:mm":"YYYY-MM-DD"),[P,a]);const[y,M]=q.useState(Y(r));const[b,o]=q.useState(void 0);q.useEffect(()=>{const m=Y(r);if(!k(y,m,n)){M(m);if(m)o(void 0)}},[r,n]);const I=q.useCallback(m=>{if(m===""){if(y!==null)M(null);if(H(b))o(void 0);l==null?void 0:l(e,void 0);t==null?void 0:t(null);return}const i=u(m,c,true);const E=i.isValid()?i.year():u(m).year();if(!i.isValid()||E>9999||E<100){const s=a?"Invalid date/time format.":"Invalid date format.";o(s);l==null?void 0:l(e,s);t==null?void 0:t(null);return}if(!v(p)&&i.isBefore(u(p),n)){const s=(d==null?void 0:d.minDate)??(u(p).isSame(u(),n)?a?"Date/time cannot be in the past.":"Date cannot be in the past.":`Must be ≥ ${u(p).format(c)}`);o(s);l==null?void 0:l(e,s);t==null?void 0:t(null);return}if(!v(f)&&i.isAfter(u(f),n)){const s=(d==null?void 0:d.maxDate)??(u(f).isSame(u(),n)?a?"Date/time cannot be in the future.":"Date cannot be in the future.":`Must be ≤ ${u(f).format(c)}`);o(s);l==null?void 0:l(e,s);t==null?void 0:t(null);return}const V=a?i.minute(Math.round(i.minute()/Math.max(1,D))*Math.max(1,D)):i;if(!k(y,V,n))M(V);if(H(b))o(void 0);l==null?void 0:l(e,void 0);t==null?void 0:t(V)},[y,b,c,f,p,D,e,t,l,d,n,a]);return F.jsx(_,{...g,errorText:b,format:c,helperText:T,label:L,maxDate:f,minDate:p,minuteStep:D,name:e,value:y,withTime:a,onChangeInput:I})},"DatePickerClient");try{DatePicker.displayName="DatePicker";DatePicker.__docgenInfo={"description":"","displayName":"DatePicker","props":{"multiline":{"defaultValue":null,"description":"Single-line only","name":"multiline","required":false,"type":{"name":"false"}},"rows":{"defaultValue":null,"description":"Single-line only","name":"rows","required":false,"type":{"name":"undefined"}},"minRows":{"defaultValue":null,"description":"Single-line only","name":"minRows","required":false,"type":{"name":"undefined"}},"maxRows":{"defaultValue":null,"description":"Single-line only","name":"maxRows","required":false,"type":{"name":"undefined"}},"label":{"defaultValue":null,"description":"Label text","name":"label","required":true,"type":{"name":"string"}},"name":{"defaultValue":null,"description":"unique name/id","name":"name","required":true,"type":{"name":"string"}},"required":{"defaultValue":null,"description":"required flag","name":"required","required":false,"type":{"name":"boolean"}},"errorText":{"defaultValue":null,"description":"error text from parent/form","name":"errorText","required":false,"type":{"name":"string"}},"helperText":{"defaultValue":null,"description":"helper/hint text","name":"helperText","required":false,"type":{"name":"string"}},"value":{"defaultValue":null,"description":"current Dayjs|null value","name":"value","required":false,"type":{"name":"DatePickerValue"}},"minDate":{"defaultValue":null,"description":"minimum allowed date","name":"minDate","required":false,"type":{"name":"DatePickerValue"}},"maxDate":{"defaultValue":null,"description":"maximum allowed date","name":"maxDate","required":false,"type":{"name":"DatePickerValue"}},"onChange":{"defaultValue":null,"description":"called with Dayjs|null","name":"onChange","required":false,"type":{"name":"((value: DatePickerValue) => void)"}},"translations":{"defaultValue":null,"description":"override default messages","name":"translations","required":false,"type":{"name":"DatePickerErrorTranslations"}},"withTime":{"defaultValue":{value:"false"},"description":'Include time selection (uses <input type="datetime-local"> when true).\nDefault: false (date only with <input type="date">).',"name":"withTime","required":false,"type":{"name":"boolean"}},"format":{"defaultValue":null,"description":'Parsing/formatting pattern.\nDefaults to "YYYY-MM-DD" for date-only and "YYYY-MM-DDTHH:mm" when withTime=true.',"name":"format","required":false,"type":{"name":"string"}},"minuteStep":{"defaultValue":{value:"1"},"description":'Minute granularity for time part (applies when withTime=true).\nTranslates to HTML input "step" in seconds. Example: 15 => 900 seconds.\nDefault: 1 minute.',"name":"minuteStep","required":false,"type":{"name":"number"}},"disabled":{"defaultValue":null,"description":"","name":"disabled","required":false,"type":{"name":"boolean"}},"onFocus":{"defaultValue":null,"description":"","name":"onFocus","required":false,"type":{"name":"(InputFocusEventHandler & FocusEventHandler<HTMLInputElement> & FocusEventHandler<HTMLTextAreaElement>)"}},"onBlur":{"defaultValue":null,"description":"","name":"onBlur","required":false,"type":{"name":"(InputBlurEventHandler & FocusEventHandler<HTMLInputElement> & FocusEventHandler<HTMLTextAreaElement>)"}},"fullWidth":{"defaultValue":null,"description":"","name":"fullWidth","required":false,"type":{"name":"boolean"}},"labelProps":{"defaultValue":null,"description":"","name":"labelProps","required":false,"type":{"name":'Omit<LabelProps, "htmlFor" | "label" | "required" | "error">'}},"min":{"defaultValue":null,"description":"","name":"min","required":false,"type":{"name":"string | number"}},"max":{"defaultValue":null,"description":"","name":"max","required":false,"type":{"name":"string | number"}},"maxLength":{"defaultValue":null,"description":"","name":"maxLength","required":false,"type":{"name":"number"}},"isFocused":{"defaultValue":null,"description":"","name":"isFocused","required":false,"type":{"name":"boolean"}},"inputRef":{"defaultValue":null,"description":"","name":"inputRef","required":false,"type":{"name":"Ref<HTMLInputElement>"}},"customRegexPattern":{"defaultValue":null,"description":"","name":"customRegexPattern","required":false,"type":{"name":"string"}},"fieldClassName":{"defaultValue":null,"description":"","name":"fieldClassName","required":false,"type":{"name":"string"}},"hideCounter":{"defaultValue":null,"description":"","name":"hideCounter","required":false,"type":{"name":"boolean"}},"inputContainerClassName":{"defaultValue":null,"description":"","name":"inputContainerClassName","required":false,"type":{"name":"string"}},"inputClassName":{"defaultValue":null,"description":"","name":"inputClassName","required":false,"type":{"name":"string"}},"hideLegend":{"defaultValue":null,"description":"","name":"hideLegend","required":false,"type":{"name":"boolean"}},"onValidate":{"defaultValue":null,"description":"","name":"onValidate","required":false,"type":{"name":"InputValidateEvent"}}}}}catch(e){}const Z=S({name:"DatePicker",Client:N,Server:w});export{Z as default};
