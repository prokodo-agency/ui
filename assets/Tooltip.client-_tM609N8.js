var me=Object.defineProperty;var m=(r,o)=>me(r,"name",{value:o,configurable:true});import{j as I}from"./jsx-runtime-CGXnEs--.js";import{r as i}from"./index-Dko9tpwX.js";import{r as fe}from"./index-wC6Z_Uz1.js";import{c as be}from"./bem-DSWMYwqE.js";import{T as ye,s as he}from"./Tooltip.stories-CPiDGt8z.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./index-hB-uq45w.js";import"./iframe-Bi7ppp4I.js";import"../sb-preview/runtime.js";import"./createIsland-D0Kq_01P.js";const P=be(he,"Tooltip");function N(r,o,t){return Math.max(o,Math.min(t,r))}m(N,"clamp");function we(r,o){let t=document.getElementById(r);if(!t){t=document.createElement("div");t.id=r;document.body.appendChild(t)}t.style.position="fixed";t.style.left="0";t.style.top="0";t.style.width="0";t.style.height="0";t.style.pointerEvents="none";t.style.zIndex=String(o);return t}m(we,"getOverlayRoot");function ve(r){if(r==="top")return"bottom";if(r==="bottom")return"top";if(r==="left")return"right";return"left"}m(ve,"opposite");function xe(r){if(r==="top"||r==="bottom")return["right","left"];return["top","bottom"]}m(xe,"perpendicular");function Oe(r){const{placement:o,anchorX:t,anchorY:p,triggerRect:n,bubbleSize:s,gutter:b,offset:f,arrowSize:C}=r;const E=window.innerWidth;const q=window.innerHeight;const c=f+C;let u=0;let d=0;if(o==="top"){u=t-s.w/2;d=n.top-c-s.h}else if(o==="bottom"){u=t-s.w/2;d=n.bottom+c}else if(o==="left"){u=n.left-c-s.w;d=p-s.h/2}else{u=n.right+c;d=p-s.h/2}const x=u+s.w;const y=d+s.h;return u>=b&&x<=E-b&&d>=b&&y<=q-b}m(Oe,"fitsPlacement");function qe(r){const{preferred:o,preventOverflow:t}=r;if(!t)return o;const p=[o,ve(o),...xe(o)];for(const n of p){if(Oe({...r,placement:n}))return n}return o}m(qe,"choosePlacement");function Te(r){const{placement:o,anchorX:t,anchorY:p,bubbleSize:n,gutter:s,offset:b,arrowSize:f}=r;const C=window.innerWidth;const E=window.innerHeight;const q=b+f;let c=0;let u=0;if(o==="top"){c=t-n.w/2;u=p-q-n.h}else if(o==="bottom"){c=t-n.w/2;u=p+q}else if(o==="left"){c=t-q-n.w;u=p-n.h/2}else{c=t+q;u=p-n.h/2}const d=N(c,s,C-s-n.w);const x=N(u,s,E-s-n.h);const y=12;if(o==="top"||o==="bottom"){const O=t-d;const V=N(O,f+y,n.w-f-y);return{x:d,y:x,arrowX:V}}const h=p-x;const e=N(h,f+y,n.h-f-y);return{x:d,y:x,arrowY:e}}m(Te,"computeFixedPosition");function A(r){const{anchor:o="element",content:t,preventOverflow:p=true,portal:n=true,overlayRootId:s="pk-overlays",zIndex:b=2147483647,offset:f=6,mobileBreakpoint:C=960,open:E,defaultOpen:q,onOpenChange:c,delay:u=120,closeDelay:d=80,openOnHover:x=true,openOnFocus:y=true,disabled:h,triggerProps:e,placement:O="top",tooltipClassName:V,...ee}=r;const g=E!==void 0;const[te,ne]=i.useState(Boolean(q));const w=g?Boolean(E):te;const L=i.useRef(null);const D=i.useRef(null);const j=i.useRef(null);const[M,W]=i.useState(void 0);const[H,oe]=i.useState(O);const k=i.useRef(null);const S=i.useRef(null);const R=i.useCallback(()=>{if(k.current!=null)window.clearTimeout(k.current);if(S.current!=null)window.clearTimeout(S.current);k.current=null;S.current=null},[]);const T=i.useCallback(l=>{if(h)return;if(!g)ne(l);c==null?void 0:c(l)},[h,g,c]);const X=i.useCallback(()=>{if(h)return;R();if(u<=0)return T(true);k.current=window.setTimeout(()=>T(true),u)},[R,u,h,T]);const Y=i.useCallback(()=>{R();if(d<=0)return T(false);S.current=window.setTimeout(()=>T(false),d)},[R,d,T]);const le=i.useMemo(()=>({...e,onMouseEnter:x?l=>{var a;(a=e==null?void 0:e.onMouseEnter)==null?void 0:a.call(e,l);if(o==="pointer")L.current={x:l.clientX,y:l.clientY};X()}:e==null?void 0:e.onMouseEnter,onMouseLeave:x?l=>{var a;(a=e==null?void 0:e.onMouseLeave)==null?void 0:a.call(e,l);if(o==="pointer")L.current=null;Y()}:e==null?void 0:e.onMouseLeave,onMouseMove:o==="pointer"?l=>{var a;(a=e==null?void 0:e.onMouseMove)==null?void 0:a.call(e,l);L.current={x:l.clientX,y:l.clientY}}:e==null?void 0:e.onMouseMove,onFocus:y?l=>{var a;(a=e==null?void 0:e.onFocus)==null?void 0:a.call(e,l);X()}:e==null?void 0:e.onFocus,onBlur:y?l=>{var a;(a=e==null?void 0:e.onBlur)==null?void 0:a.call(e,l);Y()}:e==null?void 0:e.onBlur,onKeyDown:m(l=>{var a,v,B;(a=e==null?void 0:e.onKeyDown)==null?void 0:a.call(e,l);if(l.key==="Escape"){R();T(false);(B=(v=l.currentTarget)==null?void 0:v.blur)==null?void 0:B.call(v)}},"onKeyDown")}),[e,x,y,X,Y,R,T,o]);const ae=i.useMemo(()=>P("bubble",void 0,V),[V]);const re=i.useMemo(()=>P("bubble",{open:Boolean(w&&M),[H]:true},V),[w,M,H,V]);const _=i.useCallback(()=>{if(!n||!w||h)return;const l=D.current;const a=j.current;if(!l||!a)return;const v=l.querySelector("[data-tooltip-anchor]")??l;const B=8;const K=8;const ue=v.getBoundingClientRect();const z={w:a.offsetWidth,h:a.offsetHeight};if(!z.w||!z.h)return;const se=window.innerWidth<C;const ce=se&&(O==="left"||O==="right")?"top":O;const F=v.getBoundingClientRect();const U=F.left+F.width/2;const Z=F.top+F.height/2;const G=qe({preferred:ce,anchorX:U,anchorY:Z,triggerRect:ue,bubbleSize:z,gutter:B,offset:f,arrowSize:K,preventOverflow:p});const{x:de,y:pe,arrowX:J,arrowY:Q}=Te({placement:G,anchorX:U,anchorY:Z,bubbleSize:z,gutter:B,offset:f,arrowSize:K});oe(G);W({["--pk-tt-x"]:`${de}px`,["--pk-tt-y"]:`${pe}px`,["--pk-tt-arrow-x"]:J!=null?`${J}px`:void 0,["--pk-tt-arrow-y"]:Q!=null?`${Q}px`:void 0,["--pk-tt-z"]:String(b)})},[n,w,h,O,p,f,b,C]);i.useLayoutEffect(()=>{if(!n||!w)return;W(void 0);const l=requestAnimationFrame(()=>{requestAnimationFrame(()=>_())});const a=m(()=>_(),"onResize");const v=m(()=>_(),"onScroll");window.addEventListener("resize",a);window.addEventListener("scroll",v,true);return()=>{cancelAnimationFrame(l);window.removeEventListener("resize",a);window.removeEventListener("scroll",v,true)}},[n,w,_]);const $=typeof document!=="undefined"&&n?we(s,b):null;const ie=w&&Boolean(M);return I.jsxs(I.Fragment,{children:[I.jsx(ye,{...ee,__open:n?ie:w,__placement:n?H:O,__renderVisualBubble:!n,__triggerRef:D,content:t,disabled:h,placement:O,tooltipClassName:V,triggerProps:le}),n&&!h&&$?fe.createPortal(I.jsx("span",{ref:j,"aria-hidden":w===void 0?void 0:!w,role:"tooltip",style:M,className:M?re:ae,children:t}),$):null]})}m(A,"TooltipClient");const Ie=i.memo(A);try{A.displayName="TooltipClient";A.__docgenInfo={"description":"","displayName":"TooltipClient","props":{"anchor":{"defaultValue":null,"description":`Anchor mode:
- "element": anchor is the trigger element's center (default, stable).
- "pointer": anchor follows the last mouse position (useful for large targets).

IMPORTANT:
For small icon buttons you almost always want "element".`,"name":"anchor","required":false,"type":{"name":"enum","value":[{"value":'"element"'},{"value":'"pointer"'}]}},"content":{"defaultValue":null,"description":"Tooltip content. Keep it short.","name":"content","required":true,"type":{"name":"ReactNode"}},"children":{"defaultValue":null,"description":"Single trigger element (button/span/etc).\nWe clone it to add aria + event handlers.","name":"children","required":true,"type":{"name":"TooltipTriggerElement"}},"id":{"defaultValue":null,"description":"Optional stable id (otherwise uses React useId()).\nUsed for aria-describedby (we render a hidden described-by node).","name":"id","required":false,"type":{"name":"string"}},"placement":{"defaultValue":null,"description":"Preferred placement (may be adjusted on mobile and/or flipped if it would overflow).","name":"placement","required":false,"type":{"name":"enum","value":[{"value":'"left"'},{"value":'"right"'},{"value":'"top"'},{"value":'"bottom"'}]}},"preventOverflow":{"defaultValue":null,"description":"If true, clamps the tooltip into the viewport.\n(With portal this is cheap and recommended.)","name":"preventOverflow","required":false,"type":{"name":"boolean"}},"portal":{"defaultValue":null,"description":'Render the visual tooltip into a portal (recommended).\nFixes "under other elements" and overflow clipping in complex layouts.',"name":"portal","required":false,"type":{"name":"boolean"}},"overlayRootId":{"defaultValue":null,"description":"The id of the overlay root element. If missing, Tooltip creates it.","name":"overlayRootId","required":false,"type":{"name":"string"}},"zIndex":{"defaultValue":null,"description":"Z-index used for the portal bubble.","name":"zIndex","required":false,"type":{"name":"number"}},"offset":{"defaultValue":null,"description":"Pixel gap between trigger and bubble (excluding arrow).","name":"offset","required":false,"type":{"name":"number"}},"mobileBreakpoint":{"defaultValue":null,"description":"Mobile breakpoint for placement adjustments.\nDefault matches $screen-lg (960).","name":"mobileBreakpoint","required":false,"type":{"name":"number"}},"disabled":{"defaultValue":null,"description":"Disable tooltip entirely.","name":"disabled","required":false,"type":{"name":"boolean"}},"open":{"defaultValue":null,"description":"Controlled open state (optional).","name":"open","required":false,"type":{"name":"boolean"}},"defaultOpen":{"defaultValue":null,"description":"Uncontrolled initial state (client only; will hydrate).","name":"defaultOpen","required":false,"type":{"name":"boolean"}},"onOpenChange":{"defaultValue":null,"description":"Notify open changes (client only).","name":"onOpenChange","required":false,"type":{"name":"TooltipOpenChangeEvent"}},"delay":{"defaultValue":null,"description":"Hover/focus open delay in ms (client only; will hydrate).","name":"delay","required":false,"type":{"name":"number"}},"closeDelay":{"defaultValue":null,"description":"Close delay in ms (client only; will hydrate).","name":"closeDelay","required":false,"type":{"name":"number"}},"openOnHover":{"defaultValue":null,"description":"Optional: allow hover open (default true).","name":"openOnHover","required":false,"type":{"name":"boolean"}},"openOnFocus":{"defaultValue":null,"description":"Optional: allow focus open (default true).","name":"openOnFocus","required":false,"type":{"name":"boolean"}},"className":{"defaultValue":null,"description":"Styling hooks.","name":"className","required":false,"type":{"name":"string"}},"tooltipClassName":{"defaultValue":null,"description":"","name":"tooltipClassName","required":false,"type":{"name":"string"}},"triggerClassName":{"defaultValue":null,"description":"","name":"triggerClassName","required":false,"type":{"name":"string"}},"triggerProps":{"defaultValue":null,"description":"Extra props applied to the trigger element (merged safely).","name":"triggerProps","required":false,"type":{"name":"HTMLAttributes<HTMLElement>"}}}}}catch(r){}export{Ie as default};
