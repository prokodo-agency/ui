var h=Object.defineProperty;var u=(t,r)=>h(t,"name",{value:r,configurable:true});import{j as g}from"./jsx-runtime-CGXnEs--.js";import{r as l}from"./index-DGnhqvo7.js";function x(t={}){const{enabled:r=true,ioOptions:c={threshold:.1}}=t;const i=l.useRef(null);const[s,d]=l.useState(()=>{var e;if(!r||typeof window==="undefined")return!r;const n=(e=i.current)==null?void 0:e.getBoundingClientRect();return!!n&&n.top<window.innerHeight});l.useLayoutEffect(()=>{if(!r||s)return;const n=new IntersectionObserver(([e])=>{if((e==null?void 0:e.isIntersecting)===true){d(true);n.disconnect()}},{...c});if(i.current)n.observe(i.current);return()=>n.disconnect()},[r,s,c]);return[s,i]}u(x,"useHydrationReady");function E({name:t,Client:r,Server:c,hydrateOnVisible:i=false,ioOptions:s,isInteractive:d}){const n=u(({priority:e=false,...L})=>{var b,_;const a=L;const y=Object.entries(a).some(([o,p])=>o.startsWith("on")&&typeof p==="function")||a.redirect!==void 0;const m=d?d(a)||y:y;const[f,O]=x({enabled:m&&i&&!e,...s});const v=t.toLowerCase();if(m&&(e||f)){const o=g.jsx(r,{...a});if(typeof process!=="undefined"&&typeof((b=process==null?void 0:process.env)==null?void 0:b.PK_ENABLE_DEBUG_LOGS)==="string"){console.debug(`[hydrate] createLazyWrapper “${t}” rendering client (priority=${Boolean(e)}, visible=${f})`)}const p={"data-island":v};if(e){p.priority=e}return l.cloneElement(o,p)}else{const o=g.jsx(c,{...a});if(typeof process!=="undefined"&&typeof((_=process==null?void 0:process.env)==null?void 0:_.PK_ENABLE_DEBUG_LOGS)==="string"){console.debug(`[hydrate] createLazyWrapper “${t}” rendering server (visible=${f})`)}return l.cloneElement(o,{"data-island":v,ref:O})}},"LazyWrapper");n.displayName=`${t}Lazy`;return n}u(E,"createLazyWrapper");try{E.displayName="createLazyWrapper";E.__docgenInfo={"description":"","displayName":"createLazyWrapper","props":{"name":{"defaultValue":null,"description":"","name":"name","required":true,"type":{"name":"string"}},"Client":{"defaultValue":null,"description":"","name":"Client","required":true,"type":{"name":"ComponentType<P>"}},"Server":{"defaultValue":null,"description":"","name":"Server","required":true,"type":{"name":"ComponentType<P>"}},"hydrateOnVisible":{"defaultValue":{value:"false"},"description":"","name":"hydrateOnVisible","required":false,"type":{"name":"boolean"}},"ioOptions":{"defaultValue":null,"description":"","name":"ioOptions","required":false,"type":{"name":"IntersectionObserverInit"}},"isInteractive":{"defaultValue":null,"description":"","name":"isInteractive","required":false,"type":{"name":"((props: Readonly<P>) => boolean)"}}}}}catch(t){}export{E as c};
