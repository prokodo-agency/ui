var c=Object.defineProperty;var o=(s,n)=>c(s,"name",{value:n,configurable:true});import{j as e}from"./jsx-runtime-CGXnEs--.js";import{useMDXComponents as d}from"./index-BVI55TNc.js";import{ae as h,af as i,ag as r,ah as a}from"./index-BiRdTy4i.js";import{A as x,D as t,L as j,E as m,a as p,M as u}from"./Autocomplete.stories-BNmijLVX.js";import"./index-Dko9tpwX.js";import"./_commonjsHelpers-DRKe4gOT.js";import"./iframe-HtAnAIQl.js";import"../sb-preview/runtime.js";import"./index-wC6Z_Uz1.js";import"./index-hB-uq45w.js";import"./index-DLBta3fP.js";import"./index-hDBHWYcz.js";import"./index-DFiNSBvt.js";import"./createIsland-D0Kq_01P.js";import"./bem-DSWMYwqE.js";import"./validations-hwxYw-LN.js";import"./Input-DmWGefGI.js";import"./Input.view-Doh4Mgb3.js";import"./Label-X7jo9b-B.js";import"./Loading-ET0hQN1p.js";function l(s){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...d(),...s.components};return e.jsxs(e.Fragment,{children:[e.jsx(h,{of:x}),"\n",e.jsx(n.h1,{id:"autocomplete",children:"Autocomplete"}),"\n",e.jsx(n.p,{children:"Accessible text-input with dynamic suggestion listbox and keyboard navigation."}),"\n",e.jsx(n.h2,{id:"when-to-use",children:"When to use"}),"\n",e.jsxs(n.p,{children:["Use ",e.jsx(n.code,{children:"Autocomplete"})," when users must pick from a large or remote set of options — package search, user lookup, or address completion. For small static lists prefer ",e.jsx(n.code,{children:"Select"}),"."]}),"\n",e.jsx(n.h2,{id:"accessibility-wcag-22",children:"Accessibility (WCAG 2.2)"}),"\n",e.jsxs(n.p,{children:[e.jsx(n.code,{children:"Autocomplete"})," follows the ARIA combobox pattern (ARIA 1.2):"]}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:["input uses ",e.jsx(n.code,{children:'role="combobox"'}),", ",e.jsx(n.code,{children:"aria-expanded"}),", ",e.jsx(n.code,{children:"aria-controls"}),", and ",e.jsx(n.code,{children:"aria-activedescendant"})]}),"\n",e.jsxs(n.li,{children:["listbox uses ",e.jsx(n.code,{children:'role="listbox"'}),"; each option uses ",e.jsx(n.code,{children:'role="option"'})," with ",e.jsx(n.code,{children:"aria-selected"})]}),"\n",e.jsx(n.li,{children:"empty state and loading state are announced via live regions"}),"\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"name"})," is required for native form submission and label association"]}),"\n"]}),"\n",e.jsx(n.h3,{id:"keyboard-behavior",children:"Keyboard behavior"}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:[e.jsx(n.strong,{children:"ArrowDown / ArrowUp"}),": navigate the option list"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.strong,{children:"Enter"}),": select the currently highlighted option"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.strong,{children:"Escape"}),": close the listbox and return to input"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.strong,{children:"Tab"}),": closes listbox and moves focus forward"]}),"\n"]}),"\n",e.jsx(n.h2,{id:"api-notes",children:"API notes"}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"value"})," + ",e.jsx(n.code,{children:"onChange"})," enables controlled mode for the query string"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"onSelect(item)"})," fires when an option is confirmed (click or Enter)"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"items"})," is the suggestion list rendered drive from outside (remote or filtered)"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"loading"})," + ",e.jsx(n.code,{children:"loadingText"})," show a spinner row while results are fetched"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"emptyText"})," is shown when ",e.jsx(n.code,{children:"items"})," is empty and the query exceeds ",e.jsx(n.code,{children:"minQueryLength"})]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"minQueryLength"})," + ",e.jsx(n.code,{children:"minQueryLengthText"})," gate search until sufficient input"]}),"\n",e.jsxs(n.li,{children:[e.jsx(n.code,{children:"inputProps"})," passes-through advanced ",e.jsx(n.code,{children:"Input"})," props like ",e.jsx(n.code,{children:"hideLabel"}),", ",e.jsx(n.code,{children:"helperText"})]}),"\n"]}),"\n",e.jsx(n.h2,{id:"-do",children:"✅ Do"}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:["Debounce the ",e.jsx(n.code,{children:"onChange"})," handler when triggering remote calls"]}),"\n",e.jsxs(n.li,{children:["Always provide ",e.jsx(n.code,{children:"emptyText"})," so users know when there are no results"]}),"\n",e.jsxs(n.li,{children:["Use ",e.jsx(n.code,{children:"minQueryLength"})," (usually 2–3) to avoid triggering on every keystroke"]}),"\n"]}),"\n",e.jsx(n.h2,{id:"-dont",children:"❌ Don't"}),"\n",e.jsxs(n.ul,{children:["\n",e.jsxs(n.li,{children:["Don't use ",e.jsx(n.code,{children:"Autocomplete"})," for pre-known static short lists — use ",e.jsx(n.code,{children:"Select"})]}),"\n",e.jsxs(n.li,{children:["Don't omit ",e.jsx(n.code,{children:"name"})," — it breaks form association and a11y"]}),"\n",e.jsxs(n.li,{children:["Don't manipulate ",e.jsx(n.code,{children:"items"})," synchronously inside the ",e.jsx(n.code,{children:"onSelect"})," handler — it may briefly show stale results"]}),"\n"]}),"\n",e.jsx(n.h2,{id:"examples",children:"Examples"}),"\n",e.jsx(n.h3,{id:"default",children:"Default"}),"\n",e.jsx(i,{children:e.jsx(r,{of:t})}),"\n",e.jsx(n.h3,{id:"loading-state",children:"Loading state"}),"\n",e.jsx(i,{children:e.jsx(r,{of:j})}),"\n",e.jsx(n.h3,{id:"empty-state",children:"Empty state"}),"\n",e.jsx(i,{children:e.jsx(r,{of:m})}),"\n",e.jsx(n.h3,{id:"disabled",children:"Disabled"}),"\n",e.jsx(i,{children:e.jsx(r,{of:p})}),"\n",e.jsx(n.h3,{id:"minimum-query-length",children:"Minimum query length"}),"\n",e.jsx(i,{children:e.jsx(r,{of:u})}),"\n",e.jsx(n.h3,{id:"props",children:"Props"}),"\n",e.jsx(a,{of:t})]})}o(l,"_createMdxContent");function X(s={}){const{wrapper:n}={...d(),...s.components};return n?e.jsx(n,{...s,children:e.jsx(l,{...s})}):l(s)}o(X,"MDXContent");export{X as default};
