@use "@/styles/ui/mixins/accessibility" as *;
@use "@/styles/designsystem/mixins/screens" as *;
@use "@/styles/designsystem/mixins/texts" as *;
@use "@/styles/designsystem/config/screens" as *;
@use "@/styles/designsystem/config/radials" as *;
@use "@/styles/designsystem/config/spaces" as *;
@use "@/styles/ui/mixins/bem" as *;

@include define-block("PostItem") {
  &__grid {
    /* Mobile: stacked, image on top via order */
    display: flex;
    flex-direction: column-reverse;
    gap: $space-lg;
    align-items: stretch;

    @include screenLargerThan($screen-lg) {
      flex-direction: row;
      align-items: flex-start;
      gap: $space-xl;
    }
  }

  &__media {
    order: -1;
    width: 100%;
    min-width: 0;

    @include screenLargerThan($screen-lg) {
      order: 0;
      flex: 0 1 66.666%;
      max-width: 66.666%;
      min-width: 0; /* prevent overflow pushing layout */
    }
  }

  &__main {
    order: 0;
    width: 100%;
    min-width: 0;

    @include screenLargerThan($screen-lg) {
      order: 1;
      flex: 0 1 33.333%;
      max-width: 33.333%;
      min-width: 0;
    }
  }
  
  &__animation {
    transform: none;
  }

  &__headline {
    @include textLineClamp(2);
  }

  &__info {
    display: flex;
    align-items: center;
  }

  &__date {
    color: var(--color-grey-300);
    @include text("base");
  }

  &__read__count {
    padding-left: $space-md;
    color: var(--color-grey-300);
    @include text("base");
  }

  &__content {
    display: flex;
    align-items: center;
    min-width: 0;            /* ← prevent long lines from forcing column wider */
    overflow-wrap: anywhere; /* ← allow breaking long words/URLs */
    @include text("base");

    &__paragraph {
      color: var(--color-grey-500);
      @include textLineClamp(3);
    }
  }

  &__image {
    min-height: 300px;
    min-height: 300px;
    object-fit: cover;

    &__wrapper {
      width: 100%;
      min-width: 300px;
      min-height: 300px;
      border-radius: $ui-background-border-radius;
      overflow: hidden;
      transform: none; /* prevent overlay */
    }
  }

  &__button {
    width: 100%;
    margin-top: $space-lg;

    &__content {
      justify-content: flex-start;
    }

    @include screenLargerThan($screen-sm) {
      width: auto;
    }
  }
}
